!function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:r})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var i in e)t.d(r,i,function(t){return e[t]}.bind(null,i));return r},t.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="https://teams.microsoft.com/statics/teams-modular-packages/share-to-teams/hashed-assets/",t(t.s=1078)}({1078:function(e,t,n){e.exports=n(1079)},1079:function(e,t,n){"use strict";n.r(t);var r=n(161);Object(r.a)(document,"https://teams.microsoft.com/share")},160:function(e,t){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMzhweCIgaGVpZ2h0PSIzOHB4IiB2aWV3Qm94PSIwIDAgMzggMzgiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDUxLjIgKDU3NTE5KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5MYXJnZWJ1dHRvbjwvdGl0bGU+CiAgICA8ZGVzYz5DcmVhdGVkIHdpdGggU2tldGNoLjwvZGVzYz4KICAgIDxkZWZzPgogICAgICAgIDxyZWN0IGlkPSJwYXRoLTEiIHg9IjAiIHk9IjAiIHdpZHRoPSIzMiIgaGVpZ2h0PSIzMiIgcng9IjIiPjwvcmVjdD4KICAgICAgICA8ZmlsdGVyIHg9Ii0yMC43JSIgeT0iLTE0LjUlIiB3aWR0aD0iMTQxLjQlIiBoZWlnaHQ9IjE0MS40JSIgZmlsdGVyVW5pdHM9Im9iamVjdEJvdW5kaW5nQm94IiBpZD0iZmlsdGVyLTIiPgogICAgICAgICAgICA8ZmVNb3JwaG9sb2d5IHJhZGl1cz0iMC4zNzUiIG9wZXJhdG9yPSJlcm9kZSIgaW49IlNvdXJjZUFscGhhIiByZXN1bHQ9InNoYWRvd1NwcmVhZE91dGVyMSI+PC9mZU1vcnBob2xvZ3k+CiAgICAgICAgICAgIDxmZU9mZnNldCBkeD0iMCIgZHk9IjIiIGluPSJzaGFkb3dTcHJlYWRPdXRlcjEiIHJlc3VsdD0ic2hhZG93T2Zmc2V0T3V0ZXIxIj48L2ZlT2Zmc2V0PgogICAgICAgICAgICA8ZmVHYXVzc2lhbkJsdXIgc3RkRGV2aWF0aW9uPSIyIiBpbj0ic2hhZG93T2Zmc2V0T3V0ZXIxIiByZXN1bHQ9InNoYWRvd0JsdXJPdXRlcjEiPjwvZmVHYXVzc2lhbkJsdXI+CiAgICAgICAgICAgIDxmZUNvbG9yTWF0cml4IHZhbHVlcz0iMCAwIDAgMCAwICAgMCAwIDAgMCAwICAgMCAwIDAgMCAwICAwIDAgMCAwLjI1IDAiIHR5cGU9Im1hdHJpeCIgaW49InNoYWRvd0JsdXJPdXRlcjEiPjwvZmVDb2xvck1hdHJpeD4KICAgICAgICA8L2ZpbHRlcj4KICAgIDwvZGVmcz4KICAgIDxnIGlkPSJTaGFyZS10by1JdGVyYXRpb25zIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8ZyBpZD0iRGVjay1Db3B5LTE1IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtNDAwLjAwMDAwMCwgLTUwNS4wMDAwMDApIj4KICAgICAgICAgICAgPGcgaWQ9IkxhcmdlYnV0dG9uIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg0MDMuMDAwMDAwLCA1MDYuMDAwMDAwKSI+CiAgICAgICAgICAgICAgICA8ZyBpZD0iTWlzYy9CdXR0b24vUHJpbWFyeSI+CiAgICAgICAgICAgICAgICAgICAgPGcgaWQ9Ik1pc2MvQnV0dG9uL3pNaXNjL1ByaW1hcnkvQ29sb3JzL1Jlc3QiPgogICAgICAgICAgICAgICAgICAgICAgICA8ZyBpZD0iQmFja2dyb3VuZCI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dXNlIGZpbGw9ImJsYWNrIiBmaWxsLW9wYWNpdHk9IjEiIGZpbHRlcj0idXJsKCNmaWx0ZXItMikiIHhsaW5rOmhyZWY9IiNwYXRoLTEiPjwvdXNlPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPHVzZSBmaWxsPSIjNjI2NEE3IiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIHhsaW5rOmhyZWY9IiNwYXRoLTEiPjwvdXNlPgogICAgICAgICAgICAgICAgICAgICAgICA8L2c+CiAgICAgICAgICAgICAgICAgICAgPC9nPgogICAgICAgICAgICAgICAgPC9nPgogICAgICAgICAgICAgICAgPHJlY3QgaWQ9IkJvdW5kaW5nLUJveCIgeD0iMCIgeT0iMCIgd2lkdGg9IjMyIiBoZWlnaHQ9IjMyIj48L3JlY3Q+CiAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTcuNDkyMTg3NSwyMy40OTIxODc1IEw4LjQ5MjE4NzUsMjEuOTYwOTM3NSBMOC40OTIxODc1LDEwLjAzMTI1IEwxNy40OTIxODc1LDguNDkyMTg3NSBMMTcuNDkyMTg3NSwyMy40OTIxODc1IFogTTEwLjk5MjE4NzUsMTMuMjE4NzUgTDEwLjk5MjE4NzUsMTQuMDYyNSBMMTIuNDkyMTg3NSwxNC4wMDc4MTI1IEwxMi40OTIxODc1LDE3LjkzNzUgTDEzLjQ5MjE4NzUsMTcuOTkyMTg3NSBMMTMuNDkyMTg3NSwxMy45NzY1NjI1IEwxNC45OTIxODc1LDEzLjkxNDA2MjUgTDE0Ljk5MjE4NzUsMTIuOTkyMTg3NSBMMTAuOTkyMTg3NSwxMy4yMTg3NSBaIE0yMC40OTIxODc1LDE5LjM2NzE4NzUgQzIwLjQ5MjE4NzUsMTkuNjAxNTYzNyAyMC40Mzg4MDI2LDE5LjgwODU5MjkgMjAuMzMyMDMxMiwxOS45ODgyODEyIEMyMC4yMjUyNTk5LDIwLjE2Nzk2OTYgMjAuMDc4MTI1OSwyMC4zMTUxMDM2IDE5Ljg5MDYyNSwyMC40Mjk2ODc1IEMxOS43MTg3NDkxLDIwLjUzOTA2MyAxOS41MjQ3NDA3LDIwLjYyMjM5NTUgMTkuMzA4NTkzOCwyMC42Nzk2ODc1IEMxOS4wOTI0NDY4LDIwLjczNjk3OTUgMTguODcyMzk3LDIwLjc2NTYyNSAxOC42NDg0Mzc1LDIwLjc2NTYyNSBDMTguMzg4MDE5NSwyMC43NjU2MjUgMTguMTY5MjcxNywyMC43MjkxNjcgMTcuOTkyMTg3NSwyMC42NTYyNSBMMTcuOTkyMTg3NSwxNC40OTIxODc1IEwyMC40OTIxODc1LDE0LjQ5MjE4NzUgTDIwLjQ5MjE4NzUsMTkuMzY3MTg3NSBaIE0yMy40OTIxODc1LDE1LjQ5MjE4NzUgTDIzLjQ5MjE4NzUsMTguNDE0MDYyNSBDMjMuNDkyMTg3NSwxOC43Nzg2NDc3IDIzLjMxMjUwMTgsMTkuMDU5ODk0OCAyMi45NTMxMjUsMTkuMjU3ODEyNSBDMjIuODA3MjkwOSwxOS4zNDExNDYzIDIyLjY0MTkyOCwxOS40MDIzNDM2IDIyLjQ1NzAzMTIsMTkuNDQxNDA2MiBDMjIuMjcyMTM0NSwxOS40ODA0Njg5IDIyLjA5Mzc1MDksMTkuNSAyMS45MjE4NzUsMTkuNSBMMjAuOTkyMTg3NSwxOS40OTIxODc1IEwyMC45OTIxODc1LDE1LjQ5MjE4NzUgTDIzLjQ5MjE4NzUsMTUuNDkyMTg3NSBaIE0xOC43OTY4NzUsMTAuOTkyMTg3NSBDMTkuMDAwMDAxLDEwLjk5MjE4NzUgMTkuMTkyNzA3NCwxMS4wMjk5NDc1IDE5LjM3NSwxMS4xMDU0Njg4IEMxOS41NTcyOTI2LDExLjE4MDk5IDE5LjcxODc0OTMsMTEuMjg5MDYxOCAxOS44NTkzNzUsMTEuNDI5Njg3NSBDMjAuMDAwMDAwNywxMS41NzU1MjE2IDIwLjEwOTM3NDYsMTEuNzM5NTgyNCAyMC4xODc1LDExLjkyMTg3NSBDMjAuMjY1NjI1NCwxMi4xMDQxNjc2IDIwLjMwNDY4NzUsMTIuMjk0MjY5OCAyMC4zMDQ2ODc1LDEyLjQ5MjE4NzUgQzIwLjMwNDY4NzUsMTIuNjk1MzEzNSAyMC4yNjY5Mjc1LDEyLjg4ODAxOTkgMjAuMTkxNDA2MiwxMy4wNzAzMTI1IEMyMC4xMTU4ODUsMTMuMjUyNjA1MSAyMC4wMDc4MTMyLDEzLjQxNDA2MTggMTkuODY3MTg3NSwxMy41NTQ2ODc1IEMxOS43MjY1NjE4LDEzLjY5NTMxMzIgMTkuNTYzODAzLDEzLjgwMzM4NSAxOS4zNzg5MDYyLDEzLjg3ODkwNjIgQzE5LjE5NDAwOTUsMTMuOTU0NDI3NSAxOS4wMDI2MDUyLDEzLjk5MjE4NzUgMTguODA0Njg3NSwxMy45OTIxODc1IEMxOC43NTc4MTIzLDEzLjk5MjE4NzUgMTguNjkwMTA0NiwxMy45ODQzNzUxIDE4LjYwMTU2MjUsMTMuOTY4NzUgQzE4LjUxMzAyMDQsMTMuOTUzMTI0OSAxOC40MjcwODM4LDEzLjkyOTY4NzcgMTguMzQzNzUsMTMuODk4NDM3NSBDMTguMTA5MzczOCwxMy44MjAzMTIxIDE3Ljk5MjE4NzUsMTMuNzM2OTc5NiAxNy45OTIxODc1LDEzLjY0ODQzNzUgTDE3Ljk5MjE4NzUsMTEuMzM1OTM3NSBDMTcuOTkyMTg3NSwxMS4yNTI2MDM3IDE4LjEwNjc2OTcsMTEuMTcxODc1NCAxOC4zMzU5Mzc1LDExLjA5Mzc1IEMxOC40MjQ0Nzk2LDExLjA2MjQ5OTggMTguNTExNzE4MywxMS4wMzc3NjA1IDE4LjU5NzY1NjIsMTEuMDE5NTMxMiBDMTguNjgzNTk0MiwxMS4wMDEzMDIgMTguNzQ5OTk5OCwxMC45OTIxODc1IDE4Ljc5Njg3NSwxMC45OTIxODc1IFogTTIyLjI0MjE4NzUsMTEuOTkyMTg3NSBDMjIuNDA4ODU1LDExLjk5MjE4NzUgMjIuNTY5MDA5NiwxMi4wMjQ3MzkzIDIyLjcyMjY1NjIsMTIuMDg5ODQzOCBDMjIuODc2MzAyOSwxMi4xNTQ5NDgyIDIzLjAxMDQxNjEsMTIuMjQ0NzkxMSAyMy4xMjUsMTIuMzU5Mzc1IEMyMy4yMzk1ODM5LDEyLjQ3Mzk1ODkgMjMuMzI5NDI2OCwxMi42MDgwNzIxIDIzLjM5NDUzMTIsMTIuNzYxNzE4OCBDMjMuNDU5NjM1NywxMi45MTUzNjU0IDIzLjQ5MjE4NzUsMTMuMDc1NTIgMjMuNDkyMTg3NSwxMy4yNDIxODc1IEMyMy40OTIxODc1LDEzLjQwODg1NSAyMy40NTk2MzU3LDEzLjU2OTAwOTYgMjMuMzk0NTMxMiwxMy43MjI2NTYyIEMyMy4zMjk0MjY4LDEzLjg3NjMwMjkgMjMuMjM5NTgzOSwxNC4wMTA0MTYxIDIzLjEyNSwxNC4xMjUgQzIzLjAxMDQxNjEsMTQuMjM5NTgzOSAyMi44NzYzMDI5LDE0LjMyOTQyNjggMjIuNzIyNjU2MiwxNC4zOTQ1MzEyIEMyMi41NjkwMDk2LDE0LjQ1OTYzNTcgMjIuNDA4ODU1LDE0LjQ5MjE4NzUgMjIuMjQyMTg3NSwxNC40OTIxODc1IEMyMi4wNzU1MiwxNC40OTIxODc1IDIxLjkxNTM2NTQsMTQuNDU5NjM1NyAyMS43NjE3MTg4LDE0LjM5NDUzMTIgQzIxLjYwODA3MjEsMTQuMzI5NDI2OCAyMS40NzM5NTg5LDE0LjIzOTU4MzkgMjEuMzU5Mzc1LDE0LjEyNSBDMjEuMjQ0NzkxMSwxNC4wMTA0MTYxIDIxLjE1NDk0ODIsMTMuODc2MzAyOSAyMS4wODk4NDM4LDEzLjcyMjY1NjIgQzIxLjAyNDczOTMsMTMuNTY5MDA5NiAyMC45OTIxODc1LDEzLjQwODg1NSAyMC45OTIxODc1LDEzLjI0MjE4NzUgQzIwLjk5MjE4NzUsMTMuMDc1NTIgMjEuMDI0NzM5MywxMi45MTUzNjU0IDIxLjA4OTg0MzgsMTIuNzYxNzE4OCBDMjEuMTU0OTQ4MiwxMi42MDgwNzIxIDIxLjI0NDc5MTEsMTIuNDczOTU4OSAyMS4zNTkzNzUsMTIuMzU5Mzc1IEMyMS40NzM5NTg5LDEyLjI0NDc5MTEgMjEuNjA4MDcyMSwxMi4xNTQ5NDgyIDIxLjc2MTcxODgsMTIuMDg5ODQzOCBDMjEuOTE1MzY1NCwxMi4wMjQ3MzkzIDIyLjA3NTUyLDExLjk5MjE4NzUgMjIuMjQyMTg3NSwxMS45OTIxODc1IFoiIGlkPSLihrNJY29uIiBmaWxsPSIjRkZGRkZGIj48L3BhdGg+CiAgICAgICAgICAgIDwvZz4KICAgICAgICA8L2c+CiAgICA8L2c+Cjwvc3ZnPg=="},161:function(e,t,n){"use strict";function r(e){return e&&!!e.href}function i(e){var t=e.preview;return t?"true"!==t&&"false"!==t?(s('data-preview is not a valid value.  Use "true" or "false".  Value given:',t),"true"):t:"true"}function o(e){var t=e.iconPxSize;if(t){var n=parseInt(t,10),r="";return isNaN(n)?r="is not an integer":0>=n?r="must be positive":n>l&&(s("data-icon-px-size must be no more than "+l+". Reverted to "+l+"."),n=l),r?(s("data-icon-px-size "+r+". Value given: "+t),h):n}return h}function s(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];console.warn.apply(console,[f].concat(e))}function a(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];console.error.apply(console,[f].concat(e))}var c=n(160),u=n.n(c);n.d(t,"a",function(){return p});var h=32,l=128,f="Share To Microsoft Teams: ",p=function(e,t){var n=e.getElementsByClassName("teams-share-button");if(n&&n.length)for(var c=0;c<n.length;c++){var h=n.item(c),l=h.dataset;if(r(l)){var f=l.href,p=encodeURIComponent(f),d=o(l),g=i(l);h.innerHTML='<a target="popup" onclick="window.open(\''+t+"?href="+p+"&preview="+g+"', 'popup', 'width=700,height=600'); return false\" href=\"#\"><img src=\""+u.a+'" width="'+d+'" height="'+d+'"/></a>'}else a("data-href must be specified.")}else s("No Share To Microsoft Teams Element found")}}}),function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=21)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(35);t.AudioConfig=r.AudioConfig;var i=n(18);t.AudioStreamFormat=i.AudioStreamFormat;var o=n(17);t.AudioInputStream=o.AudioInputStream,t.PullAudioInputStream=o.PullAudioInputStream,t.PushAudioInputStream=o.PushAudioInputStream;var s=n(36);t.CancellationReason=s.CancellationReason;var a=n(37);t.PullAudioInputStreamCallback=a.PullAudioInputStreamCallback;var c=n(38);t.KeywordRecognitionModel=c.KeywordRecognitionModel;var u=n(39);t.SessionEventArgs=u.SessionEventArgs;var h=n(40);t.RecognitionEventArgs=h.RecognitionEventArgs;var l=n(41);t.OutputFormat=l.OutputFormat;var f=n(42);t.IntentRecognitionEventArgs=f.IntentRecognitionEventArgs;var p=n(43);t.RecognitionResult=p.RecognitionResult;var d=n(44);t.SpeechRecognitionResult=d.SpeechRecognitionResult;var g=n(45);t.IntentRecognitionResult=g.IntentRecognitionResult;var v=n(46);t.LanguageUnderstandingModel=v.LanguageUnderstandingModel;var y=n(47);t.SpeechRecognitionEventArgs=y.SpeechRecognitionEventArgs;var m=n(48);t.SpeechRecognitionCanceledEventArgs=m.SpeechRecognitionCanceledEventArgs;var b=n(49);t.TranslationRecognitionEventArgs=b.TranslationRecognitionEventArgs;var S=n(50);t.TranslationSynthesisEventArgs=S.TranslationSynthesisEventArgs;var w=n(51);t.TranslationRecognitionResult=w.TranslationRecognitionResult;var I=n(52);t.TranslationSynthesisResult=I.TranslationSynthesisResult;var E=n(53);t.ResultReason=E.ResultReason;var A=n(54);t.SpeechConfig=A.SpeechConfig;var O=n(80);t.SpeechTranslationConfig=O.SpeechTranslationConfig;var C=n(81);t.PropertyCollection=C.PropertyCollection;var _=n(82);t.PropertyId=_.PropertyId;var R=n(83);t.Recognizer=R.Recognizer;var T=n(84);t.SpeechRecognizer=T.SpeechRecognizer;var M=n(85);t.IntentRecognizer=M.IntentRecognizer;var P=n(86);t.TranslationRecognizer=P.TranslationRecognizer;var D=n(87);t.Translations=D.Translations;var N=n(88);t.NoMatchReason=N.NoMatchReason;var j=n(89);t.NoMatchDetails=j.NoMatchDetails;var x=n(90);t.TranslationRecognitionCanceledEventArgs=x.TranslationRecognitionCanceledEventArgs;var k=n(91);t.IntentRecognitionCanceledEventArgs=k.IntentRecognitionCanceledEventArgs;var L=n(92);t.CancellationDetails=L.CancellationDetails;var H=n(93);t.CancellationErrorCode=H.CancellationErrorCode},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(24)),r(n(25)),r(n(11)),r(n(26)),r(n(3)),r(n(27)),r(n(12)),r(n(5)),r(n(28)),r(n(13)),r(n(14)),r(n(7)),r(n(15)),r(n(16)),r(n(29)),r(n(30)),r(n(31)),r(n(32));var i=n(8);t.TranslationStatus=i.TranslationStatus},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(55)),r(n(56)),r(n(9)),r(n(57)),r(n(10)),r(n(58)),r(n(60)),r(n(61)),r(n(19)),r(n(63)),r(n(64)),r(n(65)),r(n(66)),r(n(67)),r(n(68)),r(n(69)),r(n(70)),r(n(71)),r(n(72)),r(n(73)),r(n(74)),r(n(75)),r(n(76)),r(n(77)),r(n(78)),t.OutputFormatPropertyName="OutputFormat",t.CancellationErrorCodePropertyName="CancellationErrorCode"},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(t){var n=e.call(this,t)||this;return n.name="ArgumentNull",n.message=t,n}return r(t,e),t}(Error);t.ArgumentNullError=i;var o=function(e){function t(t){var n=e.call(this,t)||this;return n.name="InvalidOperation",n.message=t,n}return r(t,e),t}(Error);t.InvalidOperationError=o;var s=function(e){function t(t,n){var r=e.call(this,n)||this;return r.name=t+"ObjectDisposed",r.message=n,r}return r(t,e),t}(Error);t.ObjectDisposedError=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){}return e.throwIfNullOrUndefined=function(e,t){if(void 0===e||null===e)throw new Error("throwIfNullOrUndefined:"+t)},e.throwIfNull=function(e,t){if(null===e)throw new Error("throwIfNull:"+t)},e.throwIfNullOrWhitespace=function(t,n){if(e.throwIfNullOrUndefined(t,n),(""+t).trim().length<1)throw new Error("throwIfNullOrWhitespace:"+n)},e.throwIfDisposed=function(e){if(e)throw new Error("the object is already disposed")},e.throwIfArrayEmptyOrWhitespace=function(t,n){if(e.throwIfNullOrUndefined(t,n),0===t.length)throw new Error("throwIfArrayEmptyOrWhitespace:"+n);for(var r=0,i=t;r<i.length;r++){var o=i[r];e.throwIfNullOrWhitespace(o,n)}},e.throwIfFileDoesNotExist=function(t,n){e.throwIfNullOrWhitespace(t,n)},e}();t.Contracts=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){var e=(new Date).getTime(),t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var n=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"===t?n:3&n|8).toString(16)});return t};t.CreateGuid=r;var i=function(){return r().replace(new RegExp("-","g"),"").toUpperCase()};t.CreateNoDashGuid=i},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(23)),r(n(33)),r(n(34)),r(n(94)),r(n(95)),r(n(96)),r(n(97)),r(n(98)),r(n(99)),r(n(20))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(5);!function(e){e[e.Debug=0]="Debug",e[e.Info=1]="Info",e[e.Warning=2]="Warning",e[e.Error=3]="Error"}(r=t.EventType||(t.EventType={}));var o=function(){function e(e,t){this.name=e,this.eventId=i.CreateNoDashGuid(),this.eventTime=(new Date).toISOString(),this.eventType=t,this.metadata={}}return Object.defineProperty(e.prototype,"Name",{get:function(){return this.name},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"EventId",{get:function(){return this.eventId},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"EventTime",{get:function(){return this.eventTime},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"EventType",{get:function(){return this.eventType},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Metadata",{get:function(){return this.metadata},enumerable:!0,configurable:!0}),e}();t.PlatformEvent=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r;!function(e){e[e.Success=0]="Success",e[e.Error=1]="Error"}(r=t.TranslationStatus||(t.TranslationStatus={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){this.headerName=e,this.token=t}return Object.defineProperty(e.prototype,"HeaderName",{get:function(){return this.headerName},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Token",{get:function(){return this.token},enumerable:!0,configurable:!0}),e}();t.AuthInfo=r},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=function(e){function t(t,n,r,o){void 0===o&&(o=i.EventType.Info);var s=e.call(this,t,o)||this;return s.requestId=n,s.sessionId=r,s}return r(t,e),Object.defineProperty(t.prototype,"RequestId",{get:function(){return this.requestId},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"SessionId",{get:function(){return this.sessionId},enumerable:!0,configurable:!0}),t}(i.PlatformEvent);t.SpeechRecognitionEvent=o;var s=function(e){function t(t,n,r,i){var o=e.call(this,"RecognitionTriggeredEvent",t,n)||this;return o.audioSourceId=r,o.audioNodeId=i,o}return r(t,e),Object.defineProperty(t.prototype,"AudioSourceId",{get:function(){return this.audioSourceId},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"AudioNodeId",{get:function(){return this.audioNodeId},enumerable:!0,configurable:!0}),t}(o);t.RecognitionTriggeredEvent=s;var a=function(e){function t(t,n,r,i){var o=e.call(this,"ListeningStartedEvent",t,n)||this;return o.audioSourceId=r,o.audioNodeId=i,o}return r(t,e),Object.defineProperty(t.prototype,"AudioSourceId",{get:function(){return this.audioSourceId},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"AudioNodeId",{get:function(){return this.audioNodeId},enumerable:!0,configurable:!0}),t}(o);t.ListeningStartedEvent=a;var c=function(e){function t(t,n,r){var i=e.call(this,"ConnectingToServiceEvent",t,r)||this;return i.authFetchEventid=n,i}return r(t,e),Object.defineProperty(t.prototype,"AuthFetchEventid",{get:function(){return this.authFetchEventid},enumerable:!0,configurable:!0}),t}(o);t.ConnectingToServiceEvent=c;var u=function(e){function t(t,n,r,i,o){var s=e.call(this,"RecognitionStartedEvent",t,o)||this;return s.audioSourceId=n,s.audioNodeId=r,s.authFetchEventId=i,s}return r(t,e),Object.defineProperty(t.prototype,"AudioSourceId",{get:function(){return this.audioSourceId},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"AudioNodeId",{get:function(){return this.audioNodeId},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"AuthFetchEventId",{get:function(){return this.authFetchEventId},enumerable:!0,configurable:!0}),t}(o);t.RecognitionStartedEvent=u;var h;!function(e){e[e.Success=0]="Success",e[e.AudioSourceError=1]="AudioSourceError",e[e.AudioSourceTimeout=2]="AudioSourceTimeout",e[e.AuthTokenFetchError=3]="AuthTokenFetchError",e[e.AuthTokenFetchTimeout=4]="AuthTokenFetchTimeout",e[e.UnAuthorized=5]="UnAuthorized",e[e.ConnectTimeout=6]="ConnectTimeout",e[e.ConnectError=7]="ConnectError",e[e.ClientRecognitionActivityTimeout=8]="ClientRecognitionActivityTimeout",e[e.UnknownError=9]="UnknownError"}(h=t.RecognitionCompletionStatus||(t.RecognitionCompletionStatus={}));var l=function(e){function t(t,n,r,o,s,a,c,u){var l=e.call(this,"RecognitionEndedEvent",t,s,c===h.Success?i.EventType.Info:i.EventType.Error)||this;return l.audioSourceId=n,l.audioNodeId=r,l.authFetchEventId=o,l.status=c,l.error=u,l.serviceTag=a,l}return r(t,e),Object.defineProperty(t.prototype,"AudioSourceId",{get:function(){return this.audioSourceId},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"AudioNodeId",{get:function(){return this.audioNodeId},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"AuthFetchEventId",{get:function(){return this.authFetchEventId},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ServiceTag",{get:function(){return this.serviceTag},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Status",{get:function(){return this.status},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Error",{get:function(){return this.error},enumerable:!0,configurable:!0}),t}(o);t.RecognitionEndedEvent=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(3),o=n(5);!function(e){e[e.Text=0]="Text",e[e.Binary=1]="Binary"}(r=t.MessageType||(t.MessageType={}));var s=function(){function e(e,t,n,s){if(this.body=null,e===r.Text&&t&&"string"!=typeof t)throw new i.InvalidOperationError("Payload must be a string");if(e===r.Binary&&t&&!(t instanceof ArrayBuffer))throw new i.InvalidOperationError("Payload must be ArrayBuffer");this.messageType=e,this.body=t,this.headers=n?n:{},this.id=s?s:o.CreateNoDashGuid()}return Object.defineProperty(e.prototype,"MessageType",{get:function(){return this.messageType},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Headers",{get:function(){return this.headers},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Body",{get:function(){return this.body},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"TextBody",{get:function(){if(this.messageType===r.Binary)throw new i.InvalidOperationError("Not supported for binary message");return this.body},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"BinaryBody",{get:function(){if(this.messageType===r.Text)throw new i.InvalidOperationError("Not supported for text message");return this.body},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Id",{get:function(){return this.id},enumerable:!0,configurable:!0}),e}();t.ConnectionMessage=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=n(5),o=function(){function e(e){var t=this;this.eventListeners={},this.isDisposed=!1,this.OnEvent=function(e){if(t.IsDisposed())throw new r.ObjectDisposedError("EventSource");if(t.Metadata)for(var n in t.Metadata)n&&e.Metadata&&(e.Metadata[n]||(e.Metadata[n]=t.Metadata[n]));for(var i in t.eventListeners)i&&t.eventListeners[i]&&t.eventListeners[i](e)},this.Attach=function(e){var n=i.CreateNoDashGuid();return t.eventListeners[n]=e,{Detach:function(){delete t.eventListeners[n]}}},this.AttachListener=function(e){return t.Attach(e.OnEvent)},this.IsDisposed=function(){return t.isDisposed},this.Dispose=function(){t.eventListeners=null,t.isDisposed=!0},this.metadata=e}return Object.defineProperty(e.prototype,"Metadata",{get:function(){return this.metadata},enumerable:!0,configurable:!0}),e}();t.EventSource=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=function(){function e(){var e=this;this.store={},this.Get=function(t){if(!t)throw new r.ArgumentNullError("key");return e.store[t]},this.GetOrAdd=function(t,n){if(!t)throw new r.ArgumentNullError("key");return void 0===e.store[t]&&(e.store[t]=n),e.store[t]},this.Set=function(t,n){if(!t)throw new r.ArgumentNullError("key");e.store[t]=n},this.Remove=function(t){if(!t)throw new r.ArgumentNullError("key");void 0!==e.store[t]&&delete e.store[t]}}return e}();t.InMemoryStorage=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=function(){function e(t){var n=this;if(this.subscriptionIdCounter=0,this.addSubscriptions={},this.removeSubscriptions={},this.disposedSubscriptions={},this.disposeReason=null,this.Get=function(e){return n.ThrowIfDisposed(),n.list[e]},this.First=function(){return n.Get(0)},this.Last=function(){return n.Get(n.Length()-1)},this.Add=function(e){n.ThrowIfDisposed(),n.InsertAt(n.list.length,e)},this.InsertAt=function(e,t){n.ThrowIfDisposed(),0===e?n.list.unshift(t):e===n.list.length?n.list.push(t):n.list.splice(e,0,t),n.TriggerSubscriptions(n.addSubscriptions)},this.RemoveFirst=function(){return n.ThrowIfDisposed(),n.RemoveAt(0)},this.RemoveLast=function(){return n.ThrowIfDisposed(),n.RemoveAt(n.Length()-1)},this.RemoveAt=function(e){return n.ThrowIfDisposed(),n.Remove(e,1)[0]},this.Remove=function(e,t){n.ThrowIfDisposed();var r=n.list.splice(e,t);return n.TriggerSubscriptions(n.removeSubscriptions),r},this.Clear=function(){n.ThrowIfDisposed(),n.Remove(0,n.Length())},this.Length=function(){return n.ThrowIfDisposed(),n.list.length},this.OnAdded=function(e){n.ThrowIfDisposed();var t=n.subscriptionIdCounter++;return n.addSubscriptions[t]=e,{Detach:function(){delete n.addSubscriptions[t]}}},this.OnRemoved=function(e){n.ThrowIfDisposed();var t=n.subscriptionIdCounter++;return n.removeSubscriptions[t]=e,{Detach:function(){delete n.removeSubscriptions[t]}}},this.OnDisposed=function(e){n.ThrowIfDisposed();var t=n.subscriptionIdCounter++;return n.disposedSubscriptions[t]=e,{Detach:function(){delete n.disposedSubscriptions[t]}}},this.Join=function(e){return n.ThrowIfDisposed(),n.list.join(e)},this.ToArray=function(){var e=Array();return n.list.forEach(function(t){e.push(t)}),e},this.Any=function(e){return n.ThrowIfDisposed(),e?n.Where(e).Length()>0:n.Length()>0},this.All=function(e){return n.ThrowIfDisposed(),n.Where(e).Length()===n.Length()},this.ForEach=function(e){n.ThrowIfDisposed();for(var t=0;t<n.Length();t++)e(n.list[t],t)},this.Select=function(t){n.ThrowIfDisposed();for(var r=[],i=0;i<n.list.length;i++)r.push(t(n.list[i],i));return new e(r)},this.Where=function(t){n.ThrowIfDisposed();for(var r=new e,i=0;i<n.list.length;i++)t(n.list[i],i)&&r.Add(n.list[i]);return r},this.OrderBy=function(t){n.ThrowIfDisposed();var r=n.ToArray(),i=r.sort(t);return new e(i)},this.OrderByDesc=function(e){return n.ThrowIfDisposed(),n.OrderBy(function(t,n){return e(n,t)})},this.Clone=function(){return n.ThrowIfDisposed(),new e(n.ToArray())},this.Concat=function(t){return n.ThrowIfDisposed(),new e(n.list.concat(t.ToArray()))},this.ConcatArray=function(t){return n.ThrowIfDisposed(),new e(n.list.concat(t))},this.IsDisposed=function(){return null==n.list},this.Dispose=function(e){n.IsDisposed()||(n.disposeReason=e,n.list=null,n.addSubscriptions=null,n.removeSubscriptions=null,n.TriggerSubscriptions(n.disposedSubscriptions))},this.ThrowIfDisposed=function(){if(n.IsDisposed())throw new r.ObjectDisposedError("List",n.disposeReason)},this.TriggerSubscriptions=function(e){if(e)for(var t in e)t&&e[t]()},this.list=[],t)for(var i=0,o=t;i<o.length;i++){var s=o[i];this.list.push(s)}}return e}();t.List=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(3);!function(e){e[e.None=0]="None",e[e.Resolved=1]="Resolved",e[e.Rejected=2]="Rejected"}(r=t.PromiseState||(t.PromiseState={}));var o=function(){function e(e){var t=this;this.ThrowIfError=function(){if(t.IsError)throw t.Error},e.On(function(e){t.isCompleted||(t.isCompleted=!0,t.isError=!1,t.result=e)},function(e){t.isCompleted||(t.isCompleted=!0,t.isError=!0,t.error=e)})}return Object.defineProperty(e.prototype,"IsCompleted",{get:function(){return this.isCompleted},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"IsError",{get:function(){return this.isError},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Error",{get:function(){return this.error},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Result",{get:function(){return this.result},enumerable:!0,configurable:!0}),e}();t.PromiseResult=o;var s=function(){function e(){var e=this;this.SetResult=function(t){e.onSetResult(t)},this.SetError=function(t){e.onSetError(t)},this.On=function(t,n){e.onSetResult=t,e.onSetError=n}}return e}();t.PromiseResultEventSource=s;var a=function(){function e(){}return e.WhenAll=function(e){if(!e||0===e.length)throw new i.ArgumentNullError("promises");for(var t=new u,n=[],r=0,o=function(){r++,r===e.length&&(0===n.length?t.Resolve(!0):t.Reject(n.join(", ")))},s=0,a=e;s<a.length;s++){var c=a[s];c.On(function(e){o()},function(e){n.push(e),o()})}return t.Promise()},e.FromResult=function(e){var t=new u;return t.Resolve(e),t.Promise()},e.FromError=function(e){var t=new u;return t.Reject(e),t.Promise()},e}();t.PromiseHelper=a;var c=function(){function e(e){var t=this;this.Result=function(){return t.sink.Result},this.ContinueWith=function(e){if(!e)throw new i.ArgumentNullError("continuationCallback");var n=new u;return t.sink.on(function(r){try{var i=e(t.sink.Result);n.Resolve(i)}catch(o){n.Reject(o)}},function(r){try{var i=e(t.sink.Result);n.Resolve(i)}catch(o){n.Reject("'Error handler for error "+r+" threw error "+o+"'")}}),n.Promise()},this.OnSuccessContinueWith=function(e){if(!e)throw new i.ArgumentNullError("continuationCallback");var n=new u;return t.sink.on(function(t){try{var r=e(t);n.Resolve(r)}catch(i){n.Reject(i)}},function(e){n.Reject(e)}),n.Promise()},this.ContinueWithPromise=function(e){if(!e)throw new i.ArgumentNullError("continuationCallback");var n=new u;return t.sink.on(function(r){try{var i=e(t.sink.Result);if(!i)throw new Error("'Continuation callback did not return promise'");i.On(function(e){n.Resolve(e)},function(e){n.Reject(e)})}catch(o){n.Reject(o)}},function(r){try{var i=e(t.sink.Result);if(!i)throw new Error("Continuation callback did not return promise");i.On(function(e){n.Resolve(e)},function(e){n.Reject(e)})}catch(o){n.Reject("'Error handler for error "+r+" threw error "+o+"'")}}),n.Promise()},this.OnSuccessContinueWithPromise=function(e){if(!e)throw new i.ArgumentNullError("continuationCallback");var n=new u;return t.sink.on(function(t){try{var r=e(t);if(!r)throw new Error("Continuation callback did not return promise");r.On(function(e){n.Resolve(e)},function(e){n.Reject(e)})}catch(i){n.Reject(i)}},function(e){n.Reject(e)}),n.Promise()},this.On=function(e,n){if(!e)throw new i.ArgumentNullError("successCallback");if(!n)throw new i.ArgumentNullError("errorCallback");return t.sink.on(e,n),t},this.Finally=function(e){if(!e)throw new i.ArgumentNullError("callback");var n=function(t){e()};return t.On(n,n)},this.sink=e}return e}();t.Promise=c;var u=function(){function e(){var e=this;this.State=function(){return e.sink.State},this.Promise=function(){return e.promise},this.Resolve=function(t){return e.sink.Resolve(t),e},this.Reject=function(t){return e.sink.Reject(t),e},this.sink=new h,this.promise=new c(this.sink)}return e}();t.Deferred=u;var h=function(){function e(){var e=this;this.state=r.None,this.promiseResult=null,this.promiseResultEvents=null,this.successHandlers=[],this.errorHandlers=[],this.Resolve=function(t){if(e.state!==r.None)throw new Error("'Cannot resolve a completed promise'");e.state=r.Resolved,e.promiseResultEvents.SetResult(t);for(var n=0;n<e.successHandlers.length;n++)e.ExecuteSuccessCallback(t,e.successHandlers[n],e.errorHandlers[n]);e.DetachHandlers()},this.Reject=function(t){if(e.state!==r.None)throw new Error("'Cannot reject a completed promise'");e.state=r.Rejected,e.promiseResultEvents.SetError(t);for(var n=0,i=e.errorHandlers;n<i.length;n++){var o=i[n];e.ExecuteErrorCallback(t,o)}e.DetachHandlers()},this.on=function(t,n){null==t&&(t=function(e){}),e.state===r.None?(e.successHandlers.push(t),e.errorHandlers.push(n)):(e.state===r.Resolved?e.ExecuteSuccessCallback(e.promiseResult.Result,t,n):e.state===r.Rejected&&e.ExecuteErrorCallback(e.promiseResult.Error,n),e.DetachHandlers())},this.ExecuteSuccessCallback=function(t,n,r){try{n(t)}catch(i){e.ExecuteErrorCallback("'Unhandled callback error: "+i+"'",r)}},this.ExecuteErrorCallback=function(e,t){if(!t)throw new Error("'Unhandled error: "+e+"'");try{t(e)}catch(n){throw new Error("'Unhandled callback error: "+n+". InnerError: "+e+"'");
}},this.DetachHandlers=function(){e.errorHandlers=[],e.successHandlers=[]},this.promiseResultEvents=new s,this.promiseResult=new o(this.promiseResultEvents)}return Object.defineProperty(e.prototype,"State",{get:function(){return this.state},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Result",{get:function(){return this.promiseResult},enumerable:!0,configurable:!0}),e}();t.Sink=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(3),o=n(14),s=n(15);!function(e){e[e.Dequeue=0]="Dequeue",e[e.Peek=1]="Peek"}(r||(r={}));var a=function(){function e(e){var t=this;this.promiseStore=new o.List,this.isDrainInProgress=!1,this.isDisposing=!1,this.disposeReason=null,this.Enqueue=function(e){t.ThrowIfDispose(),t.EnqueueFromPromise(s.PromiseHelper.FromResult(e))},this.EnqueueFromPromise=function(e){t.ThrowIfDispose(),t.promiseStore.Add(e),e.Finally(function(){for(;t.promiseStore.Length()>0&&t.promiseStore.First().Result().IsCompleted;){var e=t.promiseStore.RemoveFirst();e.Result().IsError||t.list.Add(e.Result().Result)}})},this.Dequeue=function(){t.ThrowIfDispose();var e=new s.Deferred;return t.subscribers&&(t.subscribers.Add({deferral:e,type:r.Dequeue}),t.Drain()),e.Promise()},this.Peek=function(){t.ThrowIfDispose();var e=new s.Deferred,n=t.subscribers;return n&&(t.subscribers.Add({deferral:e,type:r.Peek}),t.Drain()),e.Promise()},this.Length=function(){return t.ThrowIfDispose(),t.list.Length()},this.IsDisposed=function(){return null==t.subscribers},this.DrainAndDispose=function(e,n){if(!t.IsDisposed()&&!t.isDisposing){t.disposeReason=n,t.isDisposing=!0;var r=t.subscribers;if(r){for(;r.Length()>0;){var i=r.RemoveFirst();i.deferral.Resolve(void 0)}t.subscribers===r&&(t.subscribers=r)}for(var o=0,a=t.detachables;o<a.length;o++){var c=a[o];c.Detach()}if(t.promiseStore.Length()>0&&e)return s.PromiseHelper.WhenAll(t.promiseStore.ToArray()).ContinueWith(function(){return t.subscribers=null,t.list.ForEach(function(t,n){e(t)}),t.list=null,!0});t.subscribers=null,t.list=null}return s.PromiseHelper.FromResult(!0)},this.Dispose=function(e){t.DrainAndDispose(null,e)},this.Drain=function(){if(!t.isDrainInProgress&&!t.isDisposing){t.isDrainInProgress=!0;var e=t.subscribers,n=t.list;if(e&&n){for(;n.Length()>0&&e.Length()>0&&!t.isDisposing;){var i=e.RemoveFirst();if(i.type===r.Peek)i.deferral.Resolve(n.First());else{var o=n.RemoveFirst();i.deferral.Resolve(o)}}t.subscribers===e&&(t.subscribers=e),t.list===n&&(t.list=n)}t.isDrainInProgress=!1}},this.ThrowIfDispose=function(){if(t.IsDisposed()){if(t.disposeReason)throw new i.InvalidOperationError(t.disposeReason);throw new i.ObjectDisposedError("Queue")}if(t.isDisposing)throw new i.InvalidOperationError("Queue disposing")},this.list=e?e:new o.List,this.detachables=[],this.subscribers=new o.List,this.detachables.push(this.list.OnAdded(this.Drain))}return e}();t.Queue=a},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(5),o=n(1),s=n(0),a=n(18),c=4096,u=function(){function e(){}return e.createPushStream=function(e){return h.create(e)},e.createPullStream=function(e,t){return f.create(e,t)},e}();t.AudioInputStream=u;var h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.create=function(e){return new l(e)},t}(u);t.PushAudioInputStream=h;var l=function(e){function t(t){var n=e.call(this)||this;return n.stream=new o.Stream,n.OnEvent=function(e){n.events.OnEvent(e),o.Events.Instance.OnEvent(e)},void 0===t?n.format=a.AudioStreamFormatImpl.getDefaultInputFormat():n.format=t,n.events=new o.EventSource,n.id=i.CreateNoDashGuid(),n}return r(t,e),Object.defineProperty(t.prototype,"Format",{get:function(){return this.format},enumerable:!0,configurable:!0}),t.prototype.write=function(e){var t;for(t=c-1;t<e.byteLength;t+=c)this.stream.Write(e.slice(t-(c-1),t+1));t-(c-1)!==e.byteLength&&this.stream.Write(e.slice(t-(c-1),e.byteLength))},t.prototype.close=function(){this.stream.Close()},t.prototype.Id=function(){return this.id},t.prototype.TurnOn=function(){return this.OnEvent(new o.AudioSourceInitializingEvent(this.id)),this.OnEvent(new o.AudioSourceReadyEvent(this.id)),o.PromiseHelper.FromResult(!0)},t.prototype.Attach=function(e){var t=this;return this.OnEvent(new o.AudioStreamNodeAttachingEvent(this.id,e)),this.TurnOn().OnSuccessContinueWith(function(e){return t.stream.GetReader()}).OnSuccessContinueWith(function(n){return t.OnEvent(new o.AudioStreamNodeAttachedEvent(t.id,e)),{Detach:function(){n.Close(),t.OnEvent(new o.AudioStreamNodeDetachedEvent(t.id,e)),t.TurnOff()},Id:function(){return e},Read:function(){return n.Read()}}})},t.prototype.Detach=function(e){this.OnEvent(new o.AudioStreamNodeDetachedEvent(this.id,e))},t.prototype.TurnOff=function(){return o.PromiseHelper.FromResult(!1)},Object.defineProperty(t.prototype,"Events",{get:function(){return this.events},enumerable:!0,configurable:!0}),t}(h);t.PushAudioInputStreamImpl=l;var f=function(e){function t(){return e.call(this)||this}return r(t,e),t.create=function(e,t){return new p(e,t)},t}(u);t.PullAudioInputStream=f;var p=function(e){function t(t,n){var r=e.call(this)||this;return r.OnEvent=function(e){r.events.OnEvent(e),o.Events.Instance.OnEvent(e)},void 0===n?r.format=s.AudioStreamFormat.getDefaultInputFormat():r.format=n,r.events=new o.EventSource,r.id=i.CreateNoDashGuid(),r.callback=t,r.isClosed=!1,r}return r(t,e),Object.defineProperty(t.prototype,"Format",{get:function(){return this.format},enumerable:!0,configurable:!0}),t.prototype.close=function(){this.isClosed=!0,this.callback.close()},t.prototype.Id=function(){return this.id},t.prototype.TurnOn=function(){return this.OnEvent(new o.AudioSourceInitializingEvent(this.id)),this.OnEvent(new o.AudioSourceReadyEvent(this.id)),o.PromiseHelper.FromResult(!0)},t.prototype.Attach=function(e){var t=this;return this.OnEvent(new o.AudioStreamNodeAttachingEvent(this.id,e)),this.TurnOn().OnSuccessContinueWith(function(n){return t.OnEvent(new o.AudioStreamNodeAttachedEvent(t.id,e)),{Detach:function(){t.callback.close(),t.OnEvent(new o.AudioStreamNodeDetachedEvent(t.id,e)),t.TurnOff()},Id:function(){return e},Read:function(){var e=new ArrayBuffer(c),n=t.callback.read(e);return o.PromiseHelper.FromResult({Buffer:e.slice(0,n),IsEnd:t.isClosed})}}})},t.prototype.Detach=function(e){this.OnEvent(new o.AudioStreamNodeDetachedEvent(this.id,e))},t.prototype.TurnOff=function(){return o.PromiseHelper.FromResult(!1)},Object.defineProperty(t.prototype,"Events",{get:function(){return this.events},enumerable:!0,configurable:!0}),t}(f);t.PullAudioInputStreamImpl=p},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){}return e.getDefaultInputFormat=function(){return o.getDefaultInputFormat()},e.getWaveFormatPCM=function(e,t,n){return new o(e,t,n)},e}();t.AudioStreamFormat=i;var o=function(e){function t(t,n,r){void 0===t&&(t=16e3),void 0===n&&(n=16),void 0===r&&(r=1);var i=e.call(this)||this;return i.formatTag=1,i.bitsPerSample=n,i.samplesPerSec=t,i.channels=r,i.avgBytesPerSec=i.samplesPerSec*i.channels*(i.bitsPerSample/8),i.blockAlign=i.channels*Math.max(i.bitsPerSample,8),i}return r(t,e),t.getDefaultInputFormat=function(){return new t},t.prototype.close=function(){},t}(i);t.AudioStreamFormatImpl=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(6),i=n(2),o=n(1),s=n(0),a=n(2),c=n(62),u=function(){function e(){var e=this;this.Create=function(t,n,o){var u=t.parameters.getProperty(s.PropertyId.SpeechServiceConnection_Endpoint,void 0),h={},l=t.parameters.getProperty(s.PropertyId.SpeechServiceConnection_EndpointId,void 0),f=t.parameters.getProperty(s.PropertyId.SpeechServiceConnection_RecoLanguage,void 0);if(l?u&&-1!==u.search(c.QueryParameterNames.DeploymentIdParamName)||(h[c.QueryParameterNames.DeploymentIdParamName]=l):f&&(u&&-1!==u.search(c.QueryParameterNames.LanguageParamName)||(h[c.QueryParameterNames.LanguageParamName]=f)),u&&-1!==u.search(c.QueryParameterNames.FormatParamName)||(h[c.QueryParameterNames.FormatParamName]=t.parameters.getProperty(i.OutputFormatPropertyName,s.OutputFormat[s.OutputFormat.Simple]).toLowerCase()),e.IsDebugModeEnabled&&(h[c.QueryParameterNames.TestHooksParamName]="1"),!u){var p=t.parameters.getProperty(s.PropertyId.SpeechServiceConnection_Region,void 0);switch(t.RecognitionMode){case a.RecognitionMode.Conversation:u=e.Host(p)+e.ConversationRelativeUri;break;case a.RecognitionMode.Dictation:u=e.Host(p)+e.DictationRelativeUri;break;default:u=e.Host(p)+e.InteractiveRelativeUri}}var d={};return d[n.HeaderName]=n.Token,d[c.QueryParameterNames.ConnectionIdHeader]=o,new r.WebsocketConnection(u,h,d,new a.WebsocketMessageFormatter,o)}}return e.prototype.Host=function(e){return o.Storage.Local.GetOrAdd("Host","wss://"+e+".stt.speech.microsoft.com")},Object.defineProperty(e.prototype,"InteractiveRelativeUri",{get:function(){return o.Storage.Local.GetOrAdd("InteractiveRelativeUri","/speech/recognition/interactive/cognitiveservices/v1")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ConversationRelativeUri",{get:function(){return o.Storage.Local.GetOrAdd("ConversationRelativeUri","/speech/recognition/conversation/cognitiveservices/v1")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"DictationRelativeUri",{get:function(){return o.Storage.Local.GetOrAdd("DictationRelativeUri","/speech/recognition/dictation/cognitiveservices/v1")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"IsDebugModeEnabled",{get:function(){var e=o.Storage.Local.GetOrAdd("IsDebugModeEnabled","false");return"true"===e.toLowerCase()},enumerable:!0,configurable:!0}),e}();t.SpeechConnectionFactory=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=function(){function e(e,t,n){var i=this;if(this.Open=function(){if(i.connectionState===r.ConnectionState.Disconnected)return r.PromiseHelper.FromError("Cannot open a connection that is in "+i.connectionState+" state");if(i.connectionEstablishDeferral)return i.connectionEstablishDeferral.Promise();i.connectionEstablishDeferral=new r.Deferred,i.connectionState=r.ConnectionState.Connecting;try{i.websocketClient=new WebSocket(i.uri),i.websocketClient.binaryType="arraybuffer",i.receivingMessageQueue=new r.Queue,i.disconnectDeferral=new r.Deferred,i.sendMessageQueue=new r.Queue,i.ProcessSendQueue()}catch(e){return i.connectionEstablishDeferral.Resolve(new r.ConnectionOpenResponse(500,e)),i.connectionEstablishDeferral.Promise()}return i.OnEvent(new r.ConnectionStartEvent(i.connectionId,i.uri)),i.websocketClient.onopen=function(e){i.connectionState=r.ConnectionState.Connected,i.OnEvent(new r.ConnectionEstablishedEvent(i.connectionId)),i.connectionEstablishDeferral.Resolve(new r.ConnectionOpenResponse(200,""))},i.websocketClient.onerror=function(e){i.connectionState!==r.ConnectionState.Connecting},i.websocketClient.onclose=function(e){i.connectionState===r.ConnectionState.Connecting?(i.connectionState=r.ConnectionState.Disconnected,i.connectionEstablishDeferral.Resolve(new r.ConnectionOpenResponse(e.code,e.reason))):i.OnEvent(new r.ConnectionClosedEvent(i.connectionId,e.code,e.reason)),i.OnClose(e.code,e.reason)},i.websocketClient.onmessage=function(e){var t=(new Date).toISOString();if(i.connectionState===r.ConnectionState.Connected){var n=new r.Deferred;if(i.receivingMessageQueue.EnqueueFromPromise(n.Promise()),e.data instanceof ArrayBuffer){var o=new r.RawWebsocketMessage(r.MessageType.Binary,e.data);i.messageFormatter.ToConnectionMessage(o).On(function(e){i.OnEvent(new r.ConnectionMessageReceivedEvent(i.connectionId,t,e)),n.Resolve(e)},function(e){n.Reject("Invalid binary message format. Error: "+e)})}else{var o=new r.RawWebsocketMessage(r.MessageType.Text,e.data);i.messageFormatter.ToConnectionMessage(o).On(function(e){i.OnEvent(new r.ConnectionMessageReceivedEvent(i.connectionId,t,e)),n.Resolve(e)},function(e){n.Reject("Invalid text message format. Error: "+e)})}}},i.connectionEstablishDeferral.Promise()},this.Send=function(e){if(i.connectionState!==r.ConnectionState.Connected)return r.PromiseHelper.FromError("Cannot send on connection that is in "+i.connectionState+" state");var t=new r.Deferred,n=new r.Deferred;return i.sendMessageQueue.EnqueueFromPromise(n.Promise()),i.messageFormatter.FromConnectionMessage(e).On(function(r){n.Resolve({Message:e,RawWebsocketMessage:r,SendStatusDeferral:t})},function(e){n.Reject("Error formatting the message. "+e)}),t.Promise()},this.Read=function(){return i.connectionState!==r.ConnectionState.Connected?r.PromiseHelper.FromError("Cannot read on connection that is in "+i.connectionState+" state"):i.receivingMessageQueue.Dequeue()},this.Close=function(e){if(!i.websocketClient){var t=new r.Deferred;return t.Resolve(!0),t.Promise()}return i.connectionState!==r.ConnectionState.Disconnected&&i.websocketClient.close(1e3,e?e:"Normal closure by client"),i.disconnectDeferral.Promise()},this.SendRawMessage=function(e){try{return e?(i.OnEvent(new r.ConnectionMessageSentEvent(i.connectionId,(new Date).toISOString(),e.Message)),i.websocketClient.send(e.RawWebsocketMessage.Payload),r.PromiseHelper.FromResult(!0)):r.PromiseHelper.FromResult(!0)}catch(t){return r.PromiseHelper.FromError("websocket send error: "+t)}},this.OnClose=function(e,t){var n="Connection closed. "+e+": "+t;i.connectionState=r.ConnectionState.Disconnected,i.disconnectDeferral.Resolve(!0),i.receivingMessageQueue.Dispose(t),i.receivingMessageQueue.DrainAndDispose(function(e){},n),i.sendMessageQueue.DrainAndDispose(function(e){e.SendStatusDeferral.Reject(n)},n)},this.ProcessSendQueue=function(){i.sendMessageQueue.Dequeue().On(function(e){e&&i.SendRawMessage(e).On(function(t){e.SendStatusDeferral.Resolve(t),i.ProcessSendQueue()},function(t){e.SendStatusDeferral.Reject(t),i.ProcessSendQueue()})},function(e){})},this.OnEvent=function(e){i.connectionEvents.OnEvent(e),r.Events.Instance.OnEvent(e)},!e)throw new r.ArgumentNullError("uri");if(!n)throw new r.ArgumentNullError("messageFormatter");this.connectionEvents=new r.EventSource,this.connectionId=t,this.messageFormatter=n,this.connectionState=r.ConnectionState.None,this.uri=e}return Object.defineProperty(e.prototype,"State",{get:function(){return this.connectionState},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Events",{get:function(){return this.connectionEvents},enumerable:!0,configurable:!0}),e}();t.WebsocketMessageAdapter=i},function(e,t,n){window.SpeechSDK=n(22)},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0});var i=n(6),o=n(1);o.Events.Instance.AttachListener(new i.ConsoleLoggingListener),r(n(0))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=function(){function e(e){void 0===e&&(e=r.EventType.Warning);var t=this;this.OnEvent=function(e){if(e.EventType>=t.logLevelFilter){var n=t.ToString(e);switch(e.EventType){case r.EventType.Debug:console.debug(n);break;case r.EventType.Info:console.info(n);break;case r.EventType.Warning:console.warn(n);break;case r.EventType.Error:console.error(n);break;default:console.log(n)}}},this.ToString=function(e){var t=[""+e.EventTime,""+e.Name];for(var n in e)if(n&&e.hasOwnProperty(n)&&"eventTime"!==n&&"eventType"!==n&&"eventId"!==n&&"name"!==n&&"constructor"!==n){var r=e[n],i="<NULL>";void 0!==r&&null!==r&&(i="number"==typeof r||"string"==typeof r?r.toString():JSON.stringify(r)),t.push(n+": "+i)}return t.join(" | ")},this.logLevelFilter=e}return e}();t.ConsoleLoggingListener=i},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(7),o=function(e){function t(t,n,r){void 0===r&&(r=i.EventType.Info);var o=e.call(this,t,r)||this;return o.audioSourceId=n,o}return r(t,e),Object.defineProperty(t.prototype,"AudioSourceId",{get:function(){return this.audioSourceId},enumerable:!0,configurable:!0}),t}(i.PlatformEvent);t.AudioSourceEvent=o;var s=function(e){function t(t){return e.call(this,"AudioSourceInitializingEvent",t)||this}return r(t,e),t}(o);t.AudioSourceInitializingEvent=s;var a=function(e){function t(t){return e.call(this,"AudioSourceReadyEvent",t)||this}return r(t,e),t}(o);t.AudioSourceReadyEvent=a;var c=function(e){function t(t){return e.call(this,"AudioSourceOffEvent",t)||this}return r(t,e),t}(o);t.AudioSourceOffEvent=c;var u=function(e){function t(t,n){var r=e.call(this,"AudioSourceErrorEvent",t,i.EventType.Error)||this;return r.error=n,r}return r(t,e),Object.defineProperty(t.prototype,"Error",{get:function(){return this.error},enumerable:!0,configurable:!0}),t}(o);t.AudioSourceErrorEvent=u;var h=function(e){function t(t,n,r){var i=e.call(this,t,n)||this;return i.audioNodeId=r,i}return r(t,e),Object.defineProperty(t.prototype,"AudioNodeId",{get:function(){return this.audioNodeId},enumerable:!0,configurable:!0}),t}(o);t.AudioStreamNodeEvent=h;var l=function(e){function t(t,n){return e.call(this,"AudioStreamNodeAttachingEvent",t,n)||this}return r(t,e),t}(h);t.AudioStreamNodeAttachingEvent=l;var f=function(e){function t(t,n){return e.call(this,"AudioStreamNodeAttachedEvent",t,n)||this}return r(t,e),t}(h);t.AudioStreamNodeAttachedEvent=f;var p=function(e){function t(t,n){return e.call(this,"AudioStreamNodeDetachedEvent",t,n)||this}return r(t,e),t}(h);t.AudioStreamNodeDetachedEvent=p;var d=function(e){function t(t,n,r){var i=e.call(this,"AudioStreamNodeErrorEvent",t,n)||this;return i.error=r,i}return r(t,e),Object.defineProperty(t.prototype,"Error",{get:function(){return this.error},enumerable:!0,configurable:!0}),t}(h);t.AudioStreamNodeErrorEvent=d},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(7),o=function(e){function t(t,n,r){void 0===r&&(r=i.EventType.Info);var o=e.call(this,t,r)||this;return o.connectionId=n,o}return r(t,e),Object.defineProperty(t.prototype,"ConnectionId",{get:function(){return this.connectionId},enumerable:!0,configurable:!0}),t}(i.PlatformEvent);t.ConnectionEvent=o;var s=function(e){function t(t,n,r){var i=e.call(this,"ConnectionStartEvent",t)||this;return i.uri=n,i.headers=r,i}return r(t,e),Object.defineProperty(t.prototype,"Uri",{get:function(){return this.uri},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Headers",{get:function(){return this.headers},enumerable:!0,configurable:!0}),t}(o);t.ConnectionStartEvent=s;var a=function(e){function t(t,n){return e.call(this,"ConnectionEstablishedEvent",t)||this}return r(t,e),t}(o);t.ConnectionEstablishedEvent=a;var c=function(e){function t(t,n,r){var o=e.call(this,"ConnectionClosedEvent",t,i.EventType.Debug)||this;return o.reason=r,o.statusCode=n,o}return r(t,e),Object.defineProperty(t.prototype,"Reason",{get:function(){return this.reason},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"StatusCode",{get:function(){return this.statusCode},enumerable:!0,configurable:!0}),t}(o);t.ConnectionClosedEvent=c;var u=function(e){function t(t,n,r){var o=e.call(this,"ConnectionEstablishErrorEvent",t,i.EventType.Error)||this;return o.statusCode=n,o.reason=r,o}return r(t,e),Object.defineProperty(t.prototype,"Reason",{get:function(){return this.reason},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"StatusCode",{get:function(){return this.statusCode},enumerable:!0,configurable:!0}),t}(o);t.ConnectionEstablishErrorEvent=u;var h=function(e){function t(t,n,r){var i=e.call(this,"ConnectionMessageReceivedEvent",t)||this;return i.networkReceivedTime=n,i.message=r,i}return r(t,e),Object.defineProperty(t.prototype,"NetworkReceivedTime",{get:function(){return this.networkReceivedTime},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Message",{get:function(){return this.message},enumerable:!0,configurable:!0}),t}(o);t.ConnectionMessageReceivedEvent=h;var l=function(e){function t(t,n,r){var i=e.call(this,"ConnectionMessageSentEvent",t)||this;return i.networkSentTime=n,i.message=r,i}return r(t,e),Object.defineProperty(t.prototype,"NetworkSentTime",{get:function(){return this.networkSentTime},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"Message",{get:function(){return this.message},enumerable:!0,configurable:!0}),t}(o);t.ConnectionMessageSentEvent=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){this.statusCode=e,this.reason=t}return Object.defineProperty(e.prototype,"StatusCode",{get:function(){return this.statusCode},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Reason",{get:function(){return this.reason},enumerable:!0,configurable:!0}),e}();t.ConnectionOpenResponse=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=n(12),o=function(){function e(){}return Object.defineProperty(e,"Instance",{get:function(){return e.instance},enumerable:!0,configurable:!0}),e.instance=new i.EventSource,e.SetEventSource=function(t){if(!t)throw new r.ArgumentNullError("eventSource");e.instance=t},e}();t.Events=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r;!function(e){e[e.None=0]="None",e[e.Connected=1]="Connected",e[e.Connecting=2]="Connecting",e[e.Disconnected=3]="Disconnected"}(r=t.ConnectionState||(t.ConnectionState={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(11),i=n(3),o=n(5),s=function(){function e(e,t,n){if(this.payload=null,!t)throw new i.ArgumentNullError("payload");if(e===r.MessageType.Binary&&!(t instanceof ArrayBuffer))throw new i.InvalidOperationError("Payload must be ArrayBuffer");if(e===r.MessageType.Text&&"string"!=typeof t)throw new i.InvalidOperationError("Payload must be a string");this.messageType=e,this.payload=t,this.id=n?n:o.CreateNoDashGuid()}return Object.defineProperty(e.prototype,"MessageType",{get:function(){return this.messageType},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Payload",{get:function(){return this.payload},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"TextContent",{get:function(){if(this.messageType===r.MessageType.Binary)throw new i.InvalidOperationError("Not supported for binary message");return this.payload},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"BinaryContent",{get:function(){if(this.messageType===r.MessageType.Text)throw new i.InvalidOperationError("Not supported for text message");return this.payload},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Id",{get:function(){return this.id},enumerable:!0,configurable:!0}),e}();t.RawWebsocketMessage=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){var n=this;this.channelCount=1,this.Encode=function(e,t){var r=n.DownSampleAudioFrame(t,n.actualSampleRate,n.desiredSampleRate);if(!r)return null;var i=2*r.length;if(!e){var o=new ArrayBuffer(i),s=new DataView(o);return n.FloatTo16BitPCM(s,0,r),o}var a=new ArrayBuffer(44+i),c=16,u=c/8,h=0,l=new DataView(a);return n.SetString(l,0,"RIFF"),l.setUint32(4,h,!0),n.SetString(l,8,"WAVEfmt "),l.setUint32(16,16,!0),l.setUint16(20,1,!0),l.setUint16(22,n.channelCount,!0),l.setUint32(24,n.desiredSampleRate,!0),l.setUint32(28,n.desiredSampleRate*n.channelCount*u,!0),l.setUint16(32,n.channelCount*u,!0),l.setUint16(34,c,!0),n.SetString(l,36,"data"),l.setUint32(40,h,!0),n.FloatTo16BitPCM(l,44,r),a},this.SetString=function(e,t,n){for(var r=0;r<n.length;r++)e.setUint8(t+r,n.charCodeAt(r))},this.FloatTo16BitPCM=function(e,t,n){for(var r=0;r<n.length;r++,t+=2){var i=Math.max(-1,Math.min(1,n[r]));e.setInt16(t,0>i?32768*i:32767*i,!0)}},this.DownSampleAudioFrame=function(e,t,n){if(n===t||n>t)return e;for(var r=t/n,i=Math.round(e.length/r),o=new Float32Array(i),s=0,a=0;i>a;){for(var c=Math.round((a+1)*r),u=0,h=0;c>s&&s<e.length;)u+=e[s++],h++;o[a++]=u/h}return o},this.actualSampleRate=e,this.desiredSampleRate=t}return e}();t.RiffPcmEncoder=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=n(13),o=function(){function e(){}return Object.defineProperty(e,"Session",{get:function(){return e.sessionStorage},enumerable:!0,configurable:!0}),Object.defineProperty(e,"Local",{get:function(){return e.localStorage},enumerable:!0,configurable:!0}),e.sessionStorage=new i.InMemoryStorage,e.localStorage=new i.InMemoryStorage,e.SetSessionStorage=function(t){if(!t)throw new r.ArgumentNullError("sessionStorage");e.sessionStorage=t},e.SetLocalStorage=function(t){if(!t)throw new r.ArgumentNullError("localStorage");e.localStorage=t},e}();t.Storage=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=n(5),o=n(16),s=function(){function e(e){var t=this;this.readerIdCounter=1,this.isEnded=!1,this.Write=function(e){t.ThrowIfClosed(),t.WriteStreamChunk({Buffer:e,IsEnd:!1})},this.GetReader=function(){var e=t.readerIdCounter;t.readerIdCounter++;var n=new o.Queue,r=t.streambuffer.length;t.readerQueues[e]=n;for(var i=0;r>i;i++)n.Enqueue(t.streambuffer[i]);return new a(t.id,n,function(){delete t.readerQueues[e]})},this.Close=function(){t.isEnded||(t.WriteStreamChunk({Buffer:null,IsEnd:!0}),t.isEnded=!0)},this.WriteStreamChunk=function(e){t.ThrowIfClosed(),t.streambuffer.push(e);for(var n in t.readerQueues)if(!t.readerQueues[n].IsDisposed())try{t.readerQueues[n].Enqueue(e)}catch(r){}},this.ThrowIfClosed=function(){if(t.isEnded)throw new r.InvalidOperationError("Stream closed")},this.id=e?e:i.CreateNoDashGuid(),this.streambuffer=[],this.readerQueues={}}return Object.defineProperty(e.prototype,"IsClosed",{get:function(){return this.isEnded},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Id",{get:function(){return this.id},enumerable:!0,configurable:!0}),e}();t.Stream=s;var a=function(){function e(e,t,n){var i=this;this.isClosed=!1,this.Read=function(){if(i.IsClosed)throw new r.InvalidOperationError("StreamReader closed");return i.readerQueue.Dequeue().OnSuccessContinueWith(function(e){return e.IsEnd&&i.readerQueue.Dispose("End of stream reached"),e})},this.Close=function(){i.isClosed||(i.isClosed=!0,i.readerQueue.Dispose("StreamReader closed"),i.onClose())},this.readerQueue=t,this.onClose=n,this.streamId=e}return Object.defineProperty(e.prototype,"IsClosed",{get:function(){return this.isClosed},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"StreamId",{get:function(){return this.streamId},enumerable:!0,configurable:!0}),e}();t.StreamReader=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=function(){function e(){this.Get=function(e){if(!e)throw new r.ArgumentNullError("key");return localStorage.getItem(e)},this.GetOrAdd=function(e,t){if(!e)throw new r.ArgumentNullError("key");var n=localStorage.getItem(e);return(null===n||void 0===n)&&localStorage.setItem(e,t),localStorage.getItem(e)},this.Set=function(e,t){if(!e)throw new r.ArgumentNullError("key");localStorage.setItem(e,t)},this.Remove=function(e){if(!e)throw new r.ArgumentNullError("key");localStorage.removeItem(e)}}return e}();t.LocalStorage=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(1),o=function(){function e(e,t){var n=this;this.streams={},this.TurnOn=function(){if(n.initializeDeferral)return n.initializeDeferral.Promise();n.initializeDeferral=new i.Deferred,n.CreateAudioContext();var e=window.navigator,t=e.getUserMedia||e.webkitGetUserMedia||e.mozGetUserMedia||e.msGetUserMedia;if(e.mediaDevices&&(t=function(t,n,r){e.mediaDevices.getUserMedia(t).then(n)["catch"](r)}),t){var r=function(){n.OnEvent(new i.AudioSourceInitializingEvent(n.id)),t({audio:!0,video:!1},function(e){n.mediaStream=e,n.OnEvent(new i.AudioSourceReadyEvent(n.id)),n.initializeDeferral.Resolve(!0)},function(e){var t="Error occurred during microphone initialization: "+e,r=n.initializeDeferral;n.initializeDeferral=null,r.Reject(t),n.OnEvent(new i.AudioSourceErrorEvent(n.id,t))})};"suspended"===n.context.state?n.context.resume().then(r,function(e){n.initializeDeferral.Reject("Failed to initialize audio context: "+e)}):r()}else{var o="Browser does not support getUserMedia.";n.initializeDeferral.Reject(o),n.OnEvent(new i.AudioSourceErrorEvent(o,""))}return n.initializeDeferral.Promise()},this.Id=function(){return n.id},this.Attach=function(e){return n.OnEvent(new i.AudioStreamNodeAttachingEvent(n.id,e)),n.Listen(e).OnSuccessContinueWith(function(t){return n.OnEvent(new i.AudioStreamNodeAttachedEvent(n.id,e)),{Detach:function(){t.Close(),delete n.streams[e],n.OnEvent(new i.AudioStreamNodeDetachedEvent(n.id,e)),n.TurnOff()},Id:function(){return e},Read:function(){return t.Read()}}})},this.Detach=function(e){e&&n.streams[e]&&(n.streams[e].Close(),delete n.streams[e],n.OnEvent(new i.AudioStreamNodeDetachedEvent(n.id,e)))},this.TurnOff=function(){for(var e in n.streams)if(e){var t=n.streams[e];t&&t.Close()}return n.OnEvent(new i.AudioSourceOffEvent(n.id)),n.initializeDeferral=null,n.DestroyAudioContext(),i.PromiseHelper.FromResult(!0)},this.Listen=function(e){return n.TurnOn().OnSuccessContinueWith(function(t){var r=new i.Stream(e);n.streams[e]=r;try{n.recorder.Record(n.context,n.mediaStream,r)}catch(o){throw n.OnEvent(new i.AudioStreamNodeErrorEvent(n.id,e,o)),o}return r.GetReader()})},this.OnEvent=function(e){n.events.OnEvent(e),i.Events.Instance.OnEvent(e)},this.CreateAudioContext=function(){if(!n.context){var e=window.AudioContext||window.webkitAudioContext||!1;if(!e)throw new Error("Browser does not support Web Audio API (AudioContext is not available).");n.context=new e}},this.DestroyAudioContext=function(){n.context&&(n.recorder.ReleaseMediaResources(n.context),"close"in n.context?(n.context.close(),n.context=null):"running"===n.context.state&&n.context.suspend())},this.id=t?t:i.CreateNoDashGuid(),this.events=new i.EventSource,this.recorder=e}return Object.defineProperty(e.prototype,"Format",{get:function(){return e.AUDIOFORMAT},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Events",{get:function(){return this.events},enumerable:!0,configurable:!0}),e.AUDIOFORMAT=r.AudioStreamFormat.getDefaultInputFormat(),e}();t.MicAudioSource=o},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(6),o=n(0),s=n(17),a=function(){
function e(){}return e.fromDefaultMicrophoneInput=function(){var e=new i.PcmRecorder;return new c(new i.MicAudioSource(e))},e.fromWavFileInput=function(e){return new c(new i.FileAudioSource(e))},e.fromStreamInput=function(e){if(e instanceof o.PullAudioInputStreamCallback)return new c(new s.PullAudioInputStreamImpl(e));if(e instanceof o.AudioInputStream)return new c(e);throw new Error("Not Supported Type")},e}();t.AudioConfig=a;var c=function(e){function t(t){var n=e.call(this)||this;return n.source=t,n}return r(t,e),Object.defineProperty(t.prototype,"Format",{get:function(){return this.source.Format},enumerable:!0,configurable:!0}),t.prototype.close=function(){this.source.TurnOff()},t.prototype.Id=function(){return this.source.Id()},t.prototype.TurnOn=function(){return this.source.TurnOn()},t.prototype.Attach=function(e){return this.source.Attach(e)},t.prototype.Detach=function(e){return this.Detach(e)},t.prototype.TurnOff=function(){return this.source.TurnOff()},Object.defineProperty(t.prototype,"Events",{get:function(){return this.source.Events},enumerable:!0,configurable:!0}),t}(a);t.AudioConfigImpl=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r;!function(e){e[e.Error=0]="Error",e[e.EndOfStream=1]="EndOfStream"}(r=t.CancellationReason||(t.CancellationReason={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){}return e}();t.PullAudioInputStreamCallback=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(4),i=function(){function e(){this.disposed=!1}return e.fromFile=function(e){throw r.Contracts.throwIfFileDoesNotExist(e,"fileName"),new Error("Not yet implemented.")},e.fromStream=function(e){throw r.Contracts.throwIfNull(e,"file"),new Error("Not yet implemented.")},e.prototype.close=function(){this.disposed||(this.disposed=!0)},e}();t.KeywordRecognitionModel=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){this.privSessionId=e}return Object.defineProperty(e.prototype,"sessionId",{get:function(){return this.privSessionId},enumerable:!0,configurable:!0}),e}();t.SessionEventArgs=r},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),o=function(e){function t(t,n){var r=e.call(this,n)||this;return r.privOffset=t,r}return r(t,e),Object.defineProperty(t.prototype,"offset",{get:function(){return this.privOffset},enumerable:!0,configurable:!0}),t}(i.SessionEventArgs);t.RecognitionEventArgs=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r;!function(e){e[e.Simple=0]="Simple",e[e.Detailed=1]="Detailed"}(r=t.OutputFormat||(t.OutputFormat={}))},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),o=function(e){function t(t,n,r){var i=e.call(this,n,r)||this;return i.privResult=t,i}return r(t,e),Object.defineProperty(t.prototype,"result",{get:function(){return this.privResult},enumerable:!0,configurable:!0}),t}(i.RecognitionEventArgs);t.IntentRecognitionEventArgs=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t,n,r,i,o,s,a){this.privResultId=e,this.privReason=t,this.privText=n,this.privDuration=r,this.privOffset=i,this.privErrorDetails=o,this.privJson=s,this.privProperties=a}return Object.defineProperty(e.prototype,"resultId",{get:function(){return this.privResultId},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"reason",{get:function(){return this.privReason},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"text",{get:function(){return this.privText},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"duration",{get:function(){return this.privDuration},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"offset",{get:function(){return this.privOffset},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"errorDetails",{get:function(){return this.privErrorDetails},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"json",{get:function(){return this.privJson},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"properties",{get:function(){return this.privProperties},enumerable:!0,configurable:!0}),e}();t.RecognitionResult=r},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),o=function(e){function t(t,n,r,i,o,s,a,c){return e.call(this,t,n,r,i,o,s,a,c)||this}return r(t,e),t}(i.RecognitionResult);t.SpeechRecognitionResult=o},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),o=function(e){function t(t,n,r,i,o,s,a,c,u){var h=e.call(this,n,r,i,o,s,a,c,u)||this;return h.privIntentId=t,h}return r(t,e),Object.defineProperty(t.prototype,"intentId",{get:function(){return this.privIntentId},enumerable:!0,configurable:!0}),t}(i.SpeechRecognitionResult);t.IntentRecognitionResult=o},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(4),o=function(){function e(){}return e.fromEndpoint=function(e){i.Contracts.throwIfNull(e,"uri"),i.Contracts.throwIfNullOrWhitespace(e.hostname,"uri");var t=new s,n=e.host.indexOf(".");if(-1===n)throw new Error("Could not determine region from endpoint");t.region=e.host.substr(0,n);var r=e.pathname.lastIndexOf("/")+1;if(-1===r)throw new Error("Could not determine appId from endpoint");if(t.appId=e.pathname.substr(r),t.subscriptionKey=e.searchParams.get("subscription-key"),void 0===t.subscriptionKey)throw new Error("Could not determine subscription key from endpoint");return t},e.fromAppId=function(e){i.Contracts.throwIfNullOrWhitespace(e,"appId");var t=new s;return t.appId=e,t},e.fromSubscription=function(e,t,n){i.Contracts.throwIfNullOrWhitespace(e,"subscriptionKey"),i.Contracts.throwIfNullOrWhitespace(t,"appId"),i.Contracts.throwIfNullOrWhitespace(n,"region");var r=new s;return r.appId=t,r.region=n,r.subscriptionKey=e,r},e}();t.LanguageUnderstandingModel=o;var s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t}(o);t.LanguageUnderstandingModelImpl=s},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),o=function(e){function t(t,n,r){var i=e.call(this,n,r)||this;return i.privResult=t,i}return r(t,e),Object.defineProperty(t.prototype,"result",{get:function(){return this.privResult},enumerable:!0,configurable:!0}),t}(i.RecognitionEventArgs);t.SpeechRecognitionEventArgs=o},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),o=function(e){function t(t,n,r,i,o){var s=e.call(this,i,o)||this;return s.privReason=t,s.privErrorDetails=n,s.privErrorCode=r,s}return r(t,e),Object.defineProperty(t.prototype,"reason",{get:function(){return this.privReason},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"errorCode",{get:function(){return this.privErrorCode},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"errorDetails",{get:function(){return this.privErrorDetails},enumerable:!0,configurable:!0}),t}(i.RecognitionEventArgs);t.SpeechRecognitionCanceledEventArgs=o},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),o=function(e){function t(t,n,r){var i=e.call(this,n,r)||this;return i.privResult=t,i}return r(t,e),Object.defineProperty(t.prototype,"result",{get:function(){return this.privResult},enumerable:!0,configurable:!0}),t}(i.RecognitionEventArgs);t.TranslationRecognitionEventArgs=o},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),o=function(e){function t(t,n){var r=e.call(this,n)||this;return r.privResult=t,r}return r(t,e),Object.defineProperty(t.prototype,"result",{get:function(){return this.privResult},enumerable:!0,configurable:!0}),t}(i.SessionEventArgs);t.TranslationSynthesisEventArgs=o},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),o=function(e){function t(t,n,r,i,o,s,a,c,u){var h=e.call(this,n,r,i,o,s,a,c,u)||this;return h.privTranslations=t,h}return r(t,e),Object.defineProperty(t.prototype,"translations",{get:function(){return this.privTranslations},enumerable:!0,configurable:!0}),t}(i.SpeechRecognitionResult);t.TranslationRecognitionResult=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){this.privReason=e,this.privAudio=t}return Object.defineProperty(e.prototype,"audio",{get:function(){return this.privAudio},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"reason",{get:function(){return this.privReason},enumerable:!0,configurable:!0}),e}();t.TranslationSynthesisResult=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r;!function(e){e[e.NoMatch=0]="NoMatch",e[e.Canceled=1]="Canceled",e[e.RecognizingSpeech=2]="RecognizingSpeech",e[e.RecognizedSpeech=3]="RecognizedSpeech",e[e.RecognizingIntent=4]="RecognizingIntent",e[e.RecognizedIntent=5]="RecognizedIntent",e[e.TranslatingSpeech=6]="TranslatingSpeech",e[e.TranslatedSpeech=7]="TranslatedSpeech",e[e.SynthesizingAudio=8]="SynthesizingAudio",e[e.SynthesizingAudioCompleted=9]="SynthesizingAudioCompleted"}(r=t.ResultReason||(t.ResultReason={}))},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),o=n(4),s=n(0),a=function(){function e(){}return e.fromSubscription=function(e,t){o.Contracts.throwIfNullOrWhitespace(e,"subscriptionKey"),o.Contracts.throwIfNullOrWhitespace(t,"region");var n=new c;return n.setProperty(s.PropertyId.SpeechServiceConnection_Region,t),n.setProperty(s.PropertyId.SpeechServiceConnection_IntentRegion,t),n.setProperty(s.PropertyId.SpeechServiceConnection_Key,e),n},e.fromEndpoint=function(e,t){o.Contracts.throwIfNull(e,"endpoint"),o.Contracts.throwIfNullOrWhitespace(t,"subscriptionKey");var n=new c;return n.setProperty(s.PropertyId.SpeechServiceConnection_Endpoint,e.href),n.setProperty(s.PropertyId.SpeechServiceConnection_Key,t),n},e.fromAuthorizationToken=function(e,t){o.Contracts.throwIfNull(e,"authorizationToken"),o.Contracts.throwIfNullOrWhitespace(t,"region");var n=new c;return n.setProperty(s.PropertyId.SpeechServiceConnection_Region,t),n.setProperty(s.PropertyId.SpeechServiceConnection_IntentRegion,t),n.authorizationToken=e,n},e.prototype.close=function(){},e}();t.SpeechConfig=a;var c=function(e){function t(){var t=e.call(this)||this;return t.privProperties=new s.PropertyCollection,t.speechRecognitionLanguage="en-US",t.outputFormat=s.OutputFormat.Simple,t}return r(t,e),Object.defineProperty(t.prototype,"properties",{get:function(){return this.privProperties},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endPoint",{get:function(){return new URL(this.privProperties.getProperty(s.PropertyId.SpeechServiceConnection_Endpoint))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"subscriptionKey",{get:function(){return this.privProperties.getProperty(s.PropertyId.SpeechServiceConnection_Key)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"region",{get:function(){return this.privProperties.getProperty(s.PropertyId.SpeechServiceConnection_Region)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"authorizationToken",{get:function(){return this.privProperties.getProperty(s.PropertyId.SpeechServiceAuthorization_Token)},set:function(e){this.privProperties.setProperty(s.PropertyId.SpeechServiceAuthorization_Token,e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"speechRecognitionLanguage",{get:function(){return this.privProperties.getProperty(s.PropertyId.SpeechServiceConnection_RecoLanguage)},set:function(e){this.privProperties.setProperty(s.PropertyId.SpeechServiceConnection_RecoLanguage,e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"outputFormat",{get:function(){return s.OutputFormat[this.privProperties.getProperty(i.OutputFormatPropertyName,s.OutputFormat[s.OutputFormat.Simple])]},set:function(e){this.privProperties.setProperty(i.OutputFormatPropertyName,s.OutputFormat[e])},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endpointId",{get:function(){return this.privProperties.getProperty(s.PropertyId.SpeechServiceConnection_EndpointId)},set:function(e){this.privProperties.setProperty(s.PropertyId.SpeechServiceConnection_EndpointId,e)},enumerable:!0,configurable:!0}),t.prototype.setProperty=function(e,t){o.Contracts.throwIfNullOrWhitespace(t,"value"),this.privProperties.setProperty(e,t)},t.prototype.getProperty=function(e,t){return this.privProperties.getProperty(e,t)},t.prototype.clone=function(){var e=new t;return e.privProperties=this.privProperties.clone(),e},t}(a);t.SpeechConfigImpl=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(9),o="Ocp-Apim-Subscription-Key",s=function(){function e(e){var t=this;if(this.Fetch=function(e){return r.PromiseHelper.FromResult(t.authInfo)},this.FetchOnExpiry=function(e){return r.PromiseHelper.FromResult(t.authInfo)},!e)throw new r.ArgumentNullError("subscriptionKey");this.authInfo=new i.AuthInfo(o,e)}return e}();t.CognitiveSubscriptionKeyAuthentication=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(9),o="Authorization",s=function(){function e(e,t){var n=this;if(this.Fetch=function(e){return n.fetchCallback(e).OnSuccessContinueWith(function(e){return new i.AuthInfo(o,e)})},this.FetchOnExpiry=function(e){return n.fetchOnExpiryCallback(e).OnSuccessContinueWith(function(e){return new i.AuthInfo(o,e)})},!e)throw new r.ArgumentNullError("fetchCallback");if(!t)throw new r.ArgumentNullError("fetchOnExpiryCallback");this.fetchCallback=e,this.fetchOnExpiryCallback=t}return e}();t.CognitiveTokenAuthentication=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(6),i=n(1),o=n(0),s=n(2),a="testhooks",c="X-ConnectionId",u=function(){function e(){var e=this;this.Create=function(t,n,u){var h=t.parameters.getProperty(o.PropertyId.SpeechServiceConnection_Endpoint);if(!h){var l=t.parameters.getProperty(o.PropertyId.SpeechServiceConnection_IntentRegion);h=e.Host()+i.Storage.Local.GetOrAdd("TranslationRelativeUri","/speech/"+e.GetSpeechRegionFromIntentRegion(l)+"/recognition/interactive/cognitiveservices/v1")}var f={format:"simple",language:t.parameters.getProperty(o.PropertyId.SpeechServiceConnection_RecoLanguage)};e.IsDebugModeEnabled&&(f[a]="1");var p={};return p[n.HeaderName]=n.Token,p[c]=u,new r.WebsocketConnection(h,f,p,new s.WebsocketMessageFormatter,u)}}return e.prototype.Host=function(){return i.Storage.Local.GetOrAdd("Host","wss://speech.platform.bing.com")},Object.defineProperty(e.prototype,"IsDebugModeEnabled",{get:function(){var e=i.Storage.Local.GetOrAdd("IsDebugModeEnabled","false");return"true"===e.toLowerCase()},enumerable:!0,configurable:!0}),e.prototype.GetSpeechRegionFromIntentRegion=function(e){switch(e){case"West US":case"US West":case"westus":return"uswest";case"West US 2":case"US West 2":case"westus2":return"uswest2";case"South Central US":case"US South Central":case"southcentralus":return"ussouthcentral";case"West Central US":case"US West Central":case"westcentralus":return"uswestcentral";case"East US":case"US East":case"eastus":return"useast";case"East US 2":case"US East 2":case"eastus2":return"useast2";case"West Europe":case"Europe West":case"westeurope":return"europewest";case"North Europe":case"Europe North":case"northeurope":return"europenorth";case"Brazil South":case"South Brazil":case"southbrazil":return"brazilsouth";case"Australia East":case"East Australia":case"eastaustralia":return"australiaeast";case"Southeast Asia":case"Asia Southeast":case"southeastasia":return"asiasoutheast";case"East Asia":case"Asia East":case"eastasia":return"asiaeast";default:return e}},e}();t.IntentConnectionFactory=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(0),o=n(2),s=n(59),a=function(){function e(t,n,a,c,u){var h=this;if(this.SendTelemetryData=function(t,n,i){if(e.TelemetryData)try{e.TelemetryData(i)}catch(o){}return n.Send(new s.SpeechConnectionMessage(r.MessageType.Text,"telemetry",t,"application/json",i))},this.FetchConnection=function(e,t){if(void 0===t&&(t=!1),h.connectionFetchPromise)return h.connectionFetchPromise.Result().IsError||h.connectionFetchPromise.Result().Result.State()===r.ConnectionState.Disconnected?(h.connectionId=null,h.connectionFetchPromise=null,h.FetchConnection(e)):(e.OnPreConnectionStart(h.authFetchEventId,h.connectionId),e.OnConnectionEstablishCompleted(200),e.ListenForServiceTelemetry(h.connectionFetchPromise.Result().Result.Events),h.connectionFetchPromise);h.authFetchEventId=r.CreateNoDashGuid(),h.connectionId=r.CreateNoDashGuid(),e.OnPreConnectionStart(h.authFetchEventId,h.connectionId);var n=t?h.authentication.FetchOnExpiry(h.authFetchEventId):h.authentication.Fetch(h.authFetchEventId);return h.connectionFetchPromise=n.ContinueWithPromise(function(n){if(n.IsError)throw e.OnAuthCompleted(!0,n.Error),new Error(n.Error);return e.OnAuthCompleted(!1),h.connection&&(h.connection.Dispose(),h.connection=void 0),h.connection=h.connectionFactory.Create(h.recognizerConfig,n.Result,h.connectionId),e.ListenForServiceTelemetry(h.connection.Events),h.connection.Open().OnSuccessContinueWithPromise(function(n){return 200===n.StatusCode?(e.OnConnectionEstablishCompleted(n.StatusCode),r.PromiseHelper.FromResult(h.connection)):403!==n.StatusCode||t?(e.OnConnectionEstablishCompleted(n.StatusCode,n.Reason),r.PromiseHelper.FromError("Unable to contact server. StatusCode: "+n.StatusCode+", Reason: "+n.Reason)):h.FetchConnection(e,!0)})}),h.connectionFetchPromise},this.ReceiveMessage=function(e,t,n,a){return e.Read().OnSuccessContinueWithPromise(function(c){if(!c)return r.PromiseHelper.FromResult(!0);var u=s.SpeechConnectionMessage.FromConnectionMessage(c);if(u.RequestId.toLowerCase()===t.RequestId.toLowerCase())switch(u.Path.toLowerCase()){case"turn.start":var l=new i.SessionEventArgs(t.SessionId);h.recognizer.sessionStarted&&h.recognizer.sessionStarted(h.recognizer,l);break;case"speech.startdetected":var f=o.SpeechDetected.FromJSON(u.TextBody),p=new i.RecognitionEventArgs(f.Offset,t.SessionId);h.recognizer.speechStartDetected&&h.recognizer.speechStartDetected(h.recognizer,p);break;case"speech.enddetected":var d=void 0;d=u.TextBody.length>0?u.TextBody:"{ Offset: 0 }";var g=o.SpeechDetected.FromJSON(d),v=new i.RecognitionEventArgs(g.Offset,t.SessionId);h.recognizer.speechEndDetected&&h.recognizer.speechEndDetected(h.recognizer,v);break;case"turn.end":var y=new i.SessionEventArgs(t.SessionId);return h.recognizer.sessionStopped&&h.recognizer.sessionStopped(h.recognizer,y),t.OnServiceTurnEndResponse(),r.PromiseHelper.FromResult(!0);default:h.ProcessTypeSpecificMessages(u,t,e,n,a)}return h.ReceiveMessage(e,t,n,a)})},this.SendSpeechConfig=function(e,t,n){return n&&h.connectionId!==h.speechConfigConnectionId?(h.speechConfigConnectionId=h.connectionId,t.Send(new s.SpeechConnectionMessage(r.MessageType.Text,"speech.config",e,"application/json",n))):r.PromiseHelper.FromResult(!0)},this.SendSpeechContext=function(e,t,n){return n?t.Send(new s.SpeechConnectionMessage(r.MessageType.Text,"speech.context",e,"application/json",n)):r.PromiseHelper.FromResult(!0)},this.SendAudio=function(e,t,n,i){var o=new r.Deferred,a=0,c=h.audioSource.Format,u=function(l){h.isDisposed||i.IsSpeechEnded||i.IsCompleted||n.Read().On(function(n){if(i.IsSpeechEnded)return void o.Resolve(!0);var h=n.IsEnd?null:n.Buffer,l=t.Send(new s.SpeechConnectionMessage(r.MessageType.Binary,"audio",e,null,h));if(n.IsEnd)o.Resolve(!0);else{var f=h.byteLength/c.avgBytesPerSec/2*1e3,p=Math.max(0,a-Date.now()+f);l.OnSuccessContinueWith(function(e){setTimeout(function(){a=Date.now(),u(e)},p)})}},function(e){i.IsSpeechEnded?o.Resolve(!0):o.Reject(e)})};return u(!0),o.Promise()},!t)throw new r.ArgumentNullError("authentication");if(!n)throw new r.ArgumentNullError("connectionFactory");if(!a)throw new r.ArgumentNullError("audioSource");if(!c)throw new r.ArgumentNullError("recognizerConfig");this.authentication=t,this.connectionFactory=n,this.audioSource=a,this.recognizerConfig=c,this.isDisposed=!1,this.recognizer=u}return Object.defineProperty(e.prototype,"AudioSource",{get:function(){return this.audioSource},enumerable:!0,configurable:!0}),e.prototype.IsDisposed=function(){return this.isDisposed},e.prototype.Dispose=function(e){this.isDisposed=!0,this.connection&&(this.connection.Dispose(e),this.connection=void 0)},e.prototype.Recognize=function(e,t,n){var i=this,s=new o.RequestSession(this.audioSource.Id());return s.ListenForServiceTelemetry(this.audioSource.Events),this.audioSource.Attach(s.AudioNodeId).ContinueWithPromise(function(o){if(o.IsError)throw i.ErrorCallback(o.Error),new Error(o.Error);s.OnAudioSourceAttachCompleted(o.Result,!1);var a=o.Result;return i.FetchConnection(s).On(function(o){var c=i.ReceiveMessage(o,s,t,n),u=i.SendSpeechConfig(s.RequestId,o,i.recognizerConfig.PlatformConfig.Serialize()).OnSuccessContinueWithPromise(function(t){return i.SendSpeechContext(s.RequestId,o,e).OnSuccessContinueWithPromise(function(e){return i.SendAudio(s.RequestId,o,a,s)})}),h=r.PromiseHelper.WhenAll([c,u]);return h.On(function(e){s.Dispose(),i.SendTelemetryData(s.RequestId,o,s.GetTelemetry())},function(e){s.Dispose(e),i.SendTelemetryData(s.RequestId,o,s.GetTelemetry())}),h},function(e){i.ConnectionError(s.SessionId,s.RequestId,e)}).OnSuccessContinueWithPromise(function(){return s.CompletionPromise})})},e.prototype.ErrorCallback=function(e){throw new Error(e)},e}();t.ServiceRecognizerBase=a},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o="path",s="content-type",a="x-requestid",c="x-timestamp",u=function(e){function t(t,n,r,u,h,l,f){var p=this;if(!n)throw new i.ArgumentNullError("path");if(!r)throw new i.ArgumentNullError("requestId");var d={};if(d[o]=n,d[a]=r,d[c]=(new Date).toISOString(),u&&(d[s]=u),l)for(var g in l)g&&(d[g]=l[g]);return p=f?e.call(this,t,h,d,f)||this:e.call(this,t,h,d)||this,p.path=n,p.requestId=r,p.contentType=u,p.additionalHeaders=l,p}return r(t,e),Object.defineProperty(t.prototype,"Path",{get:function(){return this.path},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"RequestId",{get:function(){return this.requestId},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ContentType",{get:function(){return this.contentType},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"AdditionalHeaders",{get:function(){return this.additionalHeaders},enumerable:!0,configurable:!0}),t.FromConnectionMessage=function(e){var n=null,r=null,i=null,u=null,h={};if(e.Headers)for(var l in e.Headers)l&&(l.toLowerCase()===o.toLowerCase()?n=e.Headers[l]:l.toLowerCase()===a.toLowerCase()?r=e.Headers[l]:l.toLowerCase()===c.toLowerCase()?u=e.Headers[l]:l.toLowerCase()===s.toLowerCase()?i=e.Headers[l]:h[l]=e.Headers[l]);return new t(e.MessageType,n,r,i,e.Body,h,e.Id)},t}(i.ConnectionMessage);t.SpeechConnectionMessage=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r;!function(e){e[e.Interactive=0]="Interactive",e[e.Conversation=1]="Conversation",e[e.Dictation=2]="Dictation"}(r=t.RecognitionMode||(t.RecognitionMode={}));var i;!function(e){e[e.Simple=0]="Simple",e[e.Detailed=1]="Detailed"}(i=t.SpeechResultFormat||(t.SpeechResultFormat={}));var o=function(){function e(e,t,n){void 0===t&&(t=r.Interactive),this.recognitionMode=r.Interactive,this.platformConfig=e?e:new s(new a(null)),this.recognitionMode=t,this.recognitionActivityTimeout=t===r.Interactive?8e3:25e3,this.speechConfig=n}return Object.defineProperty(e.prototype,"parameters",{get:function(){return this.speechConfig},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"RecognitionMode",{get:function(){return this.recognitionMode},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"PlatformConfig",{get:function(){return this.platformConfig},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"RecognitionActivityTimeout",{get:function(){return this.recognitionActivityTimeout},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"IsContinuousRecognition",{get:function(){return this.recognitionMode!==r.Interactive},enumerable:!0,configurable:!0}),e}();t.RecognizerConfig=o;var s=function(){function e(e){var t=this;this.Serialize=function(){return JSON.stringify(t,function(e,t){if(t&&"object"==typeof t){var n={};for(var r in t)Object.hasOwnProperty.call(t,r)&&(n[r&&r.charAt(0).toLowerCase()+r.substring(1)]=t[r]);return n}return t})},this.context=e}return Object.defineProperty(e.prototype,"Context",{get:function(){return this.context},enumerable:!0,configurable:!0}),e}();t.PlatformConfig=s;var a=function(){function e(e){this.system=new c,this.os=e}return Object.defineProperty(e.prototype,"System",{get:function(){return this.system},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"OS",{get:function(){return this.os},enumerable:!0,configurable:!0}),e}();t.Context=a;var c=function(){function e(){var e="1.1.0";this.name="SpeechSDK",this.version=e,this.build="JavaScript",this.lang="JavaScript"}return Object.defineProperty(e.prototype,"Version",{get:function(){return this.version},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Lang",{get:function(){return this.lang},enumerable:!0,configurable:!0}),e}();t.System=c;var u=function(){function e(e,t,n){this.platform=e,this.name=t,this.version=n}return Object.defineProperty(e.prototype,"Platform",{get:function(){return this.platform},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Name",{get:function(){return this.name},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Version",{get:function(){return this.version},enumerable:!0,configurable:!0}),e}();t.OS=u;var h=function(){function e(e,t,n){this.manufacturer=e,this.model=t,this.version=n}return Object.defineProperty(e.prototype,"Manufacturer",{get:function(){return this.manufacturer},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Model",{get:function(){return this.model},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Version",{get:function(){return this.version},enumerable:!0,configurable:!0}),e}();t.Device=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i="\r\n",o=function(){function e(){var e=this;this.ToConnectionMessage=function(t){var n=new r.Deferred;try{if(t.MessageType===r.MessageType.Text){var i=t.TextContent,o={},s=null;if(i){var a=i.split("\r\n\r\n");a&&a.length>0&&(o=e.ParseHeaders(a[0]),a.length>1&&(s=a[1]))}n.Resolve(new r.ConnectionMessage(t.MessageType,s,o,t.Id))}else if(t.MessageType===r.MessageType.Binary){var c=t.BinaryContent,o={},s=null;if(!c||c.byteLength<2)throw new Error("Invalid binary message format. Header length missing.");var u=new DataView(c),h=u.getInt16(0);if(c.byteLength<h+2)throw new Error("Invalid binary message format. Header content missing.");for(var l="",f=0;h>f;f++)l+=String.fromCharCode(u.getInt8(f+2));o=e.ParseHeaders(l),c.byteLength>h+2&&(s=c.slice(2+h)),n.Resolve(new r.ConnectionMessage(t.MessageType,s,o,t.Id))}}catch(p){n.Reject("Error formatting the message. Error: "+p)}return n.Promise()},this.FromConnectionMessage=function(t){var n=new r.Deferred;try{if(t.MessageType===r.MessageType.Text){var o=""+e.MakeHeaders(t)+i+(t.TextBody?t.TextBody:"");n.Resolve(new r.RawWebsocketMessage(r.MessageType.Text,o,t.Id))}else if(t.MessageType===r.MessageType.Binary){var s=e.MakeHeaders(t),a=t.BinaryBody,c=new Int8Array(e.StringToArrayBuffer(s)),o=new ArrayBuffer(2+c.byteLength+(a?a.byteLength:0)),u=new DataView(o);u.setInt16(0,c.length);for(var h=0;h<c.byteLength;h++)u.setInt8(2+h,c[h]);if(a)for(var l=new Int8Array(a),h=0;h<l.byteLength;h++)u.setInt8(2+c.byteLength+h,l[h]);n.Resolve(new r.RawWebsocketMessage(r.MessageType.Binary,o,t.Id));
}}catch(f){n.Reject("Error formatting the message. "+f)}return n.Promise()},this.MakeHeaders=function(e){var t="";if(e.Headers)for(var n in e.Headers)n&&(t+=n+": "+e.Headers[n]+i);return t},this.ParseHeaders=function(e){var t={};if(e){var n=e.match(/[^\r\n]+/g);if(t)for(var r=0,i=n;r<i.length;r++){var o=i[r];if(o){var s=o.indexOf(":"),a=s>0?o.substr(0,s).trim().toLowerCase():o,c=s>0&&o.length>s+1?o.substr(s+1).trim():"";t[a]=c}}}return t},this.StringToArrayBuffer=function(e){for(var t=new ArrayBuffer(e.length),n=new DataView(t),r=0;r<e.length;r++)n.setUint8(r,e.charCodeAt(r));return t}}return e}();t.WebsocketMessageFormatter=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){}return Object.defineProperty(e,"TestHooksParamName",{get:function(){return"testhooks"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"ConnectionIdHeader",{get:function(){return"X-ConnectionId"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"DeploymentIdParamName",{get:function(){return"cid"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"FormatParamName",{get:function(){return"format"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"LanguageParamName",{get:function(){return"language"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"TranslationFromParamName",{get:function(){return"from"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"TranslationToParamName",{get:function(){return"to"},enumerable:!0,configurable:!0}),e}();t.QueryParameterNames=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(6),i=n(1),o=n(0),s=n(2),a="testhooks",c="X-ConnectionId",u=function(){function e(){var e=this;this.Create=function(t,n,u){var h=t.parameters.getProperty(o.PropertyId.SpeechServiceConnection_Endpoint,void 0);if(!h){var l=t.parameters.getProperty(o.PropertyId.SpeechServiceConnection_Region,void 0);h=e.Host(l)+i.Storage.Local.GetOrAdd("TranslationRelativeUri","/speech/translation/cognitiveservices/v1")}var f={from:t.parameters.getProperty(o.PropertyId.SpeechServiceConnection_RecoLanguage),to:t.parameters.getProperty(o.PropertyId.SpeechServiceConnection_TranslationToLanguages)};e.IsDebugModeEnabled&&(f[a]="1");var p="voice",d="features";void 0!==t.parameters.getProperty(o.PropertyId.SpeechServiceConnection_TranslationVoice,void 0)&&(f[p]=t.parameters.getProperty(o.PropertyId.SpeechServiceConnection_TranslationVoice),f[d]="texttospeech");var g={};return g[n.HeaderName]=n.Token,g[c]=u,new r.WebsocketConnection(h,f,g,new s.WebsocketMessageFormatter,u)}}return e.prototype.Host=function(e){return i.Storage.Local.GetOrAdd("Host","wss://"+e+".s2s.speech.microsoft.com")},Object.defineProperty(e.prototype,"IsDebugModeEnabled",{get:function(){var e=i.Storage.Local.GetOrAdd("IsDebugModeEnabled","false");return"true"===e.toLowerCase()},enumerable:!0,configurable:!0}),e}();t.TranslationConnectionFactory=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(2),o=function(){function e(){}return e.implTranslateRecognitionResult=function(e){var t=r.ResultReason.Canceled;switch(e){case i.RecognitionStatus.Success:t=r.ResultReason.RecognizedSpeech;break;case i.RecognitionStatus.NoMatch:case i.RecognitionStatus.InitialSilenceTimeout:case i.RecognitionStatus.BabbleTimeout:t=r.ResultReason.NoMatch;break;case i.RecognitionStatus.EndOfDictation:case i.RecognitionStatus.Error:default:t=r.ResultReason.Canceled}return t},e.implTranslateCancelResult=function(e){var t=r.CancellationReason.EndOfStream;switch(e){case i.RecognitionStatus.Success:case i.RecognitionStatus.EndOfDictation:case i.RecognitionStatus.NoMatch:t=r.CancellationReason.EndOfStream;break;case i.RecognitionStatus.InitialSilenceTimeout:case i.RecognitionStatus.BabbleTimeout:case i.RecognitionStatus.Error:default:t=r.CancellationReason.Error}return t},e}();t.EnumTranslation=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r;!function(e){e[e.Success=0]="Success",e[e.SynthesisEnd=1]="SynthesisEnd",e[e.Error=2]="Error"}(r=t.SynthesisStatus||(t.SynthesisStatus={}));var i;!function(e){e[e.Success=0]="Success",e[e.NoMatch=1]="NoMatch",e[e.InitialSilenceTimeout=2]="InitialSilenceTimeout",e[e.BabbleTimeout=3]="BabbleTimeout",e[e.Error=4]="Error",e[e.EndOfDictation=5]="EndOfDictation"}(i=t.RecognitionStatus||(t.RecognitionStatus={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),i=function(){function e(e){this.obj=JSON.parse(e),this.obj.SynthesisStatus=r.SynthesisStatus[this.obj.SynthesisStatus]}return e.FromJSON=function(t){return new e(t)},Object.defineProperty(e.prototype,"SynthesisStatus",{get:function(){return this.obj.SynthesisStatus},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"FailureReason",{get:function(){return this.obj.FailureReason},enumerable:!0,configurable:!0}),e}();t.TranslationSynthesisEnd=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(8),i=function(){function e(e){this.translationHypothesis=JSON.parse(e),this.translationHypothesis.Translation.TranslationStatus=r.TranslationStatus[this.translationHypothesis.Translation.TranslationStatus]}return e.FromJSON=function(t){return new e(t)},Object.defineProperty(e.prototype,"Duration",{get:function(){return this.translationHypothesis.Duration},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Offset",{get:function(){return this.translationHypothesis.Offset},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Text",{get:function(){return this.translationHypothesis.Text},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Translation",{get:function(){return this.translationHypothesis.Translation},enumerable:!0,configurable:!0}),e}();t.TranslationHypothesis=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),i=n(8),o=function(){function e(e){this.translationPhrase=JSON.parse(e),this.translationPhrase.RecognitionStatus=r.RecognitionStatus[this.translationPhrase.RecognitionStatus],void 0!==this.translationPhrase.Translation&&(this.translationPhrase.Translation.TranslationStatus=i.TranslationStatus[this.translationPhrase.Translation.TranslationStatus])}return e.FromJSON=function(t){return new e(t)},Object.defineProperty(e.prototype,"RecognitionStatus",{get:function(){return this.translationPhrase.RecognitionStatus},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Offset",{get:function(){return this.translationPhrase.Offset},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Duration",{get:function(){return this.translationPhrase.Duration},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Text",{get:function(){return this.translationPhrase.Text},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Translation",{get:function(){return this.translationPhrase.Translation},enumerable:!0,configurable:!0}),e}();t.TranslationPhrase=o},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=n(0),s=n(2),a=function(e){function t(t,n,r,i,o){var s=e.call(this,t,n,r,i,o)||this;return s.translationRecognizer=o,s}return r(t,e),t.prototype.ProcessTypeSpecificMessages=function(e,t,n,r,i){switch(e.Path.toLowerCase()){case"translation.hypothesis":var a=this.FireEventForResult(s.TranslationHypothesis.FromJSON(e.TextBody),t);if(this.translationRecognizer.recognizing)try{this.translationRecognizer.recognizing(this.translationRecognizer,a)}catch(c){}break;case"translation.phrase":this.recognizerConfig.IsContinuousRecognition&&this.SendTelemetryData(t.RequestId,n,t.GetTelemetry());var u=s.TranslationPhrase.FromJSON(e.TextBody);if(u.RecognitionStatus===s.RecognitionStatus.Success){var h=this.FireEventForResult(u,t);if(this.translationRecognizer.recognized)try{this.translationRecognizer.recognized(this.translationRecognizer,h)}catch(c){}if(r){try{r(h.result)}catch(l){i&&i(l)}r=void 0,i=void 0}break}var f=s.EnumTranslation.implTranslateRecognitionResult(u.RecognitionStatus),p=new o.TranslationRecognitionResult(void 0,t.RequestId,f,u.Text,u.Duration,u.Offset,void 0,e.TextBody,void 0);if(f===o.ResultReason.Canceled){var d=s.EnumTranslation.implTranslateCancelResult(u.RecognitionStatus),g=new o.TranslationRecognitionCanceledEventArgs(t.SessionId,d,null,d===o.CancellationReason.Error?o.CancellationErrorCode.ServiceError:o.CancellationErrorCode.NoError,p);if(this.translationRecognizer.canceled)try{this.translationRecognizer.canceled(this.translationRecognizer,g)}catch(c){}}else{var g=new o.TranslationRecognitionEventArgs(p,0,t.SessionId);if(this.translationRecognizer.recognized)try{this.translationRecognizer.recognized(this.translationRecognizer,g)}catch(c){}}if(r){try{r(p)}catch(l){i&&i(l)}r=void 0,i=void 0}break;case"translation.synthesis":this.sendSynthesisAudio(e.BinaryBody,t.SessionId);break;case"translation.synthesis.end":var v=s.TranslationSynthesisEnd.FromJSON(e.TextBody);switch(v.SynthesisStatus){case s.SynthesisStatus.Error:if(this.translationRecognizer.synthesizing){var y=new o.TranslationSynthesisResult(o.ResultReason.Canceled,void 0),m=new o.TranslationSynthesisEventArgs(y,t.SessionId);try{this.translationRecognizer.synthesizing(this.translationRecognizer,m)}catch(c){}}if(this.translationRecognizer.canceled){var b=new o.TranslationRecognitionCanceledEventArgs(t.SessionId,o.CancellationReason.Error,v.FailureReason,o.CancellationErrorCode.ServiceError,null);try{this.translationRecognizer.canceled(this.translationRecognizer,b)}catch(c){}}break;case s.SynthesisStatus.Success:this.sendSynthesisAudio(void 0,t.SessionId)}}},t.prototype.ConnectionError=function(e,t,n){if(this.translationRecognizer.canceled){var r=new o.PropertyCollection;r.setProperty(s.CancellationErrorCodePropertyName,o.CancellationErrorCode[o.CancellationErrorCode.ConnectionFailure]);var i=new o.TranslationRecognitionResult(void 0,t,o.ResultReason.Canceled,void 0,void 0,void 0,n,void 0,r),a=new o.TranslationRecognitionCanceledEventArgs(e,o.CancellationReason.Error,n,o.CancellationErrorCode.ConnectionFailure,i);try{this.translationRecognizer.canceled(this.translationRecognizer,a)}catch(c){}}},t.prototype.FireEventForResult=function(e,t){var n;if(void 0!==e.Translation.Translations){n=new o.Translations;for(var r=0,a=e.Translation.Translations;r<a.length;r++){var c=a[r];n.set(c.Language,c.Text)}}var u;u=e instanceof s.TranslationPhrase?e.Translation.TranslationStatus===i.TranslationStatus.Success?o.ResultReason.TranslatedSpeech:o.ResultReason.RecognizedSpeech:o.ResultReason.TranslatingSpeech;var h=new o.TranslationRecognitionResult(n,t.RequestId,u,e.Text,e.Duration,e.Offset,e.Translation.FailureReason,JSON.stringify(e),void 0),l=new o.TranslationRecognitionEventArgs(h,e.Offset,t.SessionId);return l},t.prototype.sendSynthesisAudio=function(e,t){var n=void 0===e?o.ResultReason.SynthesizingAudioCompleted:o.ResultReason.SynthesizingAudio,r=new o.TranslationSynthesisResult(n,e),i=new o.TranslationSynthesisEventArgs(r,t);if(this.translationRecognizer.synthesizing)try{this.translationRecognizer.synthesizing(this.translationRecognizer,i)}catch(s){}},t}(s.ServiceRecognizerBase);t.TranslationServiceRecognizer=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){this.speechStartDetected=JSON.parse(e)}return e.FromJSON=function(t){return new e(t)},Object.defineProperty(e.prototype,"Offset",{get:function(){return this.speechStartDetected.Offset},enumerable:!0,configurable:!0}),e}();t.SpeechDetected=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){this.speechHypothesis=JSON.parse(e)}return e.FromJSON=function(t){return new e(t)},Object.defineProperty(e.prototype,"Text",{get:function(){return this.speechHypothesis.Text},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Offset",{get:function(){return this.speechHypothesis.Offset},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Duration",{get:function(){return this.speechHypothesis.Duration},enumerable:!0,configurable:!0}),e}();t.SpeechHypothesis=r},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),o=n(2),s=function(e){function t(t,n,r,i,o){var s=e.call(this,t,n,r,i,o)||this;return s.speechRecognizer=o,s}return r(t,e),t.prototype.ProcessTypeSpecificMessages=function(e,t,n,r,s){var a;switch(e.Path.toLowerCase()){case"speech.hypothesis":var c=o.SpeechHypothesis.FromJSON(e.TextBody);a=new i.SpeechRecognitionResult(t.RequestId,i.ResultReason.RecognizingSpeech,c.Text,c.Duration,c.Offset,void 0,e.TextBody,void 0);var u=new i.SpeechRecognitionEventArgs(a,c.Duration,t.SessionId);if(this.speechRecognizer.recognizing)try{this.speechRecognizer.recognizing(this.speechRecognizer,u)}catch(h){}break;case"speech.phrase":this.recognizerConfig.IsContinuousRecognition&&this.SendTelemetryData(t.RequestId,n,t.GetTelemetry());var l=o.SimpleSpeechPhrase.FromJSON(e.TextBody),f=o.EnumTranslation.implTranslateRecognitionResult(l.RecognitionStatus);if(i.ResultReason.Canceled===f){if(a=new i.SpeechRecognitionResult(t.RequestId,f,void 0,void 0,void 0,void 0,e.TextBody,void 0),this.speechRecognizer.canceled){var p=new i.SpeechRecognitionCanceledEventArgs(o.EnumTranslation.implTranslateCancelResult(l.RecognitionStatus),void 0,void 0,o.EnumTranslation.implTranslateCancelResult(l.RecognitionStatus)===i.CancellationReason.Error?i.CancellationErrorCode.ServiceError:i.CancellationErrorCode.NoError,t.SessionId);try{this.speechRecognizer.canceled(this.speechRecognizer,p)}catch(d){}}}else{if(this.recognizerConfig.parameters.getProperty(o.OutputFormatPropertyName)===i.OutputFormat[i.OutputFormat.Simple])a=new i.SpeechRecognitionResult(t.RequestId,o.EnumTranslation.implTranslateRecognitionResult(l.RecognitionStatus),l.DisplayText,l.Duration,l.Offset,void 0,e.TextBody,void 0);else{var g=o.DetailedSpeechPhrase.FromJSON(e.TextBody);a=new i.SpeechRecognitionResult(t.RequestId,o.EnumTranslation.implTranslateRecognitionResult(g.RecognitionStatus),g.RecognitionStatus===o.RecognitionStatus.Success?g.NBest[0].Display:void 0,g.Duration,g.Offset,void 0,e.TextBody,void 0)}var v=new i.SpeechRecognitionEventArgs(a,a.offset,t.SessionId);if(this.speechRecognizer.recognized)try{this.speechRecognizer.recognized(this.speechRecognizer,v)}catch(h){}}if(r){try{r(a)}catch(y){s&&s(y)}r=void 0,s=void 0}}},t.prototype.ConnectionError=function(e,t,n){if(this.speechRecognizer.canceled){var r=new i.PropertyCollection;r.setProperty(o.CancellationErrorCodePropertyName,i.CancellationErrorCode[i.CancellationErrorCode.ConnectionFailure]);var s=new i.SpeechRecognitionCanceledEventArgs(i.CancellationReason.Error,n,i.CancellationErrorCode.ConnectionFailure,void 0,e);try{this.speechRecognizer.canceled(this.speechRecognizer,s)}catch(a){}}},t}(o.ServiceRecognizerBase);t.SpeechServiceRecognizer=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),i=function(){function e(e){this.detailedSpeechPhrase=JSON.parse(e),this.detailedSpeechPhrase.RecognitionStatus=r.RecognitionStatus[this.detailedSpeechPhrase.RecognitionStatus]}return e.FromJSON=function(t){return new e(t)},Object.defineProperty(e.prototype,"RecognitionStatus",{get:function(){return this.detailedSpeechPhrase.RecognitionStatus},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"NBest",{get:function(){return this.detailedSpeechPhrase.NBest},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Duration",{get:function(){return this.detailedSpeechPhrase.Duration},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Offset",{get:function(){return this.detailedSpeechPhrase.Offset},enumerable:!0,configurable:!0}),e}();t.DetailedSpeechPhrase=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),i=function(){function e(e){this.simpleSpeechPhrase=JSON.parse(e),this.simpleSpeechPhrase.RecognitionStatus=r.RecognitionStatus[this.simpleSpeechPhrase.RecognitionStatus]}return e.FromJSON=function(t){return new e(t)},Object.defineProperty(e.prototype,"RecognitionStatus",{get:function(){return this.simpleSpeechPhrase.RecognitionStatus},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"DisplayText",{get:function(){return this.simpleSpeechPhrase.DisplayText},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Offset",{get:function(){return this.simpleSpeechPhrase.Offset},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Duration",{get:function(){return this.simpleSpeechPhrase.Duration},enumerable:!0,configurable:!0}),e}();t.SimpleSpeechPhrase=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){this.modelImpl=e,this.intentName=t}return e}();t.AddedLmIntent=r},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),o=n(2),s=function(e){function t(t,n,r,i,o,s){var a=e.call(this,t,n,r,i,o)||this;return a.intentRecognizer=o,a.intentDataSent=s,a}return r(t,e),t.prototype.setIntents=function(e,t){this.addedLmIntents=e,this.umbrellaIntent=t},t.prototype.ProcessTypeSpecificMessages=function(e,t,n,r,s){var a,c,u=this;switch(e.Path.toLowerCase()){case"speech.hypothesis":var h=o.SpeechHypothesis.FromJSON(e.TextBody);if(a=new i.IntentRecognitionResult(void 0,t.RequestId,i.ResultReason.RecognizingIntent,h.Text,h.Duration,h.Offset,void 0,e.TextBody,void 0),c=new i.IntentRecognitionEventArgs(a,h.Offset,t.SessionId),this.intentRecognizer.recognizing)try{this.intentRecognizer.recognizing(this.intentRecognizer,c)}catch(l){}break;case"speech.phrase":var f=o.SimpleSpeechPhrase.FromJSON(e.TextBody);a=new i.IntentRecognitionResult(void 0,t.RequestId,o.EnumTranslation.implTranslateRecognitionResult(f.RecognitionStatus),f.DisplayText,f.Duration,f.Offset,void 0,e.TextBody,void 0),c=new i.IntentRecognitionEventArgs(a,a.offset,t.SessionId);var p=function(){if(u.recognizerConfig.IsContinuousRecognition&&u.SendTelemetryData(t.RequestId,n,t.GetTelemetry()),u.intentRecognizer.recognized)try{u.intentRecognizer.recognized(u.intentRecognizer,c)}catch(e){}if(r){try{r(a)}catch(i){s&&s(i)}r=void 0,s=void 0}};!1===this.intentDataSent||i.ResultReason.NoMatch===c.result.reason?p():this.pendingIntentArgs=c;break;case"response":this.recognizerConfig.IsContinuousRecognition&&this.SendTelemetryData(t.RequestId,n,t.GetTelemetry()),c=this.pendingIntentArgs,this.pendingIntentArgs=void 0;var d=o.IntentResponse.FromJSON(e.TextBody);void 0===c&&(c=new i.IntentRecognitionEventArgs(new i.IntentRecognitionResult,0,t.SessionId));var g=this.addedLmIntents[d.topScoringIntent.intent];if(void 0!==this.umbrellaIntent&&(g=this.umbrellaIntent),null!==d&&void 0!==g){var v=void 0===g.intentName?d.topScoringIntent.intent:g.intentName,y=c.result.reason;void 0!==v&&(y=i.ResultReason.RecognizedIntent);var m=void 0!==c.result.properties?c.result.properties:new i.PropertyCollection;m.setProperty(i.PropertyId.LanguageUnderstandingServiceResponse_JsonResult,e.TextBody),c=new i.IntentRecognitionEventArgs(new i.IntentRecognitionResult(v,c.result.resultId,y,c.result.text,c.result.duration,c.result.offset,c.result.errorDetails,c.result.json,m),c.offset,c.sessionId)}if(this.intentRecognizer.recognized)try{this.intentRecognizer.recognized(this.intentRecognizer,c)}catch(l){}if(r){try{r(c.result)}catch(b){s&&s(b)}r=void 0,s=void 0}}},t.prototype.ConnectionError=function(e,t,n){if(this.intentRecognizer.canceled){var r=new i.PropertyCollection;r.setProperty(o.CancellationErrorCodePropertyName,i.CancellationErrorCode[i.CancellationErrorCode.ConnectionFailure]);var s=(new i.IntentRecognitionResult(void 0,t,i.ResultReason.Canceled,void 0,void 0,void 0,n,void 0,r),new i.IntentRecognitionCanceledEventArgs(i.CancellationReason.Error,n,i.CancellationErrorCode.ConnectionFailure,void 0,void 0,e));try{this.intentRecognizer.canceled(this.intentRecognizer,s)}catch(a){}}},t}(o.ServiceRecognizerBase);t.IntentServiceRecognizer=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){this.intentResponse=JSON.parse(e)}return e.FromJSON=function(t){return new e(t)},Object.defineProperty(e.prototype,"query",{get:function(){return this.intentResponse.query},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"topScoringIntent",{get:function(){return this.intentResponse.topScoringIntent},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"entities",{get:function(){return this.intentResponse.entities},enumerable:!0,configurable:!0}),e}();t.IntentResponse=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(10),o=n(79),s=function(){function e(e){var t=this;this.isDisposed=!1,this.detachables=new Array,this.isAudioNodeDetached=!1,this.isCompleted=!1,this.OnAudioSourceAttachCompleted=function(e,n,r){t.audioNode=e,n?t.OnComplete():t.OnEvent(new i.ListeningStartedEvent(t.requestId,t.sessionId,t.audioSourceId,t.audioNodeId))},this.OnPreConnectionStart=function(e,n){t.authFetchEventId=e,t.sessionId=n,t.OnEvent(new i.ConnectingToServiceEvent(t.requestId,t.authFetchEventId,t.sessionId))},this.OnAuthCompleted=function(e,n){e&&t.OnComplete()},this.OnConnectionEstablishCompleted=function(e,n){return 200===e?void t.OnEvent(new i.RecognitionStartedEvent(t.RequestId,t.audioSourceId,t.audioNodeId,t.authFetchEventId,t.sessionId)):void(403===e?t.OnComplete():t.OnComplete())},this.OnServiceTurnEndResponse=function(){t.OnComplete()},this.Dispose=function(e){if(!t.isDisposed){t.isDisposed=!0;for(var n=0,r=t.detachables;n<r.length;n++){var i=r[n];i.Detach()}t.serviceTelemetryListener.Dispose()}},this.GetTelemetry=function(){return t.serviceTelemetryListener.GetTelemetry()},this.OnEvent=function(e){t.serviceTelemetryListener.OnEvent(e),r.Events.Instance.OnEvent(e)},this.OnComplete=function(){t.isCompleted||(t.isCompleted=!0,t.DetachAudioNode())},this.DetachAudioNode=function(){t.isAudioNodeDetached||(t.isAudioNodeDetached=!0,t.audioNode&&t.audioNode.Detach())},this.audioSourceId=e,this.requestId=r.CreateNoDashGuid(),this.audioNodeId=r.CreateNoDashGuid(),this.requestCompletionDeferral=new r.Deferred,this.serviceTelemetryListener=new o.ServiceTelemetryListener(this.requestId,this.audioSourceId,this.audioNodeId),this.OnEvent(new i.RecognitionTriggeredEvent(this.RequestId,this.sessionId,this.audioSourceId,this.audioNodeId))}return Object.defineProperty(e.prototype,"SessionId",{get:function(){return this.sessionId},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"RequestId",{get:function(){return this.requestId},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"AudioNodeId",{get:function(){return this.audioNodeId},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"CompletionPromise",{get:function(){return this.requestCompletionDeferral.Promise()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"IsSpeechEnded",{get:function(){return this.isAudioNodeDetached},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"IsCompleted",{get:function(){return this.isCompleted},enumerable:!0,configurable:!0}),e.prototype.ListenForServiceTelemetry=function(e){this.detachables.push(e.AttachListener(this.serviceTelemetryListener))},e}();t.RequestSession=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(10),o=function(){function e(e,t,n){var o=this;this.isDisposed=!1,this.listeningTriggerMetric=null,this.micMetric=null,this.connectionEstablishMetric=null,this.OnEvent=function(e){o.isDisposed||(e instanceof i.RecognitionTriggeredEvent&&e.RequestId===o.requestId&&(o.listeningTriggerMetric={End:e.EventTime,Name:"ListeningTrigger",Start:e.EventTime}),e instanceof r.AudioStreamNodeAttachingEvent&&e.AudioSourceId===o.audioSourceId&&e.AudioNodeId===o.audioNodeId&&(o.micStartTime=e.EventTime),e instanceof r.AudioStreamNodeAttachedEvent&&e.AudioSourceId===o.audioSourceId&&e.AudioNodeId===o.audioNodeId&&(o.micStartTime=e.EventTime),e instanceof r.AudioSourceErrorEvent&&e.AudioSourceId===o.audioSourceId&&(o.micMetric||(o.micMetric={End:e.EventTime,Error:e.Error,Name:"Microphone",Start:o.micStartTime})),e instanceof r.AudioStreamNodeErrorEvent&&e.AudioSourceId===o.audioSourceId&&e.AudioNodeId===o.audioNodeId&&(o.micMetric||(o.micMetric={End:e.EventTime,Error:e.Error,Name:"Microphone",Start:o.micStartTime})),e instanceof r.AudioStreamNodeDetachedEvent&&e.AudioSourceId===o.audioSourceId&&e.AudioNodeId===o.audioNodeId&&(o.micMetric||(o.micMetric={End:e.EventTime,Name:"Microphone",Start:o.micStartTime})),e instanceof i.ConnectingToServiceEvent&&e.RequestId===o.requestId&&(o.connectionId=e.SessionId),e instanceof r.ConnectionStartEvent&&e.ConnectionId===o.connectionId&&(o.connectionStartTime=e.EventTime),e instanceof r.ConnectionEstablishedEvent&&e.ConnectionId===o.connectionId&&(o.connectionEstablishMetric||(o.connectionEstablishMetric={End:e.EventTime,Id:o.connectionId,Name:"Connection",Start:o.connectionStartTime})),e instanceof r.ConnectionEstablishErrorEvent&&e.ConnectionId===o.connectionId&&(o.connectionEstablishMetric||(o.connectionEstablishMetric={End:e.EventTime,Error:o.GetConnectionError(e.StatusCode),Id:o.connectionId,Name:"Connection",Start:o.connectionStartTime})),e instanceof r.ConnectionMessageReceivedEvent&&e.ConnectionId===o.connectionId&&e.Message&&e.Message.Headers&&e.Message.Headers.path&&(o.receivedMessages[e.Message.Headers.path]||(o.receivedMessages[e.Message.Headers.path]=new Array),o.receivedMessages[e.Message.Headers.path].push(e.NetworkReceivedTime)))},this.GetTelemetry=function(){var e=new Array;o.listeningTriggerMetric&&e.push(o.listeningTriggerMetric),o.micMetric&&e.push(o.micMetric),o.connectionEstablishMetric&&e.push(o.connectionEstablishMetric);var t={Metrics:e,ReceivedMessages:o.receivedMessages},n=JSON.stringify(t);return o.receivedMessages={},o.listeningTriggerMetric=null,o.micMetric=null,o.connectionEstablishMetric=null,n},this.Dispose=function(){o.isDisposed=!0},this.GetConnectionError=function(e){switch(e){case 400:case 1002:case 1003:case 1005:case 1007:case 1008:case 1009:return"BadRequest";case 401:return"Unauthorized";case 403:return"Forbidden";case 503:case 1001:return"ServerUnavailable";case 500:case 1011:return"ServerError";case 408:case 504:return"Timeout";default:return"statuscode:"+e.toString()}},this.requestId=e,this.audioSourceId=t,this.audioNodeId=n,this.receivedMessages={}}return e}();t.ServiceTelemetryListener=o},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),o=n(4),s=n(0),a=function(e){function t(){return e.call(this)||this}return r(t,e),t.fromSubscription=function(e,t){o.Contracts.throwIfNullOrWhitespace(e,"subscriptionKey"),o.Contracts.throwIfNullOrWhitespace(t,"region");var n=new c;return n.properties.setProperty(s.PropertyId.SpeechServiceConnection_Key,e),n.properties.setProperty(s.PropertyId.SpeechServiceConnection_Region,t),n},t.fromAuthorizationToken=function(e,t){o.Contracts.throwIfNullOrWhitespace(e,"authorizationToken"),o.Contracts.throwIfNullOrWhitespace(t,"region");var n=new c;return n.properties.setProperty(s.PropertyId.SpeechServiceAuthorization_Token,e),n.properties.setProperty(s.PropertyId.SpeechServiceConnection_Region,t),n},t.fromEndpoint=function(e,t){o.Contracts.throwIfNull(e,"endpoint"),o.Contracts.throwIfNullOrWhitespace(t,"subscriptionKey");var n=new c;return n.properties.setProperty(s.PropertyId.SpeechServiceConnection_Endpoint,e.href),n.properties.setProperty(s.PropertyId.SpeechServiceConnection_Key,t),n},t}(s.SpeechConfig);t.SpeechTranslationConfig=a;var c=function(e){function t(){var t=e.call(this)||this;return t.speechProperties=new s.PropertyCollection,t}return r(t,e),Object.defineProperty(t.prototype,"authorizationToken",{set:function(e){o.Contracts.throwIfNullOrWhitespace(e,"value"),this.properties.setProperty(s.PropertyId.SpeechServiceAuthorization_Token,e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"speechRecognitionLanguage",{set:function(e){o.Contracts.throwIfNullOrWhitespace(e,"value"),this.properties.setProperty(s.PropertyId.SpeechServiceConnection_RecoLanguage,e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"subscriptionKey",{get:function(){return this.speechProperties.getProperty(s.PropertyId[s.PropertyId.SpeechServiceConnection_Key])},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"outputFormat",{get:function(){return s.OutputFormat[this.speechProperties.getProperty(i.OutputFormatPropertyName,s.OutputFormat[s.OutputFormat.Simple])]},set:function(e){this.speechProperties.setProperty(i.OutputFormatPropertyName,s.OutputFormat[e])},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endpointId",{get:function(){return this.speechProperties.getProperty(s.PropertyId.SpeechServiceConnection_EndpointId)},set:function(e){this.speechProperties.setProperty(s.PropertyId.SpeechServiceConnection_Endpoint,e)},enumerable:!0,configurable:!0}),t.prototype.addTargetLanguage=function(e){o.Contracts.throwIfNullOrWhitespace(e,"value");var t=this.targetLanguages;t.push(e),this.properties.setProperty(s.PropertyId.SpeechServiceConnection_TranslationToLanguages,t.join(","))},Object.defineProperty(t.prototype,"targetLanguages",{get:function(){return void 0!==this.speechProperties.getProperty(s.PropertyId.SpeechServiceConnection_TranslationToLanguages,void 0)?this.speechProperties.getProperty(s.PropertyId.SpeechServiceConnection_TranslationToLanguages).split(","):[]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"voiceName",{get:function(){return this.getProperty(s.PropertyId[s.PropertyId.SpeechServiceConnection_TranslationVoice])},set:function(e){o.Contracts.throwIfNullOrWhitespace(e,"value"),this.properties.setProperty(s.PropertyId.SpeechServiceConnection_TranslationVoice,e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"region",{get:function(){return this.speechProperties.getProperty(s.PropertyId.SpeechServiceConnection_Region)},enumerable:!0,configurable:!0}),t.prototype.setProperty=function(e,t){this.properties.setProperty(e,t)},t.prototype.getProperty=function(e,t){return this.speechProperties.getProperty(e,t)},Object.defineProperty(t.prototype,"properties",{get:function(){return this.speechProperties},enumerable:!0,configurable:!0}),t.prototype.close=function(){},t}(a);t.SpeechTranslationConfigImpl=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{
value:!0});var r=n(0),i=function(){function e(){this.keys=[],this.values=[]}return e.prototype.getProperty=function(e,t){var n;n="string"==typeof e?e:r.PropertyId[e];for(var i=0;i<this.keys.length;i++)if(this.keys[i]===n)return this.values[i];return t},e.prototype.setProperty=function(e,t){var n;n="string"==typeof e?e:r.PropertyId[e];for(var i=0;i<this.keys.length;i++)if(this.keys[i]===n)return void(this.values[i]=t);this.keys.push(n),this.values.push(t)},e.prototype.clone=function(){for(var t=new e,n=0;n<this.keys.length;n++)t.keys.push(this.keys[n]),t.values.push(this.values[n]);return t},e}();t.PropertyCollection=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r;!function(e){e[e.SpeechServiceConnection_Key=0]="SpeechServiceConnection_Key",e[e.SpeechServiceConnection_Endpoint=1]="SpeechServiceConnection_Endpoint",e[e.SpeechServiceConnection_Region=2]="SpeechServiceConnection_Region",e[e.SpeechServiceAuthorization_Token=3]="SpeechServiceAuthorization_Token",e[e.SpeechServiceAuthorization_Type=4]="SpeechServiceAuthorization_Type",e[e.SpeechServiceConnection_EndpointId=5]="SpeechServiceConnection_EndpointId",e[e.SpeechServiceConnection_TranslationToLanguages=6]="SpeechServiceConnection_TranslationToLanguages",e[e.SpeechServiceConnection_TranslationVoice=7]="SpeechServiceConnection_TranslationVoice",e[e.SpeechServiceConnection_TranslationFeatures=8]="SpeechServiceConnection_TranslationFeatures",e[e.SpeechServiceConnection_IntentRegion=9]="SpeechServiceConnection_IntentRegion",e[e.SpeechServiceConnection_RecoMode=10]="SpeechServiceConnection_RecoMode",e[e.SpeechServiceConnection_RecoLanguage=11]="SpeechServiceConnection_RecoLanguage",e[e.Speech_SessionId=12]="Speech_SessionId",e[e.SpeechServiceResponse_RequestDetailedResultTrueFalse=13]="SpeechServiceResponse_RequestDetailedResultTrueFalse",e[e.SpeechServiceResponse_RequestProfanityFilterTrueFalse=14]="SpeechServiceResponse_RequestProfanityFilterTrueFalse",e[e.SpeechServiceResponse_JsonResult=15]="SpeechServiceResponse_JsonResult",e[e.SpeechServiceResponse_JsonErrorDetails=16]="SpeechServiceResponse_JsonErrorDetails",e[e.CancellationDetails_Reason=17]="CancellationDetails_Reason",e[e.CancellationDetails_ReasonText=18]="CancellationDetails_ReasonText",e[e.CancellationDetails_ReasonDetailedText=19]="CancellationDetails_ReasonDetailedText",e[e.LanguageUnderstandingServiceResponse_JsonResult=20]="LanguageUnderstandingServiceResponse_JsonResult"}(r=t.PropertyId||(t.PropertyId={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),i=n(1),o=n(4),s=n(0),a=function(){function e(e){this.audioConfig=void 0!==e?e:s.AudioConfig.fromDefaultMicrophoneInput(),this.disposed=!1}return e.prototype.close=function(){o.Contracts.throwIfDisposed(this.disposed),this.dispose(!0)},e.prototype.dispose=function(e){this.disposed||(this.disposed=!0)},e.prototype.implRecognizerSetup=function(e,t,n,o){var a=void 0!==window?"Browser":"Node",c="unknown",u="unknown";void 0!==navigator&&(a=a+"/"+navigator.platform,c=navigator.userAgent,u=navigator.appVersion);var h=this.CreateRecognizerConfig(new r.PlatformConfig(new r.Context(new r.OS(a,c,u))),e),l=t.getProperty(s.PropertyId.SpeechServiceConnection_Key,void 0),f=l?new r.CognitiveSubscriptionKeyAuthentication(l):new r.CognitiveTokenAuthentication(function(e){var n=t.getProperty(s.PropertyId.SpeechServiceAuthorization_Token,void 0);return i.PromiseHelper.FromResult(n)},function(e){var n=t.getProperty(s.PropertyId.SpeechServiceAuthorization_Token,void 0);return i.PromiseHelper.FromResult(n)});return this.CreateServiceRecognizer(f,o,n,h)},e.prototype.implRecognizerStart=function(e,t,n,r){e.Recognize(r,t,n).On(function(e){},function(e){n&&n("Runtime error: "+e)})},e}();t.Recognizer=a},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),o=n(19),s=n(4),a=n(0),c=function(e){function t(t,n){var r=e.call(this,n)||this;r.disposedSpeechRecognizer=!1;var i=t;return s.Contracts.throwIfNull(i,"speechConfig"),r.privProperties=i.properties.clone(),s.Contracts.throwIfNullOrWhitespace(i.properties.getProperty(a.PropertyId.SpeechServiceConnection_RecoLanguage),a.PropertyId[a.PropertyId.SpeechServiceConnection_RecoLanguage]),r}return r(t,e),Object.defineProperty(t.prototype,"endpointId",{get:function(){return s.Contracts.throwIfDisposed(this.disposedSpeechRecognizer),this.properties.getProperty(a.PropertyId.SpeechServiceConnection_EndpointId,"00000000-0000-0000-0000-000000000000")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"authorizationToken",{get:function(){return this.properties.getProperty(a.PropertyId.SpeechServiceAuthorization_Token)},set:function(e){s.Contracts.throwIfNullOrWhitespace(e,"token"),this.properties.setProperty(a.PropertyId.SpeechServiceAuthorization_Token,e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"speechRecognitionLanguage",{get:function(){return s.Contracts.throwIfDisposed(this.disposedSpeechRecognizer),this.properties.getProperty(a.PropertyId.SpeechServiceConnection_RecoLanguage)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"outputFormat",{get:function(){return s.Contracts.throwIfDisposed(this.disposedSpeechRecognizer),this.properties.getProperty(i.OutputFormatPropertyName,a.OutputFormat[a.OutputFormat.Simple])===a.OutputFormat[a.OutputFormat.Simple]?a.OutputFormat.Simple:a.OutputFormat.Detailed},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"properties",{get:function(){return this.privProperties},enumerable:!0,configurable:!0}),t.prototype.recognizeOnceAsync=function(e,t){try{s.Contracts.throwIfDisposed(this.disposedSpeechRecognizer),this.implCloseExistingRecognizer(),this.reco=this.implRecognizerSetup(i.RecognitionMode.Interactive,this.properties,this.audioConfig,new o.SpeechConnectionFactory),this.implRecognizerStart(this.reco,e,t)}catch(n){if(t)if(n instanceof Error){var r=n;t(r.name+": "+r.message)}else t(n)}},t.prototype.startContinuousRecognitionAsync=function(e,t){try{if(s.Contracts.throwIfDisposed(this.disposedSpeechRecognizer),this.implCloseExistingRecognizer(),this.reco=this.implRecognizerSetup(i.RecognitionMode.Conversation,this.properties,this.audioConfig,new o.SpeechConnectionFactory),this.implRecognizerStart(this.reco,void 0,void 0),e){try{e()}catch(n){t&&t(n)}e=void 0}}catch(r){if(t)if(r instanceof Error){var a=r;t(a.name+": "+a.message)}else t(r)}},t.prototype.stopContinuousRecognitionAsync=function(e,t){try{if(s.Contracts.throwIfDisposed(this.disposedSpeechRecognizer),this.implCloseExistingRecognizer(),e)try{e()}catch(n){t&&t(n)}}catch(r){if(t)if(r instanceof Error){var i=r;t(i.name+": "+i.message)}else t(r)}},t.prototype.startKeywordRecognitionAsync=function(e,t,n){s.Contracts.throwIfNull(e,"model"),n&&n("Not yet implemented.")},t.prototype.stopKeywordRecognitionAsync=function(e,t){e&&e()},t.prototype.close=function(){s.Contracts.throwIfDisposed(this.disposedSpeechRecognizer),this.dispose(!0)},t.prototype.dispose=function(t){this.disposedSpeechRecognizer||(t&&(this.implCloseExistingRecognizer(),this.disposedSpeechRecognizer=!0),e.prototype.dispose.call(this,t))},t.prototype.CreateRecognizerConfig=function(e,t){return new i.RecognizerConfig(e,t,this.properties)},t.prototype.CreateServiceRecognizer=function(e,t,n,r){var o=n;return new i.SpeechServiceRecognizer(e,t,o,r,this)},t.prototype.implCloseExistingRecognizer=function(){this.reco&&(this.reco.AudioSource.TurnOff(),this.reco.Dispose(),this.reco=void 0)},t}(a.Recognizer);t.SpeechRecognizer=c},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),o=n(4),s=n(0),a=function(e){function t(t,n){var r=this;o.Contracts.throwIfNullOrUndefined(t,"speechConfig");var i=t;return o.Contracts.throwIfNullOrUndefined(i,"speechConfig"),r=e.call(this,n)||this,r.intentDataSent=!1,r.addedIntents=[],r.addedLmIntents={},r.disposedIntentRecognizer=!1,r.privProperties=i.properties,o.Contracts.throwIfNullOrWhitespace(r.properties.getProperty(s.PropertyId.SpeechServiceConnection_RecoLanguage),s.PropertyId[s.PropertyId.SpeechServiceConnection_RecoLanguage]),r}return r(t,e),Object.defineProperty(t.prototype,"speechRecognitionLanguage",{get:function(){return o.Contracts.throwIfDisposed(this.disposedIntentRecognizer),this.properties.getProperty(s.PropertyId.SpeechServiceConnection_RecoLanguage)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"authorizationToken",{get:function(){return this.properties.getProperty(s.PropertyId.SpeechServiceAuthorization_Token)},set:function(e){this.properties.setProperty(s.PropertyId.SpeechServiceAuthorization_Token,e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"properties",{get:function(){return this.privProperties},enumerable:!0,configurable:!0}),t.prototype.recognizeOnceAsync=function(e,t){try{o.Contracts.throwIfDisposed(this.disposedIntentRecognizer),this.implCloseExistingRecognizer();var n=void 0;(0!==Object.keys(this.addedLmIntents).length||void 0!==this.umbrellaIntent)&&(n=this.buildSpeechContext(),this.intentDataSent=!0),this.reco=this.implRecognizerSetup(i.RecognitionMode.Interactive,this.properties,this.audioConfig,new i.IntentConnectionFactory);var r=this.reco;r.setIntents(this.addedLmIntents,this.umbrellaIntent),this.implRecognizerStart(this.reco,e,t,n)}catch(s){if(t)if(s instanceof Error){var a=s;t(a.name+": "+a.message)}else t(s)}},t.prototype.startContinuousRecognitionAsync=function(e,t){try{o.Contracts.throwIfDisposed(this.disposedIntentRecognizer),this.implCloseExistingRecognizer();var n=void 0;0!==Object.keys(this.addedLmIntents).length&&(n=this.buildSpeechContext(),this.intentDataSent=!0),this.reco=this.implRecognizerSetup(i.RecognitionMode.Conversation,this.properties,this.audioConfig,new i.IntentConnectionFactory);var r=this.reco;if(r.setIntents(this.addedLmIntents,this.umbrellaIntent),this.implRecognizerStart(this.reco,void 0,void 0,n),e){try{e()}catch(s){t&&t(s)}e=void 0}}catch(a){if(t)if(a instanceof Error){var c=a;t(c.name+": "+c.message)}else t(a)}},t.prototype.stopContinuousRecognitionAsync=function(e,t){try{if(o.Contracts.throwIfDisposed(this.disposedIntentRecognizer),this.implCloseExistingRecognizer(),e)try{e()}catch(n){t&&t(n)}}catch(r){if(t)if(r instanceof Error){var i=r;t(i.name+": "+i.message)}else t(r)}},t.prototype.startKeywordRecognitionAsync=function(e,t,n){o.Contracts.throwIfNull(e,"model"),n&&n("Not yet implemented.")},t.prototype.stopKeywordRecognitionAsync=function(e,t){e&&e()},t.prototype.addIntent=function(e,t){o.Contracts.throwIfDisposed(this.disposedIntentRecognizer),o.Contracts.throwIfNullOrWhitespace(t,"intentId"),o.Contracts.throwIfNullOrWhitespace(e,"simplePhrase"),this.addedIntents.push([t,e])},t.prototype.addIntentWithLanguageModel=function(e,t,n){o.Contracts.throwIfDisposed(this.disposedIntentRecognizer),o.Contracts.throwIfNullOrWhitespace(e,"intentId"),o.Contracts.throwIfNull(t,"model");var r=t;o.Contracts.throwIfNullOrWhitespace(r.appId,"model.appId"),this.addedLmIntents[e]=new i.AddedLmIntent(r,n)},t.prototype.addAllIntents=function(e,t){o.Contracts.throwIfNull(e,"model");var n=e;o.Contracts.throwIfNullOrWhitespace(n.appId,"model.appId"),this.umbrellaIntent=new i.AddedLmIntent(n,t)},t.prototype.close=function(){o.Contracts.throwIfDisposed(this.disposedIntentRecognizer),this.dispose(!0)},t.prototype.CreateRecognizerConfig=function(e,t){return new i.RecognizerConfig(e,t,this.properties)},t.prototype.CreateServiceRecognizer=function(e,t,n,r){var o=n;return new i.IntentServiceRecognizer(e,t,o,r,this,this.intentDataSent)},t.prototype.dispose=function(t){this.disposedIntentRecognizer||t&&(this.disposedIntentRecognizer=!0,e.prototype.dispose.call(this,t))},t.prototype.implCloseExistingRecognizer=function(){this.reco&&(this.reco.AudioSource.TurnOff(),this.reco.Dispose(),this.reco=void 0)},t.prototype.buildSpeechContext=function(){var e,t,n,r=[];void 0!==this.umbrellaIntent&&(e=this.umbrellaIntent.modelImpl.appId,t=this.umbrellaIntent.modelImpl.region,n=this.umbrellaIntent.modelImpl.subscriptionKey);for(var i=0,o=Object.keys(this.addedLmIntents);i<o.length;i++){var a=o[i],c=this.addedLmIntents[a];if(void 0===e)e=c.modelImpl.appId;else if(e!==c.modelImpl.appId)throw new Error("Intents must all be from the same LUIS model");if(void 0===t)t=c.modelImpl.region;else if(t!==c.modelImpl.region)throw new Error("Intents must all be from the same LUIS model in a single region");if(void 0===n)n=c.modelImpl.subscriptionKey;else if(n!==c.modelImpl.subscriptionKey)throw new Error("Intents must all use the same subscription key");var u="luis/"+e+"-PRODUCTION#"+a;r.push(u)}return JSON.stringify({dgi:{ReferenceGrammars:void 0===this.umbrellaIntent?r:["luis/"+e+"-PRODUCTION"]},intent:{id:e,key:void 0===n?this.privProperties.getProperty(s.PropertyId[s.PropertyId.SpeechServiceConnection_Key]):n,provider:"LUIS"}})},t}(s.Recognizer);t.IntentRecognizer=a},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),o=n(4),s=n(0),a=function(e){function t(t,n){var r=this,i=t;return o.Contracts.throwIfNull(i,"speechConfig"),r=e.call(this,n)||this,r.disposedTranslationRecognizer=!1,r.privProperties=i.properties.clone(),void 0!==r.properties.getProperty(s.PropertyId.SpeechServiceConnection_TranslationVoice,void 0)&&o.Contracts.throwIfNullOrWhitespace(r.properties.getProperty(s.PropertyId.SpeechServiceConnection_TranslationVoice),s.PropertyId[s.PropertyId.SpeechServiceConnection_TranslationVoice]),o.Contracts.throwIfNullOrWhitespace(r.properties.getProperty(s.PropertyId.SpeechServiceConnection_TranslationToLanguages),s.PropertyId[s.PropertyId.SpeechServiceConnection_TranslationToLanguages]),o.Contracts.throwIfNullOrWhitespace(r.properties.getProperty(s.PropertyId.SpeechServiceConnection_RecoLanguage),s.PropertyId[s.PropertyId.SpeechServiceConnection_RecoLanguage]),r}return r(t,e),Object.defineProperty(t.prototype,"speechRecognitionLanguage",{get:function(){return o.Contracts.throwIfDisposed(this.disposedTranslationRecognizer),this.properties.getProperty(s.PropertyId.SpeechServiceConnection_RecoLanguage)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"targetLanguages",{get:function(){return o.Contracts.throwIfDisposed(this.disposedTranslationRecognizer),this.properties.getProperty(s.PropertyId.SpeechServiceConnection_TranslationToLanguages).split(",")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"voiceName",{get:function(){return o.Contracts.throwIfDisposed(this.disposedTranslationRecognizer),this.properties.getProperty(s.PropertyId.SpeechServiceConnection_TranslationVoice,void 0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"authorizationToken",{get:function(){return this.properties.getProperty(s.PropertyId.SpeechServiceAuthorization_Token)},set:function(e){this.properties.setProperty(s.PropertyId.SpeechServiceAuthorization_Token,e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"properties",{get:function(){return this.privProperties},enumerable:!0,configurable:!0}),t.prototype.recognizeOnceAsync=function(e,t){try{o.Contracts.throwIfDisposed(this.disposedTranslationRecognizer),this.implCloseExistingRecognizer(),this.reco=this.implRecognizerSetup(i.RecognitionMode.Conversation,this.properties,this.audioConfig,new i.TranslationConnectionFactory),this.implRecognizerStart(this.reco,e,t)}catch(n){if(t)if(n instanceof Error){var r=n;t(r.name+": "+r.message)}else t(n)}},t.prototype.startContinuousRecognitionAsync=function(e,t){try{if(o.Contracts.throwIfDisposed(this.disposedTranslationRecognizer),this.implCloseExistingRecognizer(),this.reco=this.implRecognizerSetup(i.RecognitionMode.Conversation,this.properties,this.audioConfig,new i.TranslationConnectionFactory),this.implRecognizerStart(this.reco,void 0,void 0),e){try{e()}catch(n){t&&t(n)}e=void 0}}catch(r){if(t)if(r instanceof Error){var s=r;t(s.name+": "+s.message)}else t(r)}},t.prototype.stopContinuousRecognitionAsync=function(e,t){try{if(o.Contracts.throwIfDisposed(this.disposedTranslationRecognizer),this.implCloseExistingRecognizer(),e)try{e()}catch(n){t&&t(n)}}catch(r){if(t)if(r instanceof Error){var i=r;t(i.name+": "+i.message)}else t(r)}},t.prototype.close=function(){o.Contracts.throwIfDisposed(this.disposedTranslationRecognizer),this.dispose(!0)},t.prototype.dispose=function(t){this.disposedTranslationRecognizer||t&&(this.implCloseExistingRecognizer(),this.disposedTranslationRecognizer=!0,e.prototype.dispose.call(this,t))},t.prototype.CreateRecognizerConfig=function(e,t){return new i.RecognizerConfig(e,i.RecognitionMode.Conversation,this.properties)},t.prototype.CreateServiceRecognizer=function(e,t,n,r){var o=n;return new i.TranslationServiceRecognizer(e,t,o,r,this)},t.prototype.implCloseExistingRecognizer=function(){this.reco&&(this.reco.AudioSource.TurnOff(),this.reco.Dispose(),this.reco=void 0)},t}(s.Recognizer);t.TranslationRecognizer=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=function(){function e(){this.map=new r.PropertyCollection}return e.prototype.get=function(e,t){return this.map.getProperty(e,t)},e.prototype.set=function(e,t){this.map.setProperty(e,t)},e}();t.Translations=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r;!function(e){e[e.NotRecognized=0]="NotRecognized",e[e.InitialSilenceTimeout=1]="InitialSilenceTimeout",e[e.InitialBabbleTimeout=2]="InitialBabbleTimeout"}(r=t.NoMatchReason||(t.NoMatchReason={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),i=n(0),o=function(){function e(e){this.privReason=e}return e.fromResult=function(t){var n=r.SimpleSpeechPhrase.FromJSON(t.json),o=i.NoMatchReason.NotRecognized;switch(n.RecognitionStatus){case r.RecognitionStatus.BabbleTimeout:o=i.NoMatchReason.InitialBabbleTimeout;break;case r.RecognitionStatus.InitialSilenceTimeout:o=i.NoMatchReason.InitialSilenceTimeout;break;default:o=i.NoMatchReason.NotRecognized}return new e(o)},Object.defineProperty(e.prototype,"reason",{get:function(){return this.privReason},enumerable:!0,configurable:!0}),e}();t.NoMatchDetails=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t,n,r,i){this.privCancelReason=t,this.privErrorDetails=n,this.privResult=i,this.privSessionId=e,this.privErrorCode=r}return Object.defineProperty(e.prototype,"result",{get:function(){return this.privResult},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sessionId",{get:function(){return this.privSessionId},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"reason",{get:function(){return this.privCancelReason},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"errorCode",{get:function(){return this.privErrorCode},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"errorDetails",{get:function(){return this.privErrorDetails},enumerable:!0,configurable:!0}),e}();t.TranslationRecognitionCanceledEventArgs=r},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),o=function(e){function t(t,n,r,i,o,s){var a=e.call(this,i,o,s)||this;return a.privReason=t,a.privErrorDetails=n,a.privErrorCode=r,a}return r(t,e),Object.defineProperty(t.prototype,"reason",{get:function(){return this.privReason},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"errorCode",{get:function(){return this.privErrorCode},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"errorDetails",{get:function(){return this.privErrorDetails},enumerable:!0,configurable:!0}),t}(i.IntentRecognitionEventArgs);t.IntentRecognitionCanceledEventArgs=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),i=n(0),o=function(){function e(e,t,n){this.privReason=e,this.privErrorDetails=t,this.privErrorCode=n}return e.fromResult=function(t){var n=i.CancellationReason.Error,o=i.CancellationErrorCode.NoError;if(t.json){var s=r.SimpleSpeechPhrase.FromJSON(t.json);n=r.EnumTranslation.implTranslateCancelResult(s.RecognitionStatus)}return t.properties&&(o=i.CancellationErrorCode[t.properties.getProperty(r.CancellationErrorCodePropertyName,i.CancellationErrorCode[i.CancellationErrorCode.NoError])]),new e(n,t.errorDetails,o)},Object.defineProperty(e.prototype,"reason",{get:function(){return this.privReason},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"errorDetails",{get:function(){return this.privErrorDetails},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ErrorCode",{get:function(){return this.privErrorCode},enumerable:!0,configurable:!0}),e}();t.CancellationDetails=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r;!function(e){e[e.NoError=0]="NoError",e[e.AuthenticationFailure=1]="AuthenticationFailure",e[e.BadRequestParameters=2]="BadRequestParameters",e[e.TooManyRequests=3]="TooManyRequests",e[e.ConnectionFailure=4]="ConnectionFailure",e[e.ServiceTimeout=5]="ServiceTimeout",e[e.ServiceError=6]="ServiceError",e[e.RuntimeError=7]="RuntimeError"}(r=t.CancellationErrorCode||(t.CancellationErrorCode={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(1),o=n(6),s=function(){function e(t,n){var r=this;this.streams={},this.TurnOn=function(){if("undefined"==typeof FileReader){var t="Browser does not support FileReader.";return r.OnEvent(new i.AudioSourceErrorEvent(t,"")),i.PromiseHelper.FromError(t)}if(r.file.name.lastIndexOf(".wav")!==r.file.name.length-4){var t=r.file.name+" is not supported. Only WAVE files are allowed at the moment.";return r.OnEvent(new i.AudioSourceErrorEvent(t,"")),i.PromiseHelper.FromError(t)}if(r.file.size>e.MAX_SIZE){var t=r.file.name+" exceeds the maximum allowed file size ("+e.MAX_SIZE+").";return r.OnEvent(new i.AudioSourceErrorEvent(t,"")),i.PromiseHelper.FromError(t)}return r.OnEvent(new i.AudioSourceInitializingEvent(r.id)),r.OnEvent(new i.AudioSourceReadyEvent(r.id)),i.PromiseHelper.FromResult(!0)},this.Id=function(){return r.id},this.Attach=function(e){return r.OnEvent(new i.AudioStreamNodeAttachingEvent(r.id,e)),r.Upload(e).OnSuccessContinueWith(function(t){return r.OnEvent(new i.AudioStreamNodeAttachedEvent(r.id,e)),{Detach:function(){t.Close(),delete r.streams[e],r.OnEvent(new i.AudioStreamNodeDetachedEvent(r.id,e)),r.TurnOff()},Id:function(){return e},Read:function(){return t.Read()}}})},this.Detach=function(e){e&&r.streams[e]&&(r.streams[e].Close(),delete r.streams[e],r.OnEvent(new i.AudioStreamNodeDetachedEvent(r.id,e)))},this.TurnOff=function(){for(var e in r.streams)if(e){var t=r.streams[e];t&&!t.IsClosed&&t.Close()}return r.OnEvent(new i.AudioSourceOffEvent(r.id)),i.PromiseHelper.FromResult(!0)},this.Upload=function(t){return r.TurnOn().OnSuccessContinueWith(function(n){var s=new i.Stream(t);r.streams[t]=s;var a=new FileReader,c=0,u=e.CHUNK_SIZE,h=0,l=function(t){if(!s.IsClosed){if(0!==h){var n=Date.now()-h;if(n<e.UPLOAD_INTERVAL)return void new o.Timer(e.UPLOAD_INTERVAL-n,l).start()}if(s.Write(a.result),h=Date.now(),u<r.file.size){c=u,u=Math.min(u+e.CHUNK_SIZE,r.file.size);var i=r.file.slice(c,u);a.readAsArrayBuffer(i)}else s.Close()}};a.onload=l,a.onerror=function(e){var n="Error occurred while processing '"+r.file.name+"'. "+e.error;throw r.OnEvent(new i.AudioStreamNodeErrorEvent(r.id,t,e.error)),new Error(n)};var f=r.file.slice(c,u);return a.readAsArrayBuffer(f),s.GetReader()})},this.OnEvent=function(e){r.events.OnEvent(e),i.Events.Instance.OnEvent(e)},this.id=n?n:i.CreateNoDashGuid(),this.events=new i.EventSource,this.file=t}return Object.defineProperty(e.prototype,"Format",{get:function(){return e.FILEFORMAT},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Events",{get:function(){return this.events},enumerable:!0,configurable:!0}),e.SAMPLE_RATE=32e3,e.CHUNK_SIZE=2*e.SAMPLE_RATE/5,e.UPLOAD_INTERVAL=200,e.MAX_SIZE=600*e.SAMPLE_RATE+44,e.FILEFORMAT=r.AudioStreamFormat.getWaveFormatPCM(16e3,16,1),e}();t.FileAudioSource=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){var t=this;this.Record=function(e,n,r){var i=new MediaRecorder(n,t.mediaRecorderOptions),o=100;i.ondataavailable=function(e){if(r){var t=new FileReader;t.readAsArrayBuffer(e.data),t.onloadend=function(e){r.Write(t.result)}}},t.mediaResources={recorder:i,stream:n},i.start(o)},this.ReleaseMediaResources=function(e){"inactive"!==t.mediaResources.recorder.state&&t.mediaResources.recorder.stop(),t.mediaResources.stream.getTracks().forEach(function(e){return e.stop()})},this.mediaRecorderOptions=e}return e}();t.OpusRecorder=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=function(){function e(){var e=this;this.Record=function(t,n,i){var o=16e3,s=function(){var e=0;try{return t.createScriptProcessor(e,1,1)}catch(n){e=2048;for(var r=t.sampleRate;16384>e&&r>=2*o;)e<<=1,r>>=1;return t.createScriptProcessor(e,1,1)}}(),a=new r.RiffPcmEncoder(t.sampleRate,o),c=!0;s.onaudioprocess=function(e){var t=e.inputBuffer.getChannelData(0);if(i&&!i.IsClosed){var n=a.Encode(c,t);n&&(i.Write(n),c=!1)}};var u=t.createMediaStreamSource(n);e.mediaResources={scriptProcessorNode:s,source:u,stream:n},u.connect(s),s.connect(t.destination)},this.ReleaseMediaResources=function(t){e.mediaResources&&(e.mediaResources.scriptProcessorNode&&(e.mediaResources.scriptProcessorNode.disconnect(t.destination),e.mediaResources.scriptProcessorNode=null),e.mediaResources.source&&(e.mediaResources.source.disconnect(),e.mediaResources.stream.getTracks().forEach(function(e){return e.stop()}),e.mediaResources.source=null))}}return e}();t.PcmRecorder=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=function(){function e(){this.Get=function(e){if(!e)throw new r.ArgumentNullError("key");return sessionStorage.getItem(e)},this.GetOrAdd=function(e,t){if(!e)throw new r.ArgumentNullError("key");var n=sessionStorage.getItem(e);return(null===n||void 0===n)&&sessionStorage.setItem(e,t),sessionStorage.getItem(e)},this.Set=function(e,t){if(!e)throw new r.ArgumentNullError("key");sessionStorage.setItem(e,t)},this.Remove=function(e){if(!e)throw new r.ArgumentNullError("key");sessionStorage.removeItem(e)}}return e}();t.SessionStorage=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){var n=this;this.start=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];n.timerId&&n.stop(),n.timerId=setTimeout(n.successCallback,n.delayInMillisec,e)},this.stop=function(){clearTimeout(n.timerId)},this.delayInMillisec=e,this.successCallback=t}return e}();t.Timer=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(20),o=function(){function e(e,t,n,o,s){var a=this;if(this.isDisposed=!1,this.Dispose=function(){a.isDisposed=!0,a.connectionMessageAdapter&&a.connectionMessageAdapter.Close()},this.IsDisposed=function(){return a.isDisposed},this.State=function(){return a.connectionMessageAdapter.State},this.Open=function(){return a.connectionMessageAdapter.Open()},this.Send=function(e){return a.connectionMessageAdapter.Send(e)},this.Read=function(){return a.connectionMessageAdapter.Read()},!e)throw new r.ArgumentNullError("uri");if(!o)throw new r.ArgumentNullError("messageFormatter");this.messageFormatter=o;var c="",u=0;if(t)for(var h in t)if(h){c+=0===u&&-1===e.indexOf("?")?"?":"&";var l=encodeURIComponent(t[h]);c+=h+"="+l,u++}if(n)for(var f in n)if(f){c+=0===u?"?":"&";var l=encodeURIComponent(n[f]);c+=f+"="+l,u++}this.uri=e+c,this.id=s?s:r.CreateNoDashGuid(),this.connectionMessageAdapter=new i.WebsocketMessageAdapter(this.uri,this.Id,this.messageFormatter)}return Object.defineProperty(e.prototype,"Id",{get:function(){return this.id},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Events",{get:function(){return this.connectionMessageAdapter.Events},enumerable:!0,configurable:!0}),e}();t.WebsocketConnection=o}]),function(){function hex2b64(e){for(var t,n="",r=0;r+3<=e.length;r+=3)t=parseInt(e.substring(r,r+3),16),n+=b64map.charAt(t>>6)+b64map.charAt(63&t);if(r+1==e.length?(t=parseInt(e.substring(r,r+1),16),n+=b64map.charAt(t<<2)):r+2==e.length&&(t=parseInt(e.substring(r,r+2),16),n+=b64map.charAt(t>>2)+b64map.charAt((3&t)<<4)),b64pad)for(;(3&n.length)>0;)n+=b64pad;return n}function b64tohex(e){for(var t,n,r="",i=0,o=0;o<e.length&&e.charAt(o)!=b64pad;++o)n=b64map.indexOf(e.charAt(o)),0>n||(0==i?(r+=int2char(n>>2),t=3&n,i=1):1==i?(r+=int2char(t<<2|n>>4),t=15&n,i=2):2==i?(r+=int2char(t),r+=int2char(n>>2),t=3&n,i=3):(r+=int2char(t<<2|n>>4),r+=int2char(15&n),i=0));return 1==i&&(r+=int2char(t<<2)),r}function b64toBA(e){for(var t=b64tohex(e),n=[],r=0;2*r<t.length;++r)n[r]=parseInt(t.substring(2*r,2*r+2),16);return n}function BigInteger(e,t,n){null!=e&&("number"==typeof e?this.fromNumber(e,t,n):null==t&&"string"!=typeof e?this.fromString(e,256):this.fromString(e,t))}function nbi(){return new BigInteger(null)}function am1(e,t,n,r,i,o){for(;--o>=0;){var s=t*this[e++]+n[r]+i;i=Math.floor(s/67108864),n[r++]=67108863&s}return i}function am2(e,t,n,r,i,o){for(var s=32767&t,a=t>>15;--o>=0;){var c=32767&this[e],u=this[e++]>>15,h=a*c+u*s;c=s*c+((32767&h)<<15)+n[r]+(1073741823&i),i=(c>>>30)+(h>>>15)+a*u+(i>>>30),n[r++]=1073741823&c}return i}function am3(e,t,n,r,i,o){for(var s=16383&t,a=t>>14;--o>=0;){var c=16383&this[e],u=this[e++]>>14,h=a*c+u*s;c=s*c+((16383&h)<<14)+n[r]+i,i=(c>>28)+(h>>14)+a*u,n[r++]=268435455&c}return i}function int2char(e){return BI_RM.charAt(e)}function intAt(e,t){var n=BI_RC[e.charCodeAt(t)];return null==n?-1:n}function bnpCopyTo(e){for(var t=this.t-1;t>=0;--t)e[t]=this[t];e.t=this.t,e.s=this.s}function bnpFromInt(e){this.t=1,this.s=0>e?-1:0,e>0?this[0]=e:-1>e?this[0]=e+this.DV:this.t=0}function nbv(e){var t=nbi();return t.fromInt(e),t}function bnpFromString(e,t){var n,r;if(16==t)n=4;else if(8==t)n=3;else if(256==t)n=8;else if(2==t)n=1;else if(32==t)n=5;else{if(4!=t)return void this.fromRadix(e,t);n=2}this.t=0,this.s=0;for(var i=e.length,o=!1,s=0;--i>=0;)r=8==n?255&e[i]:intAt(e,i),0>r?"-"==e.charAt(i)&&(o=!0):(o=!1,0==s?this[this.t++]=r:s+n>this.DB?(this[this.t-1]|=(r&(1<<this.DB-s)-1)<<s,this[this.t++]=r>>this.DB-s):this[this.t-1]|=r<<s,s+=n,s>=this.DB&&(s-=this.DB));8==n&&0!=(128&e[0])&&(this.s=-1,s>0&&(this[this.t-1]|=(1<<this.DB-s)-1<<s)),this.clamp(),o&&BigInteger.ZERO.subTo(this,this)}function bnpClamp(){for(var e=this.s&this.DM;this.t>0&&this[this.t-1]==e;)--this.t}function bnToString(e){var t;if(this.s<0)return"-"+this.negate().toString(e);
if(16==e)t=4;else if(8==e)t=3;else if(2==e)t=1;else if(32==e)t=5;else{if(4!=e)return this.toRadix(e);t=2}var n,r=(1<<t)-1,i=!1,o="",s=this.t,a=this.DB-s*this.DB%t;if(s-->0)for(a<this.DB&&(n=this[s]>>a)>0&&(i=!0,o=int2char(n));s>=0;)t>a?n=(this[s]&(1<<a)-1)<<t-a|this[--s]>>(a+=this.DB-t):(n=this[s]>>(a-=t)&r,0>=a&&(a+=this.DB,--s)),n>0&&(i=!0),i&&(o+=int2char(n));return i?o:"0"}function bnNegate(){var e=nbi();return BigInteger.ZERO.subTo(this,e),e}function bnAbs(){return this.s<0?this.negate():this}function bnCompareTo(e){var t,n=this.s-e.s;if(0!=n)return n;if(t=this.t,n=t-e.t,0!=n)return this.s<0?-n:n;for(;--t>=0;)if(0!=(n=this[t]-e[t]))return n;return 0}function nbits(e){var t,n=1;return 0!=(t=e>>>16)&&(e=t,n+=16),0!=(t=e>>8)&&(e=t,n+=8),0!=(t=e>>4)&&(e=t,n+=4),0!=(t=e>>2)&&(e=t,n+=2),0!=(t=e>>1)&&(e=t,n+=1),n}function bnBitLength(){return this.t<=0?0:this.DB*(this.t-1)+nbits(this[this.t-1]^this.s&this.DM)}function bnpDLShiftTo(e,t){for(var n=this.t-1;n>=0;--n)t[n+e]=this[n];for(n=e-1;n>=0;--n)t[n]=0;t.t=this.t+e,t.s=this.s}function bnpDRShiftTo(e,t){for(var n=e;n<this.t;++n)t[n-e]=this[n];t.t=Math.max(this.t-e,0),t.s=this.s}function bnpLShiftTo(e,t){for(var n=e%this.DB,r=this.DB-n,i=(1<<r)-1,o=Math.floor(e/this.DB),s=this.s<<n&this.DM,a=this.t-1;a>=0;--a)t[a+o+1]=this[a]>>r|s,s=(this[a]&i)<<n;for(a=o-1;a>=0;--a)t[a]=0;t[o]=s,t.t=this.t+o+1,t.s=this.s,t.clamp()}function bnpRShiftTo(e,t){var n,r;if(t.s=this.s,n=Math.floor(e/this.DB),n>=this.t)return void(t.t=0);var i=e%this.DB,o=this.DB-i,s=(1<<i)-1;for(t[0]=this[n]>>i,r=n+1;r<this.t;++r)t[r-n-1]|=(this[r]&s)<<o,t[r-n]=this[r]>>i;i>0&&(t[this.t-n-1]|=(this.s&s)<<o),t.t=this.t-n,t.clamp()}function bnpSubTo(e,t){for(var n=0,r=0,i=Math.min(e.t,this.t);i>n;)r+=this[n]-e[n],t[n++]=r&this.DM,r>>=this.DB;if(e.t<this.t){for(r-=e.s;n<this.t;)r+=this[n],t[n++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;n<e.t;)r-=e[n],t[n++]=r&this.DM,r>>=this.DB;r-=e.s}t.s=0>r?-1:0,-1>r?t[n++]=this.DV+r:r>0&&(t[n++]=r),t.t=n,t.clamp()}function bnpMultiplyTo(e,t){var n=this.abs(),r=e.abs(),i=n.t;for(t.t=i+r.t;--i>=0;)t[i]=0;for(i=0;i<r.t;++i)t[i+n.t]=n.am(0,r[i],t,i,0,n.t);t.s=0,t.clamp(),this.s!=e.s&&BigInteger.ZERO.subTo(t,t)}function bnpSquareTo(e){for(var t,n=this.abs(),r=e.t=2*n.t;--r>=0;)e[r]=0;for(r=0;r<n.t-1;++r)t=n.am(r,n[r],e,2*r,0,1),(e[r+n.t]+=n.am(r+1,2*n[r],e,2*r+1,t,n.t-r-1))>=n.DV&&(e[r+n.t]-=n.DV,e[r+n.t+1]=1);e.t>0&&(e[e.t-1]+=n.am(r,n[r],e,2*r,0,1)),e.s=0,e.clamp()}function bnpDivRemTo(e,t,n){var r,i,o,s,a=e.abs();if(!(a.t<=0)){if(r=this.abs(),r.t<a.t)return null!=t&&t.fromInt(0),void(null!=n&&this.copyTo(n));null==n&&(n=nbi());var c=nbi(),u=this.s,h=e.s,l=this.DB-nbits(a[a.t-1]);if(l>0?(a.lShiftTo(l,c),r.lShiftTo(l,n)):(a.copyTo(c),r.copyTo(n)),i=c.t,o=c[i-1],0!=o){var f=o*(1<<this.F1)+(i>1?c[i-2]>>this.F2:0),p=this.FV/f,d=(1<<this.F1)/f,g=1<<this.F2,v=n.t,y=v-i,m=null==t?nbi():t;for(c.dlShiftTo(y,m),n.compareTo(m)>=0&&(n[n.t++]=1,n.subTo(m,n)),BigInteger.ONE.dlShiftTo(i,m),m.subTo(c,c);c.t<i;)c[c.t++]=0;for(;--y>=0;)if(s=n[--v]==o?this.DM:Math.floor(n[v]*p+(n[v-1]+g)*d),(n[v]+=c.am(0,s,n,y,0,i))<s)for(c.dlShiftTo(y,m),n.subTo(m,n);n[v]<--s;)n.subTo(m,n);null!=t&&(n.drShiftTo(i,t),u!=h&&BigInteger.ZERO.subTo(t,t)),n.t=i,n.clamp(),l>0&&n.rShiftTo(l,n),0>u&&BigInteger.ZERO.subTo(n,n)}}}function bnMod(e){var t=nbi();return this.abs().divRemTo(e,null,t),this.s<0&&t.compareTo(BigInteger.ZERO)>0&&e.subTo(t,t),t}function Classic(e){this.m=e}function cConvert(e){return e.s<0||e.compareTo(this.m)>=0?e.mod(this.m):e}function cRevert(e){return e}function cReduce(e){e.divRemTo(this.m,null,e)}function cMulTo(e,t,n){e.multiplyTo(t,n),this.reduce(n)}function cSqrTo(e,t){e.squareTo(t),this.reduce(t)}function bnpInvDigit(){var e,t;return this.t<1?0:(e=this[0],0==(1&e)?0:(t=3&e,t=t*(2-(15&e)*t)&15,t=t*(2-(255&e)*t)&255,t=t*(2-((65535&e)*t&65535))&65535,t=t*(2-e*t%this.DV)%this.DV,t>0?this.DV-t:-t))}function Montgomery(e){this.m=e,this.mp=e.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}function montConvert(e){var t=nbi();return e.abs().dlShiftTo(this.m.t,t),t.divRemTo(this.m,null,t),e.s<0&&t.compareTo(BigInteger.ZERO)>0&&this.m.subTo(t,t),t}function montRevert(e){var t=nbi();return e.copyTo(t),this.reduce(t),t}function montReduce(e){for(var t,n,r;e.t<=this.mt2;)e[e.t++]=0;for(t=0;t<this.m.t;++t)for(n=32767&e[t],r=n*this.mpl+((n*this.mph+(e[t]>>15)*this.mpl&this.um)<<15)&e.DM,n=t+this.m.t,e[n]+=this.m.am(0,r,e,t,0,this.m.t);e[n]>=e.DV;)e[n]-=e.DV,e[++n]++;e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)}function montSqrTo(e,t){e.squareTo(t),this.reduce(t)}function montMulTo(e,t,n){e.multiplyTo(t,n),this.reduce(n)}function bnpIsEven(){return 0==(this.t>0?1&this[0]:this.s)}function bnpExp(e,t){var n;if(e>4294967295||1>e)return BigInteger.ONE;var r=nbi(),i=nbi(),o=t.convert(this),s=nbits(e)-1;for(o.copyTo(r);--s>=0;)t.sqrTo(r,i),(e&1<<s)>0?t.mulTo(i,o,r):(n=r,r=i,i=n);return t.revert(r)}function bnModPowInt(e,t){var n;return n=256>e||t.isEven()?new Classic(t):new Montgomery(t),this.exp(e,n)}function bnClone(){var e=nbi();return this.copyTo(e),e}function bnIntValue(){if(this.s<0){if(1==this.t)return this[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this[0];if(0==this.t)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]}function bnByteValue(){return 0==this.t?this.s:this[0]<<24>>24}function bnShortValue(){return 0==this.t?this.s:this[0]<<16>>16}function bnpChunkSize(e){return Math.floor(Math.LN2*this.DB/Math.log(e))}function bnSigNum(){return this.s<0?-1:this.t<=0||1==this.t&&this[0]<=0?0:1}function bnpToRadix(e){if(null==e&&(e=10),0==this.signum()||2>e||e>36)return"0";var t=this.chunkSize(e),n=Math.pow(e,t),r=nbv(n),i=nbi(),o=nbi(),s="";for(this.divRemTo(r,i,o);i.signum()>0;)s=(n+o.intValue()).toString(e).substr(1)+s,i.divRemTo(r,i,o);return o.intValue().toString(e)+s}function bnpFromRadix(e,t){var n,r;this.fromInt(0),null==t&&(t=10);var i=this.chunkSize(t),o=Math.pow(t,i),s=!1,a=0,c=0;for(n=0;n<e.length;++n)r=intAt(e,n),0>r?"-"==e.charAt(n)&&0==this.signum()&&(s=!0):(c=t*c+r,++a>=i&&(this.dMultiply(o),this.dAddOffset(c,0),a=0,c=0));a>0&&(this.dMultiply(Math.pow(t,a)),this.dAddOffset(c,0)),s&&BigInteger.ZERO.subTo(this,this)}function bnpFromNumber(e,t,n){if("number"==typeof t)if(2>e)this.fromInt(1);else for(this.fromNumber(e,n),this.testBit(e-1)||this.bitwiseTo(BigInteger.ONE.shiftLeft(e-1),op_or,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(t);)this.dAddOffset(2,0),this.bitLength()>e&&this.subTo(BigInteger.ONE.shiftLeft(e-1),this);else{var r=[],i=7&e;r.length=(e>>3)+1,t.nextBytes(r),i>0?r[0]&=(1<<i)-1:r[0]=0,this.fromString(r,256)}}function bnToByteArray(){var e,t,n,r=this.t,i=[];if(i[0]=this.s,e=this.DB-r*this.DB%8,n=0,r-->0)for(e<this.DB&&(t=this[r]>>e)!=(this.s&this.DM)>>e&&(i[n++]=t|this.s<<this.DB-e);r>=0;)8>e?t=(this[r]&(1<<e)-1)<<8-e|this[--r]>>(e+=this.DB-8):(t=this[r]>>(e-=8)&255,0>=e&&(e+=this.DB,--r)),0!=(128&t)&&(t|=-256),0==n&&(128&this.s)!=(128&t)&&++n,(n>0||t!=this.s)&&(i[n++]=t);return i}function bnEquals(e){return 0==this.compareTo(e)}function bnMin(e){return this.compareTo(e)<0?this:e}function bnMax(e){return this.compareTo(e)>0?this:e}function bnpBitwiseTo(e,t,n){for(var r,i=Math.min(e.t,this.t),o=0;i>o;++o)n[o]=t(this[o],e[o]);if(e.t<this.t){for(r=e.s&this.DM,o=i;o<this.t;++o)n[o]=t(this[o],r);n.t=this.t}else{for(r=this.s&this.DM,o=i;o<e.t;++o)n[o]=t(r,e[o]);n.t=e.t}n.s=t(this.s,e.s),n.clamp()}function op_and(e,t){return e&t}function bnAnd(e){var t=nbi();return this.bitwiseTo(e,op_and,t),t}function op_or(e,t){return e|t}function bnOr(e){var t=nbi();return this.bitwiseTo(e,op_or,t),t}function op_xor(e,t){return e^t}function bnXor(e){var t=nbi();return this.bitwiseTo(e,op_xor,t),t}function op_andnot(e,t){return e&~t}function bnAndNot(e){var t=nbi();return this.bitwiseTo(e,op_andnot,t),t}function bnNot(){for(var e=nbi(),t=0;t<this.t;++t)e[t]=this.DM&~this[t];return e.t=this.t,e.s=~this.s,e}function bnShiftLeft(e){var t=nbi();return 0>e?this.rShiftTo(-e,t):this.lShiftTo(e,t),t}function bnShiftRight(e){var t=nbi();return 0>e?this.lShiftTo(-e,t):this.rShiftTo(e,t),t}function lbit(e){if(0==e)return-1;var t=0;return 0==(65535&e)&&(e>>=16,t+=16),0==(255&e)&&(e>>=8,t+=8),0==(15&e)&&(e>>=4,t+=4),0==(3&e)&&(e>>=2,t+=2),0==(1&e)&&++t,t}function bnGetLowestSetBit(){for(var e=0;e<this.t;++e)if(0!=this[e])return e*this.DB+lbit(this[e]);return this.s<0?this.t*this.DB:-1}function cbit(e){for(var t=0;0!=e;)e&=e-1,++t;return t}function bnBitCount(){for(var e=0,t=this.s&this.DM,n=0;n<this.t;++n)e+=cbit(this[n]^t);return e}function bnTestBit(e){var t=Math.floor(e/this.DB);return t>=this.t?0!=this.s:0!=(this[t]&1<<e%this.DB)}function bnpChangeBit(e,t){var n=BigInteger.ONE.shiftLeft(e);return this.bitwiseTo(n,t,n),n}function bnSetBit(e){return this.changeBit(e,op_or)}function bnClearBit(e){return this.changeBit(e,op_andnot)}function bnFlipBit(e){return this.changeBit(e,op_xor)}function bnpAddTo(e,t){for(var n=0,r=0,i=Math.min(e.t,this.t);i>n;)r+=this[n]+e[n],t[n++]=r&this.DM,r>>=this.DB;if(e.t<this.t){for(r+=e.s;n<this.t;)r+=this[n],t[n++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;n<e.t;)r+=e[n],t[n++]=r&this.DM,r>>=this.DB;r+=e.s}t.s=0>r?-1:0,r>0?t[n++]=r:-1>r&&(t[n++]=this.DV+r),t.t=n,t.clamp()}function bnAdd(e){var t=nbi();return this.addTo(e,t),t}function bnSubtract(e){var t=nbi();return this.subTo(e,t),t}function bnMultiply(e){var t=nbi();return this.multiplyTo(e,t),t}function bnSquare(){var e=nbi();return this.squareTo(e),e}function bnDivide(e){var t=nbi();return this.divRemTo(e,t,null),t}function bnRemainder(e){var t=nbi();return this.divRemTo(e,null,t),t}function bnDivideAndRemainder(e){var t=nbi(),n=nbi();return this.divRemTo(e,t,n),[t,n]}function bnpDMultiply(e){this[this.t]=this.am(0,e-1,this,0,0,this.t),++this.t,this.clamp()}function bnpDAddOffset(e,t){if(0!=e){for(;this.t<=t;)this[this.t++]=0;for(this[t]+=e;this[t]>=this.DV;)this[t]-=this.DV,++t>=this.t&&(this[this.t++]=0),++this[t]}}function NullExp(){}function nNop(e){return e}function nMulTo(e,t,n){e.multiplyTo(t,n)}function nSqrTo(e,t){e.squareTo(t)}function bnPow(e){return this.exp(e,new NullExp)}function bnpMultiplyLowerTo(e,t,n){var r,i=Math.min(this.t+e.t,t);for(n.s=0,n.t=i;i>0;)n[--i]=0;for(r=n.t-this.t;r>i;++i)n[i+this.t]=this.am(0,e[i],n,i,0,this.t);for(r=Math.min(e.t,t);r>i;++i)this.am(0,e[i],n,i,0,t-i);n.clamp()}function bnpMultiplyUpperTo(e,t,n){--t;var r=n.t=this.t+e.t-t;for(n.s=0;--r>=0;)n[r]=0;for(r=Math.max(t-this.t,0);r<e.t;++r)n[this.t+r-t]=this.am(t-r,e[r],n,0,0,this.t+r-t);n.clamp(),n.drShiftTo(1,n)}function Barrett(e){this.r2=nbi(),this.q3=nbi(),BigInteger.ONE.dlShiftTo(2*e.t,this.r2),this.mu=this.r2.divide(e),this.m=e}function barrettConvert(e){if(e.s<0||e.t>2*this.m.t)return e.mod(this.m);if(e.compareTo(this.m)<0)return e;var t=nbi();return e.copyTo(t),this.reduce(t),t}function barrettRevert(e){return e}function barrettReduce(e){for(e.drShiftTo(this.m.t-1,this.r2),e.t>this.m.t+1&&(e.t=this.m.t+1,e.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);e.compareTo(this.r2)<0;)e.dAddOffset(1,this.m.t+1);for(e.subTo(this.r2,e);e.compareTo(this.m)>=0;)e.subTo(this.m,e)}function barrettSqrTo(e,t){e.squareTo(t),this.reduce(t)}function barrettMulTo(e,t,n){e.multiplyTo(t,n),this.reduce(n)}function bnModPow(e,t){var n,r,i,o=e.bitLength(),s=nbv(1);if(0>=o)return s;n=18>o?1:48>o?3:144>o?4:768>o?5:6,r=8>o?new Classic(t):t.isEven()?new Barrett(t):new Montgomery(t);var a=[],c=3,u=n-1,h=(1<<n)-1;if(a[1]=r.convert(this),n>1)for(i=nbi(),r.sqrTo(a[1],i);h>=c;)a[c]=nbi(),r.mulTo(i,a[c-2],a[c]),c+=2;var l,f,p=e.t-1,d=!0,g=nbi();for(o=nbits(e[p])-1;p>=0;){for(o>=u?l=e[p]>>o-u&h:(l=(e[p]&(1<<o+1)-1)<<u-o,p>0&&(l|=e[p-1]>>this.DB+o-u)),c=n;0==(1&l);)l>>=1,--c;if((o-=c)<0&&(o+=this.DB,--p),d)a[l].copyTo(s),d=!1;else{for(;c>1;)r.sqrTo(s,g),r.sqrTo(g,s),c-=2;c>0?r.sqrTo(s,g):(f=s,s=g,g=f),r.mulTo(g,a[l],s)}for(;p>=0&&0==(e[p]&1<<o);)r.sqrTo(s,g),f=s,s=g,g=f,--o<0&&(o=this.DB-1,--p)}return r.revert(s)}function bnGCD(e){var t,n,r,i=this.s<0?this.negate():this.clone(),o=e.s<0?e.negate():e.clone();if(i.compareTo(o)<0&&(t=i,i=o,o=t),n=i.getLowestSetBit(),r=o.getLowestSetBit(),0>r)return i;for(r>n&&(r=n),r>0&&(i.rShiftTo(r,i),o.rShiftTo(r,o));i.signum()>0;)(n=i.getLowestSetBit())>0&&i.rShiftTo(n,i),(n=o.getLowestSetBit())>0&&o.rShiftTo(n,o),i.compareTo(o)>=0?(i.subTo(o,i),i.rShiftTo(1,i)):(o.subTo(i,o),o.rShiftTo(1,o));return r>0&&o.lShiftTo(r,o),o}function bnpModInt(e){var t,n,r;if(0>=e)return 0;if(t=this.DV%e,n=this.s<0?e-1:0,this.t>0)if(0==t)n=this[0]%e;else for(r=this.t-1;r>=0;--r)n=(t*n+this[r])%e;return n}function bnModInverse(e){var t=e.isEven();if(this.isEven()&&t||0==e.signum())return BigInteger.ZERO;for(var n=e.clone(),r=this.clone(),i=nbv(1),o=nbv(0),s=nbv(0),a=nbv(1);0!=n.signum();){for(;n.isEven();)n.rShiftTo(1,n),t?(i.isEven()&&o.isEven()||(i.addTo(this,i),o.subTo(e,o)),i.rShiftTo(1,i)):o.isEven()||o.subTo(e,o),o.rShiftTo(1,o);for(;r.isEven();)r.rShiftTo(1,r),t?(s.isEven()&&a.isEven()||(s.addTo(this,s),a.subTo(e,a)),s.rShiftTo(1,s)):a.isEven()||a.subTo(e,a),a.rShiftTo(1,a);n.compareTo(r)>=0?(n.subTo(r,n),t&&i.subTo(s,i),o.subTo(a,o)):(r.subTo(n,r),t&&s.subTo(i,s),a.subTo(o,a))}return 0!=r.compareTo(BigInteger.ONE)?BigInteger.ZERO:a.compareTo(e)>=0?a.subtract(e):a.signum()<0?(a.addTo(e,a),a.signum()<0?a.add(e):a):a}function bnIsProbablePrime(e){var t,n,r,i=this.abs();if(1==i.t&&i[0]<=lowprimes[lowprimes.length-1]){for(t=0;t<lowprimes.length;++t)if(i[0]==lowprimes[t])return!0;return!1}if(i.isEven())return!1;for(t=1;t<lowprimes.length;){for(n=lowprimes[t],r=t+1;r<lowprimes.length&&lplim>n;)n*=lowprimes[r++];for(n=i.modInt(n);r>t;)if(n%lowprimes[t++]==0)return!1}return i.millerRabin(e)}function bnpMillerRabin(e){var t,n,r,i,o,s=this.subtract(BigInteger.ONE),a=s.getLowestSetBit();if(0>=a)return!1;for(t=s.shiftRight(a),e=e+1>>1,e>lowprimes.length&&(e=lowprimes.length),n=nbi(),r=0;e>r;++r)if(n.fromInt(lowprimes[Math.floor(Math.random()*lowprimes.length)]),i=n.modPow(t,this),0!=i.compareTo(BigInteger.ONE)&&0!=i.compareTo(s)){for(o=1;o++<a&&0!=i.compareTo(s);)if(i=i.modPowInt(2,this),0==i.compareTo(BigInteger.ONE))return!1;if(0!=i.compareTo(s))return!1}return!0}function parseBigInt(e,t){return new BigInteger(e,t)}function linebrk(e,t){for(var n="",r=0;r+t<e.length;)n+=e.substring(r,r+t)+"\n",r+=t;return n+e.substring(r,e.length)}function byte2Hex(e){return 16>e?"0"+e.toString(16):e.toString(16)}function pkcs1pad2(e,t){var n,r,i,o,s;if(t<e.length+11)return alert("Message too long for RSA"),null;for(n=[],r=e.length-1;r>=0&&t>0;)i=e.charCodeAt(r--),128>i?n[--t]=i:i>127&&2048>i?(n[--t]=63&i|128,n[--t]=i>>6|192):(n[--t]=63&i|128,n[--t]=i>>6&63|128,n[--t]=i>>12|224);for(n[--t]=0,o=new SecureRandom,s=[];t>2;){for(s[0]=0;0==s[0];)o.nextBytes(s);n[--t]=s[0]}return n[--t]=2,n[--t]=0,new BigInteger(n)}function oaep_mgf1_arr(e,t,n){for(var r="",i=0;r.length<t;)r+=n(String.fromCharCode.apply(String,e.concat([(4278190080&i)>>24,(16711680&i)>>16,(65280&i)>>8,255&i]))),i+=1;return r}function oaep_pad(e,t,n){var r,i,o,s,a,c,u,h;if(e.length+2*SHA1_SIZE+2>t)throw"Message too long for RSA";for(r="",i=0;i<t-e.length-2*SHA1_SIZE-2;i+=1)r+="\x00";for(o=rstr_sha1("")+r+""+e,s=new Array(SHA1_SIZE),(new SecureRandom).nextBytes(s),a=oaep_mgf1_arr(s,o.length,n||rstr_sha1),c=[],i=0;i<o.length;i+=1)c[i]=o.charCodeAt(i)^a.charCodeAt(i);for(u=oaep_mgf1_arr(c,s.length,rstr_sha1),h=[0],i=0;i<s.length;i+=1)h[i+1]=s[i]^u.charCodeAt(i);return new BigInteger(h.concat(c))}function RSAKey(){this.n=null,this.e=0,this.d=null,this.p=null,this.q=null,this.dmp1=null,this.dmq1=null,this.coeff=null}function RSASetPublic(e,t){this.isPublic=!0,"string"!=typeof e?(this.n=e,this.e=t):null!=e&&null!=t&&e.length>0&&t.length>0?(this.n=parseBigInt(e,16),this.e=parseInt(t,16)):alert("Invalid RSA public key")}function RSADoPublic(e){return e.modPowInt(this.e,this.n)}function RSAEncrypt(e){var t,n,r=pkcs1pad2(e,this.n.bitLength()+7>>3);return null==r?null:(t=this.doPublic(r),null==t?null:(n=t.toString(16),0==(1&n.length)?n:"0"+n))}function RSAEncryptOAEP(e,t){var n,r,i=oaep_pad(e,this.n.bitLength()+7>>3,t);return null==i?null:(n=this.doPublic(i),null==n?null:(r=n.toString(16),0==(1&r.length)?r:"0"+r))}function pkcs1unpad2(e,t){for(var n,r,i=e.toByteArray(),o=0;o<i.length&&0==i[o];)++o;if(i.length-o!=t-1||2!=i[o])return null;for(++o;0!=i[o];)if(++o>=i.length)return null;for(n="";++o<i.length;)r=255&i[o],128>r?n+=String.fromCharCode(r):r>191&&224>r?(n+=String.fromCharCode((31&r)<<6|63&i[o+1]),++o):(n+=String.fromCharCode((15&r)<<12|(63&i[o+1])<<6|63&i[o+2]),o+=2);return n}function oaep_mgf1_str(e,t,n){for(var r="",i=0;r.length<t;)r+=n(e+String.fromCharCode.apply(String,[(4278190080&i)>>24,(16711680&i)>>16,(65280&i)>>8,255&i])),i+=1;return r}function oaep_unpad(e,t,n){var r,i,o,s,a;for(e=e.toByteArray(),r=0;r<e.length;r+=1)e[r]&=255;for(;e.length<t;)e.unshift(0);if(e=String.fromCharCode.apply(String,e),e.length<2*SHA1_SIZE+2)throw"Cipher too short";for(var c=e.substr(1,SHA1_SIZE),u=e.substr(SHA1_SIZE+1),h=oaep_mgf1_str(u,SHA1_SIZE,n||rstr_sha1),l=[],r=0;r<c.length;r+=1)l[r]=c.charCodeAt(r)^h.charCodeAt(r);for(i=oaep_mgf1_str(String.fromCharCode.apply(String,l),e.length-SHA1_SIZE,rstr_sha1),o=[],r=0;r<u.length;r+=1)o[r]=u.charCodeAt(r)^i.charCodeAt(r);if(o=String.fromCharCode.apply(String,o),o.substr(0,SHA1_SIZE)!==rstr_sha1(""))throw"Hash mismatch";if(o=o.substr(SHA1_SIZE),s=o.indexOf(""),a=-1!=s?o.substr(0,s).lastIndexOf("\x00"):-1,a+1!=s)throw"Malformed data";return o.substr(s+1)}function RSASetPrivate(e,t,n){this.isPrivate=!0,"string"!=typeof e?(this.n=e,this.e=t,this.d=n):null!=e&&null!=t&&e.length>0&&t.length>0?(this.n=parseBigInt(e,16),this.e=parseInt(t,16),this.d=parseBigInt(n,16)):alert("Invalid RSA private key")}function RSASetPrivateEx(e,t,n,r,i,o,s,a){if(this.isPrivate=!0,null==e)throw"RSASetPrivateEx N == null";if(null==t)throw"RSASetPrivateEx E == null";if(0==e.length)throw"RSASetPrivateEx N.length == 0";if(0==t.length)throw"RSASetPrivateEx E.length == 0";null!=e&&null!=t&&e.length>0&&t.length>0?(this.n=parseBigInt(e,16),this.e=parseInt(t,16),this.d=parseBigInt(n,16),this.p=parseBigInt(r,16),this.q=parseBigInt(i,16),this.dmp1=parseBigInt(o,16),this.dmq1=parseBigInt(s,16),this.coeff=parseBigInt(a,16)):alert("Invalid RSA private key in RSASetPrivateEx")}function RSAGenerate(e,t){var n,r,i=new SecureRandom,o=e>>1;for(this.e=parseInt(t,16),n=new BigInteger(t,16);;){for(;this.p=new BigInteger(e-o,1,i),0!=this.p.subtract(BigInteger.ONE).gcd(n).compareTo(BigInteger.ONE)||!this.p.isProbablePrime(10););for(;this.q=new BigInteger(o,1,i),0!=this.q.subtract(BigInteger.ONE).gcd(n).compareTo(BigInteger.ONE)||!this.q.isProbablePrime(10););this.p.compareTo(this.q)<=0&&(r=this.p,this.p=this.q,this.q=r);var s=this.p.subtract(BigInteger.ONE),a=this.q.subtract(BigInteger.ONE),c=s.multiply(a);if(0==c.gcd(n).compareTo(BigInteger.ONE)){this.n=this.p.multiply(this.q),this.d=n.modInverse(c),this.dmp1=this.d.mod(s),this.dmq1=this.d.mod(a),this.coeff=this.q.modInverse(this.p);break}}this.isPrivate=!0}function RSADoPrivate(e){if(null==this.p||null==this.q)return e.modPow(this.d,this.n);for(var t=e.mod(this.p).modPow(this.dmp1,this.p),n=e.mod(this.q).modPow(this.dmq1,this.q);t.compareTo(n)<0;)t=t.add(this.p);return t.subtract(n).multiply(this.coeff).mod(this.p).multiply(this.q).add(n)}function RSADecrypt(e){var t=parseBigInt(e,16),n=this.doPrivate(t);return null==n?null:pkcs1unpad2(n,this.n.bitLength()+7>>3)}function RSADecryptOAEP(e,t){var n=parseBigInt(e,16),r=this.doPrivate(n);return null==r?null:oaep_unpad(r,this.n.bitLength()+7>>3,t)}function _rsapem_pemToBase64(e){var t=e;return t=t.replace("-----BEGIN RSA PRIVATE KEY-----",""),t=t.replace("-----END RSA PRIVATE KEY-----",""),t.replace(/[ \n]+/g,"")}function _rsapem_getPosArrayOfChildrenFromHex(e){var t=[],n=ASN1HEX.getStartPosOfV_AtObj(e,0),r=ASN1HEX.getPosOfNextSibling_AtObj(e,n),i=ASN1HEX.getPosOfNextSibling_AtObj(e,r),o=ASN1HEX.getPosOfNextSibling_AtObj(e,i),s=ASN1HEX.getPosOfNextSibling_AtObj(e,o),a=ASN1HEX.getPosOfNextSibling_AtObj(e,s),c=ASN1HEX.getPosOfNextSibling_AtObj(e,a),u=ASN1HEX.getPosOfNextSibling_AtObj(e,c),h=ASN1HEX.getPosOfNextSibling_AtObj(e,u);return t.push(n,r,i,o,s,a,c,u,h),t}function _rsapem_getHexValueArrayOfChildrenFromHex(e){var t=_rsapem_getPosArrayOfChildrenFromHex(e),n=ASN1HEX.getHexOfV_AtObj(e,t[0]),r=ASN1HEX.getHexOfV_AtObj(e,t[1]),i=ASN1HEX.getHexOfV_AtObj(e,t[2]),o=ASN1HEX.getHexOfV_AtObj(e,t[3]),s=ASN1HEX.getHexOfV_AtObj(e,t[4]),a=ASN1HEX.getHexOfV_AtObj(e,t[5]),c=ASN1HEX.getHexOfV_AtObj(e,t[6]),u=ASN1HEX.getHexOfV_AtObj(e,t[7]),h=ASN1HEX.getHexOfV_AtObj(e,t[8]),l=[];return l.push(n,r,i,o,s,a,c,u,h),l}function _rsapem_readPrivateKeyFromASN1HexString(e){var t=_rsapem_getHexValueArrayOfChildrenFromHex(e);this.setPrivateEx(t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8])}function _rsapem_readPrivateKeyFromPEMString(e){var t=_rsapem_pemToBase64(e),n=b64tohex(t),r=_rsapem_getHexValueArrayOfChildrenFromHex(n);this.setPrivateEx(r[1],r[2],r[3],r[4],r[5],r[6],r[7],r[8])}function _rsasign_getHexPaddedDigestInfoForString(e,t,n){var r=function(e){return KJUR.crypto.Util.hashString(e,n)},i=r(e);return KJUR.crypto.Util.getPaddedDigestInfoHex(i,n,t)}function _zeroPaddingOfSignature(e,t){for(var n="",r=t/4-e.length,i=0;r>i;i++)n+="0";return n+e}function _rsasign_signString(e,t){var n=function(e){return KJUR.crypto.Util.hashString(e,t)},r=n(e);return this.signWithMessageHash(r,t)}function _rsasign_signWithMessageHash(e,t){var n=KJUR.crypto.Util.getPaddedDigestInfoHex(e,t,this.n.bitLength()),r=parseBigInt(n,16),i=this.doPrivate(r),o=i.toString(16);return _zeroPaddingOfSignature(o,this.n.bitLength())}function _rsasign_signStringWithSHA1(e){return _rsasign_signString.call(this,e,"sha1")}function _rsasign_signStringWithSHA256(e){return _rsasign_signString.call(this,e,"sha256")}function pss_mgf1_str(e,t,n){for(var r="",i=0;r.length<t;)r+=hextorstr(n(rstrtohex(e+String.fromCharCode.apply(String,[(4278190080&i)>>24,(16711680&i)>>16,(65280&i)>>8,255&i])))),i+=1;return r}function _rsasign_signStringPSS(e,t,n){var r=function(e){return KJUR.crypto.Util.hashHex(e,t)},i=r(rstrtohex(e));return void 0===n&&(n=-1),this.signWithMessageHashPSS(i,t,n)}function _rsasign_signWithMessageHashPSS(e,t,n){var r,i,o,s,a,c=hextorstr(e),u=c.length,h=this.n.bitLength()-1,l=Math.ceil(h/8),f=function(e){return KJUR.crypto.Util.hashHex(e,t)};if(-1===n||void 0===n)n=u;else if(-2===n)n=l-u-2;else if(-2>n)throw"invalid salt length";if(u+n+2>l)throw"data too long";for(i="",n>0&&(i=new Array(n),(new SecureRandom).nextBytes(i),i=String.fromCharCode.apply(String,i)),o=hextorstr(f(rstrtohex("\x00\x00\x00\x00\x00\x00\x00\x00"+c+i))),s=[],r=0;l-n-u-2>r;r+=1)s[r]=0;var p=String.fromCharCode.apply(String,s)+""+i,d=pss_mgf1_str(o,p.length,f),g=[];for(r=0;r<p.length;r+=1)g[r]=p.charCodeAt(r)^d.charCodeAt(r);for(a=65280>>8*l-h&255,g[0]&=~a,r=0;u>r;r++)g.push(o.charCodeAt(r));return g.push(188),_zeroPaddingOfSignature(this.doPrivate(new BigInteger(g)).toString(16),this.n.bitLength())}function _rsasign_getDecryptSignatureBI(e,t,n){var r=new RSAKey;return r.setPublic(t,n),r.doPublic(e)}function _rsasign_getHexDigestInfoFromSig(e,t,n){var r=_rsasign_getDecryptSignatureBI(e,t,n);return r.toString(16).replace(/^1f+00/,"")}function _rsasign_getAlgNameAndHashFromHexDisgestInfo(e){var t,n,r;for(t in KJUR.crypto.Util.DIGESTINFOHEAD)if(n=KJUR.crypto.Util.DIGESTINFOHEAD[t],r=n.length,e.substring(0,r)==n)return[t,e.substring(r)];return[]}function _rsasign_verifySignatureWithArgs(e,t,n,r){var i=_rsasign_getHexDigestInfoFromSig(t,n,r),o=_rsasign_getAlgNameAndHashFromHexDisgestInfo(i);if(0==o.length)return!1;var s=o[0],a=o[1],c=function(e){return KJUR.crypto.Util.hashString(e,s)},u=c(e);return a==u}function _rsasign_verifyHexSignatureForMessage(e,t){var n=parseBigInt(e,16);return _rsasign_verifySignatureWithArgs(t,n,this.n.toString(16),this.e.toString(16))}function _rsasign_verifyString(e,t){var n;if(t=t.replace(_RE_HEXDECONLY,""),t=t.replace(/[ \n]+/g,""),n=parseBigInt(t,16),n.bitLength()>this.n.bitLength())return 0;var r=this.doPublic(n),i=r.toString(16).replace(/^1f+00/,""),o=_rsasign_getAlgNameAndHashFromHexDisgestInfo(i);if(0==o.length)return!1;var s=o[0],a=o[1],c=function(e){return KJUR.crypto.Util.hashString(e,s)},u=c(e);return a==u}function _rsasign_verifyWithMessageHash(e,t){var n,r,i;if(t=t.replace(_RE_HEXDECONLY,""),t=t.replace(/[ \n]+/g,""),n=parseBigInt(t,16),n.bitLength()>this.n.bitLength())return 0;var o=this.doPublic(n),s=o.toString(16).replace(/^1f+00/,""),a=_rsasign_getAlgNameAndHashFromHexDisgestInfo(s);return 0==a.length?!1:(r=a[0],i=a[1],i==e)}function _rsasign_verifyStringPSS(e,t,n,r){var i=function(e){return KJUR.crypto.Util.hashHex(e,n)},o=i(rstrtohex(e));return void 0===r&&(r=-1),this.verifyWithMessageHashPSS(o,t,n,r)}function _rsasign_verifyWithMessageHashPSS(e,t,n,r){var i,o,s,a,c=new BigInteger(t,16);if(c.bitLength()>this.n.bitLength())return!1;var u,h=function(e){return KJUR.crypto.Util.hashHex(e,n)},l=hextorstr(e),f=l.length,p=this.n.bitLength()-1,d=Math.ceil(p/8);if(-1===r||void 0===r)r=f;else if(-2===r)r=d-f-2;else if(-2>r)throw"invalid salt length";if(f+r+2>d)throw"data too long";for(i=this.doPublic(c).toByteArray(),u=0;u<i.length;u+=1)i[u]&=255;for(;i.length<d;)i.unshift(0);if(188!==i[d-1])throw"encoded message does not end in 0xbc";i=String.fromCharCode.apply(String,i);var g=i.substr(0,d-f-1),v=i.substr(g.length,f),y=65280>>8*d-p&255;if(0!=(g.charCodeAt(0)&y))throw"bits beyond keysize not zero";for(o=pss_mgf1_str(v,g.length,h),s=[],u=0;u<g.length;u+=1)s[u]=g.charCodeAt(u)^o.charCodeAt(u);for(s[0]&=~y,a=d-f-r-2,u=0;a>u;u+=1)if(0!==s[u])throw"leftmost octets not zero";if(1!==s[a])throw"0x01 marker not found";return v===hextorstr(h(rstrtohex("\x00\x00\x00\x00\x00\x00\x00\x00"+l+String.fromCharCode.apply(String,s.slice(-r)))))}function X509(){this.subjectPublicKeyRSA=null,this.subjectPublicKeyRSA_hN=null,this.subjectPublicKeyRSA_hE=null,this.hex=null,this.getSerialNumberHex=function(){return ASN1HEX.getDecendantHexVByNthList(this.hex,0,[0,1])},this.getIssuerHex=function(){return ASN1HEX.getDecendantHexTLVByNthList(this.hex,0,[0,3])},this.getIssuerString=function(){return X509.hex2dn(ASN1HEX.getDecendantHexTLVByNthList(this.hex,0,[0,3]))},this.getSubjectHex=function(){return ASN1HEX.getDecendantHexTLVByNthList(this.hex,0,[0,5])},this.getSubjectString=function(){return X509.hex2dn(ASN1HEX.getDecendantHexTLVByNthList(this.hex,0,[0,5]))},this.getNotBefore=function(){var e=ASN1HEX.getDecendantHexVByNthList(this.hex,0,[0,4,0]);return e=e.replace(/(..)/g,"%$1"),decodeURIComponent(e)},this.getNotAfter=function(){var e=ASN1HEX.getDecendantHexVByNthList(this.hex,0,[0,4,1]);return e=e.replace(/(..)/g,"%$1"),decodeURIComponent(e)},this.readCertPEM=function(e){var t=X509.pemToHex(e),n=X509.getPublicKeyHexArrayFromCertHex(t),r=new RSAKey;r.setPublic(n[0],n[1]),this.subjectPublicKeyRSA=r,this.subjectPublicKeyRSA_hN=n[0],this.subjectPublicKeyRSA_hE=n[1],this.hex=t},this.readCertPEMWithoutRSAInit=function(e){var t=X509.pemToHex(e),n=X509.getPublicKeyHexArrayFromCertHex(t);this.subjectPublicKeyRSA.setPublic(n[0],n[1]),this.subjectPublicKeyRSA_hN=n[0],this.subjectPublicKeyRSA_hE=n[1],this.hex=t}}function Base64x(){}function stoBA(e){for(var t=[],n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}function BAtos(e){for(var t="",n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t}function BAtohex(e){for(var t,n="",r=0;r<e.length;r++)t=e[r].toString(16),1==t.length&&(t="0"+t),n+=t;return n}function stohex(e){return BAtohex(stoBA(e))}function stob64(e){return hex2b64(stohex(e))}function stob64u(e){return b64tob64u(hex2b64(stohex(e)))}function b64utos(e){return BAtos(b64toBA(b64utob64(e)))}function b64tob64u(e){return e=e.replace(/\=/g,""),e=e.replace(/\+/g,"-"),e.replace(/\//g,"_")}function b64utob64(e){return e.length%4==2?e+="==":e.length%4==3&&(e+="="),e=e.replace(/-/g,"+"),e.replace(/_/g,"/")}function hextob64u(e){return b64tob64u(hex2b64(e))}function b64utohex(e){return b64tohex(b64utob64(e))}function utf8tob64(e){return hex2b64(uricmptohex(encodeURIComponentAll(e)))}function b64toutf8(e){return decodeURIComponent(hextouricmp(b64tohex(e)))}function utf8tohex(e){return uricmptohex(encodeURIComponentAll(e))}function hextoutf8(e){return decodeURIComponent(hextouricmp(e))}function hextorstr(e){for(var t="",n=0;n<e.length-1;n+=2)t+=String.fromCharCode(parseInt(e.substr(n,2),16));return t}function rstrtohex(e){for(var t="",n=0;n<e.length;n++)t+=("0"+e.charCodeAt(n).toString(16)).slice(-2);return t}function hextob64(e){return hex2b64(e)}function hextob64nl(e){var t=hextob64(e),n=t.replace(/(.{64})/g,"$1\r\n");return n.replace(/\r\n$/,"")}function b64nltohex(e){var t=e.replace(/[^0-9A-Za-z\/+=]*/g,"");return b64tohex(t)}function uricmptohex(e){return e.replace(/%/g,"")}function hextouricmp(e){return e.replace(/(..)/g,"%$1")}function encodeURIComponentAll(e){for(var t=encodeURIComponent(e),n="",r=0;r<t.length;r++)"%"==t[r]?(n+=t.substr(r,3),r+=2):n=n+"%"+stohex(t[r]);return n}function newline_toUnix(e){return e.replace(/\r\n/gm,"\n")}function newline_toDos(e){return e=e.replace(/\r\n/gm,"\n"),e.replace(/\n/gm,"\r\n")}function DefaultHttpRequest(){function e(e,t){for(var n=Object.keys(t),r=0;r<n.length;r++){var i=n[r],o=t[i];e.setRequestHeader(i,o)}}this.getJSON=function(t,n){return _promiseFactory.create(function(r,i){try{var o=new XMLHttpRequest;o.open("GET",t),o.responseType="json",n&&n.headers&&e(o,n.headers),o.onload=function(){try{if(200===o.status){var e=o.response;"string"==typeof e&&(e=JSON.parse(e)),r(e)}else i(Error(o.statusText+"("+o.status+")"))}catch(t){i(t)}},o.onerror=function(){i(Error("Network error"))},o.send()}catch(s){return i(s)}})}}function DefaultPromise(e){this.then=function(t,n){var r=e.then(t,n);return new DefaultPromise(r)},this["catch"]=function(t){var n=e["catch"](t);return new DefaultPromise(n)}}function DefaultPromiseFactory(){this.resolve=function(e){return new DefaultPromise(Promise.resolve(e))},this.reject=function(e){return new DefaultPromise(Promise.reject(e))},this.create=function(e){return new DefaultPromise(new Promise(e))}}function log(){}function copy(e,t){t=t||{};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function rand(){return((Date.now()+Math.random())*Math.random()).toString().replace(".","")}function error(e){return _promiseFactory.reject(Error(e))}function parseOidcResult(e){log("parseOidcResult"),e=e||location.hash;var t=e.lastIndexOf("#");t>=0&&(e=e.substr(t+1));for(var n,r={},i=/([^&=]+)=([^&]*)/g,o=0;n=i.exec(e);)if(r[decodeURIComponent(n[1])]=decodeURIComponent(n[2]),o++>50)return{error:"Response exceeded expected number of parameters"};for(var s in r)return r}function getJson(e,t){log("getJson",e);var n={};return t&&(n.headers={Authorization:"Bearer "+t}),_httpRequest.getJSON(e,n)}function OidcClient(e){this._settings=e||{},this._settings.request_state_key||(this._settings.request_state_key="OidcClient.request_state"),this._settings.request_state_store||(this._settings.request_state_store=window.localStorage),"undefined"==typeof this._settings.load_user_profile&&(this._settings.load_user_profile=!0),"undefined"==typeof this._settings.filter_protocol_claims&&(this._settings.filter_protocol_claims=!0),this._settings.authority&&this._settings.authority.indexOf(".well-known/openid-configuration")<0&&("/"!==this._settings.authority[this._settings.authority.length-1]&&(this._settings.authority+="/"),this._settings.authority+=".well-known/openid-configuration"),this._settings.response_type||(this._settings.response_type="id_token token"),Object.defineProperty(this,"isOidc",{get:function(){if(this._settings.response_type){var e=this._settings.response_type.split(/\s+/g).filter(function(e){return"id_token"===e});return!!e[0]}return!1}}),Object.defineProperty(this,"isOAuth",{get:function(){if(this._settings.response_type){var e=this._settings.response_type.split(/\s+/g).filter(function(e){
return"token"===e});return!!e[0]}return!1}})}function Token(e){if(e){if(this.profile=e.profile,this.id_token=e.id_token,this.access_token=e.access_token,e.access_token)this.expires_at=parseInt(e.expires_at);else{if(!e.id_token)throw Error("Either access_token or id_token required.");this.expires_at=e.profile.exp}this.scopes=(e.scope||"").split(" "),this.session_state=e.session_state}else this.expires_at=0;Object.defineProperty(this,"expired",{get:function(){var e=parseInt(Date.now()/1e3);return this.expires_at<e}}),Object.defineProperty(this,"expires_in",{get:function(){var e=parseInt(Date.now()/1e3);return this.expires_at-e}})}function FrameLoader(e){this.url=e}function loadToken(e){if(e._token=null,e._settings.persist){var t=e._settings.store.getItem(e._settings.persistKey);if(t){var n=Token.fromJSON(t);n.expired||(e._token=n)}}}function configureTokenExpiring(e){function t(){o=null,e._callTokenExpiring()}function n(){o&&(window.clearTimeout(o),o=null)}function r(e){o=window.setTimeout(t,1e3*e)}function i(){if(n(),!e.expired){var i=e.expires_in;i>60?r(i-60):t()}}var o=null;i(),e.addOnTokenObtained(i),e.addOnTokenRemoved(n)}function configureAutoRenewToken(e){e._settings.silent_redirect_uri&&e._settings.silent_renew&&e.addOnTokenExpiring(function(){e.renewTokenSilentAsync()["catch"](function(t){e._callSilentTokenRenewFailed(),console.error(t.message||t)})})}function configureTokenExpired(e){function t(){o=null,e._token&&e.saveToken(null),e._callTokenExpired()}function n(){o&&(window.clearTimeout(o),o=null)}function r(e){o=window.setTimeout(t,1e3*e)}function i(){n(),e.expires_in>0&&r(e.expires_in+1)}var o=null;i(),e.addOnTokenObtained(i),e.addOnTokenRemoved(n)}function TokenManager(e){this._settings=e||{},this._settings.persist=this._settings.persist||!0,this._settings.store=this._settings.store||window.localStorage,this._settings.persistKey=this._settings.persistKey||"TokenManager.token",this.oidcClient=new OidcClient(this._settings),this._callbacks={tokenRemovedCallbacks:[],tokenExpiringCallbacks:[],tokenExpiredCallbacks:[],tokenObtainedCallbacks:[],silentTokenRenewFailedCallbacks:[]},Object.defineProperty(this,"profile",{get:function(){return this._token?this._token.profile:void 0},set:function(e){this._token&&(this._token.profile=e)}}),Object.defineProperty(this,"id_token",{get:function(){return this._token?this._token.id_token:void 0}}),Object.defineProperty(this,"access_token",{get:function(){return this._token&&!this._token.expired?this._token.access_token:void 0}}),Object.defineProperty(this,"expired",{get:function(){return this._token?this._token.expired:!0}}),Object.defineProperty(this,"expires_in",{get:function(){return this._token?this._token.expires_in:0}}),Object.defineProperty(this,"expires_at",{get:function(){return this._token?this._token.expires_at:0}}),Object.defineProperty(this,"scopes",{get:function(){return this._token?[].concat(this._token.scopes):[]}}),Object.defineProperty(this,"session_state",{get:function(){return this._token?this._token.session_state:void 0}});var t=this;loadToken(t),window.addEventListener("storage",function(e){e.key===t._settings.persistKey&&(loadToken(t),t._token?t._callTokenObtained():t._callTokenRemoved())}),configureTokenExpired(t),configureAutoRenewToken(t),window.setTimeout(function(){configureTokenExpiring(t)},0)}var _promiseFactory,_httpRequest,CryptoJS=CryptoJS||function(e,t){var n={},r=n.lib={},i=r.Base=function(){function e(){}return{extend:function(t){e.prototype=this;var n=new e;return t&&n.mixIn(t),n.hasOwnProperty("init")||(n.init=function(){n.$super.init.apply(this,arguments)}),n.init.prototype=n,n.$super=this,n},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),o=r.WordArray=i.extend({init:function(e,n){e=this.words=e||[],this.sigBytes=n!=t?n:4*e.length},toString:function(e){return(e||a).stringify(this)},concat:function(e){var t,n,r=this.words,i=e.words,o=this.sigBytes,s=e.sigBytes;if(this.clamp(),o%4)for(n=0;s>n;n++)t=i[n>>>2]>>>24-n%4*8&255,r[o+n>>>2]|=t<<24-(o+n)%4*8;else if(i.length>65535)for(n=0;s>n;n+=4)r[o+n>>>2]=i[n>>>2];else r.push.apply(r,i);return this.sigBytes+=s,this},clamp:function(){var t=this.words,n=this.sigBytes;t[n>>>2]&=4294967295<<32-n%4*8,t.length=e.ceil(n/4)},clone:function(){var e=i.clone.call(this);return e.words=this.words.slice(0),e},random:function(t){for(var n=[],r=0;t>r;r+=4)n.push(4294967296*e.random()|0);return new o.init(n,t)}}),s=n.enc={},a=s.Hex={stringify:function(e){for(var t,n=e.words,r=e.sigBytes,i=[],o=0;r>o;o++)t=n[o>>>2]>>>24-o%4*8&255,i.push((t>>>4).toString(16)),i.push((15&t).toString(16));return i.join("")},parse:function(e){for(var t=e.length,n=[],r=0;t>r;r+=2)n[r>>>3]|=parseInt(e.substr(r,2),16)<<24-r%8*4;return new o.init(n,t/2)}},c=s.Latin1={stringify:function(e){for(var t,n=e.words,r=e.sigBytes,i=[],o=0;r>o;o++)t=n[o>>>2]>>>24-o%4*8&255,i.push(String.fromCharCode(t));return i.join("")},parse:function(e){for(var t=e.length,n=[],r=0;t>r;r++)n[r>>>2]|=(255&e.charCodeAt(r))<<24-r%4*8;return new o.init(n,t)}},u=s.Utf8={stringify:function(e){try{return decodeURIComponent(escape(c.stringify(e)))}catch(t){throw new Error("Malformed UTF-8 data")}},parse:function(e){return c.parse(unescape(encodeURIComponent(e)))}},h=r.BufferedBlockAlgorithm=i.extend({reset:function(){this._data=new o.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=u.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var n,r,i,s,a=this._data,c=a.words,u=a.sigBytes,h=this.blockSize,l=4*h,f=u/l;if(f=t?e.ceil(f):e.max((0|f)-this._minBufferSize,0),n=f*h,r=e.min(4*n,u),n){for(i=0;n>i;i+=h)this._doProcessBlock(c,i);s=c.splice(0,n),a.sigBytes-=r}return new o.init(s,r)},clone:function(){var e=i.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),l=(r.Hasher=h.extend({cfg:i.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){h.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,n){return new e.init(n).finalize(t)}},_createHmacHelper:function(e){return function(t,n){return new l.HMAC.init(e,n).finalize(t)}}}),n.algo={});return n}(Math);!function(){var e=CryptoJS,t=e.lib,n=t.WordArray,r=t.Hasher,i=e.algo,o=[],s=i.SHA1=r.extend({_doReset:function(){this._hash=new n.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var n,r,i=this._hash.words,s=i[0],a=i[1],c=i[2],u=i[3],h=i[4],l=0;80>l;l++)16>l?o[l]=0|e[t+l]:(n=o[l-3]^o[l-8]^o[l-14]^o[l-16],o[l]=n<<1|n>>>31),r=(s<<5|s>>>27)+h+o[l],r+=20>l?(a&c|~a&u)+1518500249:40>l?(a^c^u)+1859775393:60>l?(a&c|a&u|c&u)-1894007588:(a^c^u)-899497514,h=u,u=c,c=a<<30|a>>>2,a=s,s=r;i[0]=i[0]+s|0,i[1]=i[1]+a|0,i[2]=i[2]+c|0,i[3]=i[3]+u|0,i[4]=i[4]+h|0},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,r=8*e.sigBytes;return t[r>>>5]|=128<<24-r%32,t[(r+64>>>9<<4)+14]=Math.floor(n/4294967296),t[(r+64>>>9<<4)+15]=n,e.sigBytes=4*t.length,this._process(),this._hash},clone:function(){var e=r.clone.call(this);return e._hash=this._hash.clone(),e}});e.SHA1=r._createHelper(s),e.HmacSHA1=r._createHmacHelper(s)}(),function(e){var t,n,r=CryptoJS,i=r.lib,o=i.WordArray,s=i.Hasher,a=r.algo,c=[],u=[];!function(){function t(t){for(var n=e.sqrt(t),r=2;n>=r;r++)if(!(t%r))return!1;return!0}function n(e){return 4294967296*(e-(0|e))|0}for(var r=2,i=0;64>i;)t(r)&&(8>i&&(c[i]=n(e.pow(r,.5))),u[i]=n(e.pow(r,1/3)),i++),r++}(),t=[],n=a.SHA256=s.extend({_doReset:function(){this._hash=new o.init(c.slice(0))},_doProcessBlock:function(e,n){for(var r=this._hash.words,i=r[0],o=r[1],s=r[2],a=r[3],c=r[4],h=r[5],l=r[6],f=r[7],p=0;64>p;p++){if(16>p)t[p]=0|e[n+p];else{var d=t[p-15],g=(d<<25|d>>>7)^(d<<14|d>>>18)^d>>>3,v=t[p-2],y=(v<<15|v>>>17)^(v<<13|v>>>19)^v>>>10;t[p]=g+t[p-7]+y+t[p-16]}var m=c&h^~c&l,b=i&o^i&s^o&s,S=(i<<30|i>>>2)^(i<<19|i>>>13)^(i<<10|i>>>22),w=(c<<26|c>>>6)^(c<<21|c>>>11)^(c<<7|c>>>25),I=f+w+m+u[p]+t[p],E=S+b;f=l,l=h,h=c,c=a+I|0,a=s,s=o,o=i,i=I+E|0}r[0]=r[0]+i|0,r[1]=r[1]+o|0,r[2]=r[2]+s|0,r[3]=r[3]+a|0,r[4]=r[4]+c|0,r[5]=r[5]+h|0,r[6]=r[6]+l|0,r[7]=r[7]+f|0},_doFinalize:function(){var t=this._data,n=t.words,r=8*this._nDataBytes,i=8*t.sigBytes;return n[i>>>5]|=128<<24-i%32,n[(i+64>>>9<<4)+14]=e.floor(r/4294967296),n[(i+64>>>9<<4)+15]=r,t.sigBytes=4*n.length,this._process(),this._hash},clone:function(){var e=s.clone.call(this);return e._hash=this._hash.clone(),e}}),r.SHA256=s._createHelper(n),r.HmacSHA256=s._createHmacHelper(n)}(Math),function(e){var t=CryptoJS,n=t.lib,r=n.Base,i=n.WordArray,o=t.x64={};o.Word=r.extend({init:function(e,t){this.high=e,this.low=t}}),o.WordArray=r.extend({init:function(t,n){t=this.words=t||[],this.sigBytes=n!=e?n:8*t.length},toX32:function(){for(var e,t=this.words,n=t.length,r=[],o=0;n>o;o++)e=t[o],r.push(e.high),r.push(e.low);return i.create(r,this.sigBytes)},clone:function(){for(var e=r.clone.call(this),t=e.words=this.words.slice(0),n=t.length,i=0;n>i;i++)t[i]=t[i].clone();return e}})}(),function(){function e(){return s.create.apply(s,arguments)}var t,n=CryptoJS,r=n.lib,i=r.Hasher,o=n.x64,s=o.Word,a=o.WordArray,c=n.algo,u=[e(1116352408,3609767458),e(1899447441,602891725),e(3049323471,3964484399),e(3921009573,2173295548),e(961987163,4081628472),e(1508970993,3053834265),e(2453635748,2937671579),e(2870763221,3664609560),e(3624381080,2734883394),e(310598401,1164996542),e(607225278,1323610764),e(1426881987,3590304994),e(1925078388,4068182383),e(2162078206,991336113),e(2614888103,633803317),e(3248222580,3479774868),e(3835390401,2666613458),e(4022224774,944711139),e(264347078,2341262773),e(604807628,2007800933),e(770255983,1495990901),e(1249150122,1856431235),e(1555081692,3175218132),e(1996064986,2198950837),e(2554220882,3999719339),e(2821834349,766784016),e(2952996808,2566594879),e(3210313671,3203337956),e(3336571891,1034457026),e(3584528711,2466948901),e(113926993,3758326383),e(338241895,168717936),e(666307205,1188179964),e(773529912,1546045734),e(1294757372,1522805485),e(1396182291,2643833823),e(1695183700,2343527390),e(1986661051,1014477480),e(2177026350,1206759142),e(2456956037,344077627),e(2730485921,1290863460),e(2820302411,3158454273),e(3259730800,3505952657),e(3345764771,106217008),e(3516065817,3606008344),e(3600352804,1432725776),e(4094571909,1467031594),e(275423344,851169720),e(430227734,3100823752),e(506948616,1363258195),e(659060556,3750685593),e(883997877,3785050280),e(958139571,3318307427),e(1322822218,3812723403),e(1537002063,2003034995),e(1747873779,3602036899),e(1955562222,1575990012),e(2024104815,1125592928),e(2227730452,2716904306),e(2361852424,442776044),e(2428436474,593698344),e(2756734187,3733110249),e(3204031479,2999351573),e(3329325298,3815920427),e(3391569614,3928383900),e(3515267271,566280711),e(3940187606,3454069534),e(4118630271,4000239992),e(116418474,1914138554),e(174292421,2731055270),e(289380356,3203993006),e(460393269,320620315),e(685471733,587496836),e(852142971,1086792851),e(1017036298,365543100),e(1126000580,2618297676),e(1288033470,3409855158),e(1501505948,4234509866),e(1607167915,987167468),e(1816402316,1246189591)],h=[];!function(){for(var t=0;80>t;t++)h[t]=e()}(),t=c.SHA512=i.extend({_doReset:function(){this._hash=new a.init([new s.init(1779033703,4089235720),new s.init(3144134277,2227873595),new s.init(1013904242,4271175723),new s.init(2773480762,1595750129),new s.init(1359893119,2917565137),new s.init(2600822924,725511199),new s.init(528734635,4215389547),new s.init(1541459225,327033209)])},_doProcessBlock:function(e,t){for(var n,r,i,o=this._hash.words,s=o[0],a=o[1],c=o[2],l=o[3],f=o[4],p=o[5],d=o[6],g=o[7],v=s.high,y=s.low,m=a.high,b=a.low,S=c.high,w=c.low,I=l.high,E=l.low,A=f.high,O=f.low,C=p.high,_=p.low,R=d.high,T=d.low,M=g.high,P=g.low,D=v,N=y,j=m,x=b,k=S,L=w,H=I,z=E,B=A,F=O,U=C,J=_,K=R,W=T,q=M,V=P,X=0;80>X;X++){if(n=h[X],16>X)r=n.high=0|e[t+2*X],i=n.low=0|e[t+2*X+1];else{var G=h[X-15],Z=G.high,Y=G.low,Q=(Z>>>1|Y<<31)^(Z>>>8|Y<<24)^Z>>>7,$=(Y>>>1|Z<<31)^(Y>>>8|Z<<24)^(Y>>>7|Z<<25),ee=h[X-2],te=ee.high,ne=ee.low,re=(te>>>19|ne<<13)^(te<<3|ne>>>29)^te>>>6,ie=(ne>>>19|te<<13)^(ne<<3|te>>>29)^(ne>>>6|te<<26),oe=h[X-7],se=oe.high,ae=oe.low,ce=h[X-16],ue=ce.high,he=ce.low,i=$+ae,r=Q+se+($>>>0>i>>>0?1:0),i=i+ie,r=r+re+(ie>>>0>i>>>0?1:0),i=i+he,r=r+ue+(he>>>0>i>>>0?1:0);n.high=r,n.low=i}var le=B&U^~B&K,fe=F&J^~F&W,pe=D&j^D&k^j&k,de=N&x^N&L^x&L,ge=(D>>>28|N<<4)^(D<<30|N>>>2)^(D<<25|N>>>7),ve=(N>>>28|D<<4)^(N<<30|D>>>2)^(N<<25|D>>>7),ye=(B>>>14|F<<18)^(B>>>18|F<<14)^(B<<23|F>>>9),me=(F>>>14|B<<18)^(F>>>18|B<<14)^(F<<23|B>>>9),be=u[X],Se=be.high,we=be.low,Ie=V+me,Ee=q+ye+(V>>>0>Ie>>>0?1:0),Ie=Ie+fe,Ee=Ee+le+(fe>>>0>Ie>>>0?1:0),Ie=Ie+we,Ee=Ee+Se+(we>>>0>Ie>>>0?1:0),Ie=Ie+i,Ee=Ee+r+(i>>>0>Ie>>>0?1:0),Ae=ve+de,Oe=ge+pe+(ve>>>0>Ae>>>0?1:0);q=K,V=W,K=U,W=J,U=B,J=F,F=z+Ie|0,B=H+Ee+(z>>>0>F>>>0?1:0)|0,H=k,z=L,k=j,L=x,j=D,x=N,N=Ie+Ae|0,D=Ee+Oe+(Ie>>>0>N>>>0?1:0)|0}y=s.low=y+N,s.high=v+D+(N>>>0>y>>>0?1:0),b=a.low=b+x,a.high=m+j+(x>>>0>b>>>0?1:0),w=c.low=w+L,c.high=S+k+(L>>>0>w>>>0?1:0),E=l.low=E+z,l.high=I+H+(z>>>0>E>>>0?1:0),O=f.low=O+F,f.high=A+B+(F>>>0>O>>>0?1:0),_=p.low=_+J,p.high=C+U+(J>>>0>_>>>0?1:0),T=d.low=T+W,d.high=R+K+(W>>>0>T>>>0?1:0),P=g.low=P+V,g.high=M+q+(V>>>0>P>>>0?1:0)},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,r=8*e.sigBytes;return t[r>>>5]|=128<<24-r%32,t[(r+128>>>10<<5)+30]=Math.floor(n/4294967296),t[(r+128>>>10<<5)+31]=n,e.sigBytes=4*t.length,this._process(),this._hash.toX32()},clone:function(){var e=i.clone.call(this);return e._hash=this._hash.clone(),e},blockSize:32}),n.SHA512=i._createHelper(t),n.HmacSHA512=i._createHmacHelper(t)}();var b64map="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",b64pad="=",dbits,canary=0xdeadbeefcafe,j_lm=15715070==(16777215&canary),BI_FP,BI_RM,BI_RC,rr,vv,lowprimes,lplim,SHA1_SIZE,_RE_HEXDECONLY,ASN1HEX,utf8tob64u,b64utoutf8;for(j_lm&&"Microsoft Internet Explorer"==navigator.appName?(BigInteger.prototype.am=am2,dbits=30):j_lm&&"Netscape"!=navigator.appName?(BigInteger.prototype.am=am1,dbits=26):(BigInteger.prototype.am=am3,dbits=28),BigInteger.prototype.DB=dbits,BigInteger.prototype.DM=(1<<dbits)-1,BigInteger.prototype.DV=1<<dbits,BI_FP=52,BigInteger.prototype.FV=Math.pow(2,BI_FP),BigInteger.prototype.F1=BI_FP-dbits,BigInteger.prototype.F2=2*dbits-BI_FP,BI_RM="0123456789abcdefghijklmnopqrstuvwxyz",BI_RC=[],rr="0".charCodeAt(0),vv=0;9>=vv;++vv)BI_RC[rr++]=vv;for(rr="a".charCodeAt(0),vv=10;36>vv;++vv)BI_RC[rr++]=vv;for(rr="A".charCodeAt(0),vv=10;36>vv;++vv)BI_RC[rr++]=vv;Classic.prototype.convert=cConvert,Classic.prototype.revert=cRevert,Classic.prototype.reduce=cReduce,Classic.prototype.mulTo=cMulTo,Classic.prototype.sqrTo=cSqrTo,Montgomery.prototype.convert=montConvert,Montgomery.prototype.revert=montRevert,Montgomery.prototype.reduce=montReduce,Montgomery.prototype.mulTo=montMulTo,Montgomery.prototype.sqrTo=montSqrTo,BigInteger.prototype.copyTo=bnpCopyTo,BigInteger.prototype.fromInt=bnpFromInt,BigInteger.prototype.fromString=bnpFromString,BigInteger.prototype.clamp=bnpClamp,BigInteger.prototype.dlShiftTo=bnpDLShiftTo,BigInteger.prototype.drShiftTo=bnpDRShiftTo,BigInteger.prototype.lShiftTo=bnpLShiftTo,BigInteger.prototype.rShiftTo=bnpRShiftTo,BigInteger.prototype.subTo=bnpSubTo,BigInteger.prototype.multiplyTo=bnpMultiplyTo,BigInteger.prototype.squareTo=bnpSquareTo,BigInteger.prototype.divRemTo=bnpDivRemTo,BigInteger.prototype.invDigit=bnpInvDigit,BigInteger.prototype.isEven=bnpIsEven,BigInteger.prototype.exp=bnpExp,BigInteger.prototype.toString=bnToString,BigInteger.prototype.negate=bnNegate,BigInteger.prototype.abs=bnAbs,BigInteger.prototype.compareTo=bnCompareTo,BigInteger.prototype.bitLength=bnBitLength,BigInteger.prototype.mod=bnMod,BigInteger.prototype.modPowInt=bnModPowInt,BigInteger.ZERO=nbv(0),BigInteger.ONE=nbv(1),NullExp.prototype.convert=nNop,NullExp.prototype.revert=nNop,NullExp.prototype.mulTo=nMulTo,NullExp.prototype.sqrTo=nSqrTo,Barrett.prototype.convert=barrettConvert,Barrett.prototype.revert=barrettRevert,Barrett.prototype.reduce=barrettReduce,Barrett.prototype.mulTo=barrettMulTo,Barrett.prototype.sqrTo=barrettSqrTo,lowprimes=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],lplim=67108864/lowprimes[lowprimes.length-1],BigInteger.prototype.chunkSize=bnpChunkSize,BigInteger.prototype.toRadix=bnpToRadix,BigInteger.prototype.fromRadix=bnpFromRadix,BigInteger.prototype.fromNumber=bnpFromNumber,BigInteger.prototype.bitwiseTo=bnpBitwiseTo,BigInteger.prototype.changeBit=bnpChangeBit,BigInteger.prototype.addTo=bnpAddTo,BigInteger.prototype.dMultiply=bnpDMultiply,BigInteger.prototype.dAddOffset=bnpDAddOffset,BigInteger.prototype.multiplyLowerTo=bnpMultiplyLowerTo,BigInteger.prototype.multiplyUpperTo=bnpMultiplyUpperTo,BigInteger.prototype.modInt=bnpModInt,BigInteger.prototype.millerRabin=bnpMillerRabin,BigInteger.prototype.clone=bnClone,BigInteger.prototype.intValue=bnIntValue,BigInteger.prototype.byteValue=bnByteValue,BigInteger.prototype.shortValue=bnShortValue,BigInteger.prototype.signum=bnSigNum,BigInteger.prototype.toByteArray=bnToByteArray,BigInteger.prototype.equals=bnEquals,BigInteger.prototype.min=bnMin,BigInteger.prototype.max=bnMax,BigInteger.prototype.and=bnAnd,BigInteger.prototype.or=bnOr,BigInteger.prototype.xor=bnXor,BigInteger.prototype.andNot=bnAndNot,BigInteger.prototype.not=bnNot,BigInteger.prototype.shiftLeft=bnShiftLeft,BigInteger.prototype.shiftRight=bnShiftRight,BigInteger.prototype.getLowestSetBit=bnGetLowestSetBit,BigInteger.prototype.bitCount=bnBitCount,BigInteger.prototype.testBit=bnTestBit,BigInteger.prototype.setBit=bnSetBit,BigInteger.prototype.clearBit=bnClearBit,BigInteger.prototype.flipBit=bnFlipBit,BigInteger.prototype.add=bnAdd,BigInteger.prototype.subtract=bnSubtract,BigInteger.prototype.multiply=bnMultiply,BigInteger.prototype.divide=bnDivide,BigInteger.prototype.remainder=bnRemainder,BigInteger.prototype.divideAndRemainder=bnDivideAndRemainder,BigInteger.prototype.modPow=bnModPow,BigInteger.prototype.modInverse=bnModInverse,BigInteger.prototype.pow=bnPow,BigInteger.prototype.gcd=bnGCD,BigInteger.prototype.isProbablePrime=bnIsProbablePrime,BigInteger.prototype.square=bnSquare,SHA1_SIZE=20,RSAKey.prototype.doPublic=RSADoPublic,RSAKey.prototype.setPublic=RSASetPublic,RSAKey.prototype.encrypt=RSAEncrypt,RSAKey.prototype.encryptOAEP=RSAEncryptOAEP,RSAKey.prototype.type="RSA",SHA1_SIZE=20,RSAKey.prototype.doPrivate=RSADoPrivate,RSAKey.prototype.setPrivate=RSASetPrivate,RSAKey.prototype.setPrivateEx=RSASetPrivateEx,RSAKey.prototype.generate=RSAGenerate,RSAKey.prototype.decrypt=RSADecrypt,RSAKey.prototype.decryptOAEP=RSADecryptOAEP,RSAKey.prototype.readPrivateKeyFromPEMString=_rsapem_readPrivateKeyFromPEMString,RSAKey.prototype.readPrivateKeyFromASN1HexString=_rsapem_readPrivateKeyFromASN1HexString,_RE_HEXDECONLY=new RegExp(""),_RE_HEXDECONLY.compile("[^0-9a-f]","gi"),RSAKey.prototype.signWithMessageHash=_rsasign_signWithMessageHash,RSAKey.prototype.signString=_rsasign_signString,RSAKey.prototype.signStringWithSHA1=_rsasign_signStringWithSHA1,RSAKey.prototype.signStringWithSHA256=_rsasign_signStringWithSHA256,RSAKey.prototype.sign=_rsasign_signString,RSAKey.prototype.signWithSHA1=_rsasign_signStringWithSHA1,RSAKey.prototype.signWithSHA256=_rsasign_signStringWithSHA256,RSAKey.prototype.signWithMessageHashPSS=_rsasign_signWithMessageHashPSS,RSAKey.prototype.signStringPSS=_rsasign_signStringPSS,RSAKey.prototype.signPSS=_rsasign_signStringPSS,RSAKey.SALT_LEN_HLEN=-1,RSAKey.SALT_LEN_MAX=-2,RSAKey.prototype.verifyWithMessageHash=_rsasign_verifyWithMessageHash,RSAKey.prototype.verifyString=_rsasign_verifyString,RSAKey.prototype.verifyHexSignatureForMessage=_rsasign_verifyHexSignatureForMessage,RSAKey.prototype.verify=_rsasign_verifyString,RSAKey.prototype.verifyHexSignatureForByteArrayMessage=_rsasign_verifyHexSignatureForMessage,RSAKey.prototype.verifyWithMessageHashPSS=_rsasign_verifyWithMessageHashPSS,RSAKey.prototype.verifyStringPSS=_rsasign_verifyStringPSS,RSAKey.prototype.verifyPSS=_rsasign_verifyStringPSS,RSAKey.SALT_LEN_RECOVER=-2,ASN1HEX=new function(){this.getByteLengthOfL_AtObj=function(e,t){if("8"!=e.substring(t+2,t+3))return 1;var n=parseInt(e.substring(t+3,t+4));return 0==n?-1:n>0&&10>n?n+1:-2},this.getHexOfL_AtObj=function(e,t){var n=this.getByteLengthOfL_AtObj(e,t);return 1>n?"":e.substring(t+2,t+2+2*n)},this.getIntOfL_AtObj=function(e,t){var n,r=this.getHexOfL_AtObj(e,t);return""==r?-1:(n=parseInt(r.substring(0,1))<8?new BigInteger(r,16):new BigInteger(r.substring(2),16),n.intValue())},this.getStartPosOfV_AtObj=function(e,t){var n=this.getByteLengthOfL_AtObj(e,t);return 0>n?n:t+2*(n+1)},this.getHexOfV_AtObj=function(e,t){var n=this.getStartPosOfV_AtObj(e,t),r=this.getIntOfL_AtObj(e,t);return e.substring(n,n+2*r)},this.getHexOfTLV_AtObj=function(e,t){var n=e.substr(t,2),r=this.getHexOfL_AtObj(e,t),i=this.getHexOfV_AtObj(e,t);return n+r+i},this.getPosOfNextSibling_AtObj=function(e,t){var n=this.getStartPosOfV_AtObj(e,t),r=this.getIntOfL_AtObj(e,t);return n+2*r},this.getPosArrayOfChildren_AtObj=function(e,t){var n,r=[],i=this.getStartPosOfV_AtObj(e,t);r.push(i);for(var o=this.getIntOfL_AtObj(e,t),s=i,a=0;(n=this.getPosOfNextSibling_AtObj(e,s),!(null==n||n-i>=2*o))&&!(a>=200);)r.push(n),s=n,a++;return r},this.getNthChildIndex_AtObj=function(e,t,n){var r=this.getPosArrayOfChildren_AtObj(e,t);return r[n]},this.getDecendantIndexByNthList=function(e,t,n){if(0==n.length)return t;var r=n.shift(),i=this.getPosArrayOfChildren_AtObj(e,t);return this.getDecendantIndexByNthList(e,i[r],n)},this.getDecendantHexTLVByNthList=function(e,t,n){var r=this.getDecendantIndexByNthList(e,t,n);return this.getHexOfTLV_AtObj(e,r)},this.getDecendantHexVByNthList=function(e,t,n){var r=this.getDecendantIndexByNthList(e,t,n);return this.getHexOfV_AtObj(e,r)}},ASN1HEX.getVbyList=function(e,t,n,r){var i=this.getDecendantIndexByNthList(e,t,n);if(void 0===i)throw"can't find nthList object";if(void 0!==r&&e.substr(i,2)!=r)throw"checking tag doesn't match: "+e.substr(i,2)+"!="+r;return this.getHexOfV_AtObj(e,i)},ASN1HEX.hextooidstr=function(e){var t,n,r,i,o,s,a=function(e,t){return e.length>=t?e:new Array(t-e.length+1).join("0")+e},c=[],u=e.substr(0,2),h=parseInt(u,16);for(c[0]=new String(Math.floor(h/40)),c[1]=new String(h%40),t=e.substr(2),n=[],o=0;o<t.length/2;o++)n.push(parseInt(t.substr(2*o,2),16));for(r=[],i="",o=0;o<n.length;o++)128&n[o]?i+=a((127&n[o]).toString(2),7):(i+=a((127&n[o]).toString(2),7),r.push(new String(parseInt(i,2))),i="");return s=c.join("."),r.length>0&&(s=s+"."+r.join(".")),s},X509.pemToBase64=function(e){var t=e;return t=t.replace("-----BEGIN CERTIFICATE-----",""),t=t.replace("-----END CERTIFICATE-----",""),t.replace(/[ \n]+/g,"")},X509.pemToHex=function(e){var t=X509.pemToBase64(e);return b64tohex(t)},X509.getSubjectPublicKeyPosFromCertHex=function(e){var t,n,r,i=X509.getSubjectPublicKeyInfoPosFromCertHex(e);return-1==i?-1:(t=ASN1HEX.getPosArrayOfChildren_AtObj(e,i),2!=t.length?-1:(n=t[1],"03"!=e.substring(n,n+2)?-1:(r=ASN1HEX.getStartPosOfV_AtObj(e,n),"00"!=e.substring(r,r+2)?-1:r+2)))},X509.getSubjectPublicKeyInfoPosFromCertHex=function(e){var t=ASN1HEX.getStartPosOfV_AtObj(e,0),n=ASN1HEX.getPosArrayOfChildren_AtObj(e,t);return n.length<1?-1:"a003020102"==e.substring(n[0],n[0]+10)?n.length<6?-1:n[6]:n.length<5?-1:n[5]},X509.getPublicKeyHexArrayFromCertHex=function(e){var t,n,r=X509.getSubjectPublicKeyPosFromCertHex(e),i=ASN1HEX.getPosArrayOfChildren_AtObj(e,r);return 2!=i.length?[]:(t=ASN1HEX.getHexOfV_AtObj(e,i[0]),n=ASN1HEX.getHexOfV_AtObj(e,i[1]),null!=t&&null!=n?[t,n]:[])},X509.getHexTbsCertificateFromCert=function(e){return ASN1HEX.getStartPosOfV_AtObj(e,0)},X509.getPublicKeyHexArrayFromCertPEM=function(e){var t=X509.pemToHex(e);return X509.getPublicKeyHexArrayFromCertHex(t)},X509.hex2dn=function(e){for(var t,n="",r=ASN1HEX.getPosArrayOfChildren_AtObj(e,0),i=0;i<r.length;i++)t=ASN1HEX.getHexOfTLV_AtObj(e,r[i]),n=n+"/"+X509.hex2rdn(t);return n},X509.hex2rdn=function(e){var t,n=ASN1HEX.getDecendantHexTLVByNthList(e,0,[0,0]),r=ASN1HEX.getDecendantHexVByNthList(e,0,[0,1]),i="";try{i=X509.DN_ATTRHEX[n]}catch(o){i=n}return r=r.replace(/(..)/g,"%$1"),t=decodeURIComponent(r),i+"="+t},X509.DN_ATTRHEX={"0603550406":"C","060355040a":"O","060355040b":"OU","0603550403":"CN","0603550405":"SN","0603550408":"ST","0603550407":"L"},X509.getPublicKeyFromCertPEM=function(e){var t,n,r,i=X509.getPublicKeyInfoPropOfCertPEM(e);if("2a864886f70d010101"==i.algoid)return t=KEYUTIL.parsePublicRawRSAKeyHex(i.keyhex),r=new RSAKey,r.setPublic(t.n,t.e),r;if("2a8648ce3d0201"==i.algoid)return n=KJUR.crypto.OID.oidhex2name[i.algparam],r=new KJUR.crypto.ECDSA({curve:n,info:i.keyhex}),r.setPublicKeyHex(i.keyhex),r;if("2a8648ce380401"==i.algoid){var o=ASN1HEX.getVbyList(i.algparam,0,[0],"02"),s=ASN1HEX.getVbyList(i.algparam,0,[1],"02"),a=ASN1HEX.getVbyList(i.algparam,0,[2],"02"),c=ASN1HEX.getHexOfV_AtObj(i.keyhex,0);return c=c.substr(2),r=new KJUR.crypto.DSA,r.setPublic(new BigInteger(o,16),new BigInteger(s,16),new BigInteger(a,16),new BigInteger(c,16)),r}throw"unsupported key"},X509.getPublicKeyInfoPropOfCertPEM=function(e){var t,n,r,i,o,s,a={};if(a.algparam=null,t=X509.pemToHex(e),n=ASN1HEX.getPosArrayOfChildren_AtObj(t,0),3!=n.length)throw"malformed X.509 certificate PEM (code:001)";if("30"!=t.substr(n[0],2))throw"malformed X.509 certificate PEM (code:002)";if(r=ASN1HEX.getPosArrayOfChildren_AtObj(t,n[0]),r.length<7)throw"malformed X.509 certificate PEM (code:003)";if(i=ASN1HEX.getPosArrayOfChildren_AtObj(t,r[6]),2!=i.length)throw"malformed X.509 certificate PEM (code:004)";if(o=ASN1HEX.getPosArrayOfChildren_AtObj(t,i[0]),2!=o.length)throw"malformed X.509 certificate PEM (code:005)";if(a.algoid=ASN1HEX.getHexOfV_AtObj(t,o[0]),"06"==t.substr(o[1],2)?a.algparam=ASN1HEX.getHexOfV_AtObj(t,o[1]):"30"==t.substr(o[1],2)&&(a.algparam=ASN1HEX.getHexOfTLV_AtObj(t,o[1])),"03"!=t.substr(i[1],2))throw"malformed X.509 certificate PEM (code:006)";return s=ASN1HEX.getHexOfV_AtObj(t,i[1]),a.keyhex=s.substr(2),a},"undefined"!=typeof KJUR&&KJUR||(KJUR={}),"undefined"!=typeof KJUR.crypto&&KJUR.crypto||(KJUR.crypto={}),KJUR.crypto.Util=new function(){this.DIGESTINFOHEAD={sha1:"3021300906052b0e03021a05000414",sha224:"302d300d06096086480165030402040500041c",sha256:"3031300d060960864801650304020105000420",sha384:"3041300d060960864801650304020205000430",sha512:"3051300d060960864801650304020305000440",md2:"3020300c06082a864886f70d020205000410",md5:"3020300c06082a864886f70d020505000410",ripemd160:"3021300906052b2403020105000414"},this.DEFAULTPROVIDER={md5:"cryptojs",sha1:"cryptojs",sha224:"cryptojs",sha256:"cryptojs",sha384:"cryptojs",sha512:"cryptojs",ripemd160:"cryptojs",hmacmd5:"cryptojs",hmacsha1:"cryptojs",hmacsha224:"cryptojs",hmacsha256:"cryptojs",hmacsha384:"cryptojs",hmacsha512:"cryptojs",hmacripemd160:"cryptojs",MD5withRSA:"cryptojs/jsrsa",SHA1withRSA:"cryptojs/jsrsa",SHA224withRSA:"cryptojs/jsrsa",SHA256withRSA:"cryptojs/jsrsa",SHA384withRSA:"cryptojs/jsrsa",SHA512withRSA:"cryptojs/jsrsa",RIPEMD160withRSA:"cryptojs/jsrsa",MD5withECDSA:"cryptojs/jsrsa",SHA1withECDSA:"cryptojs/jsrsa",SHA224withECDSA:"cryptojs/jsrsa",SHA256withECDSA:"cryptojs/jsrsa",SHA384withECDSA:"cryptojs/jsrsa",SHA512withECDSA:"cryptojs/jsrsa",RIPEMD160withECDSA:"cryptojs/jsrsa",SHA1withDSA:"cryptojs/jsrsa",SHA224withDSA:"cryptojs/jsrsa",SHA256withDSA:"cryptojs/jsrsa",MD5withRSAandMGF1:"cryptojs/jsrsa",SHA1withRSAandMGF1:"cryptojs/jsrsa",SHA224withRSAandMGF1:"cryptojs/jsrsa",SHA256withRSAandMGF1:"cryptojs/jsrsa",SHA384withRSAandMGF1:"cryptojs/jsrsa",SHA512withRSAandMGF1:"cryptojs/jsrsa",RIPEMD160withRSAandMGF1:"cryptojs/jsrsa"},this.CRYPTOJSMESSAGEDIGESTNAME={md5:"CryptoJS.algo.MD5",sha1:"CryptoJS.algo.SHA1",sha224:"CryptoJS.algo.SHA224",sha256:"CryptoJS.algo.SHA256",sha384:"CryptoJS.algo.SHA384",sha512:"CryptoJS.algo.SHA512",ripemd160:"CryptoJS.algo.RIPEMD160"},this.getDigestInfoHex=function(e,t){if("undefined"==typeof this.DIGESTINFOHEAD[t])throw"alg not supported in Util.DIGESTINFOHEAD: "+t;return this.DIGESTINFOHEAD[t]+e},this.getPaddedDigestInfoHex=function(e,t,n){var r,i=this.getDigestInfoHex(e,t),o=n/4;if(i.length+22>o)throw"key is too short for SigAlg: keylen="+n+","+t;var s="0001",a="00"+i,c="",u=o-s.length-a.length;for(r=0;u>r;r+=2)c+="ff";return s+c+a},this.hashString=function(e,t){var n=new KJUR.crypto.MessageDigest({alg:t});return n.digestString(e)},this.hashHex=function(e,t){var n=new KJUR.crypto.MessageDigest({alg:t});return n.digestHex(e)},this.sha1=function(e){var t=new KJUR.crypto.MessageDigest({alg:"sha1",prov:"cryptojs"});return t.digestString(e)},this.sha256=function(e){var t=new KJUR.crypto.MessageDigest({alg:"sha256",prov:"cryptojs"});return t.digestString(e)},this.sha256Hex=function(e){var t=new KJUR.crypto.MessageDigest({alg:"sha256",prov:"cryptojs"});return t.digestHex(e)},this.sha512=function(e){var t=new KJUR.crypto.MessageDigest({alg:"sha512",prov:"cryptojs"});return t.digestString(e)},this.sha512Hex=function(e){var t=new KJUR.crypto.MessageDigest({alg:"sha512",prov:"cryptojs"});return t.digestHex(e)},this.md5=function(e){var t=new KJUR.crypto.MessageDigest({alg:"md5",prov:"cryptojs"});return t.digestString(e)},this.ripemd160=function(e){var t=new KJUR.crypto.MessageDigest({alg:"ripemd160",prov:"cryptojs"});return t.digestString(e)},this.getCryptoJSMDByName=function(){}},KJUR.crypto.MessageDigest=function(n){this.setAlgAndProvider=function(alg,prov){if(null!=alg&&void 0===prov&&(prov=KJUR.crypto.Util.DEFAULTPROVIDER[alg]),-1!=":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(alg)&&"cryptojs"==prov){try{this.md=eval(KJUR.crypto.Util.CRYPTOJSMESSAGEDIGESTNAME[alg]).create()}catch(ex){throw"setAlgAndProvider hash alg set fail alg="+alg+"/"+ex}this.updateString=function(e){this.md.update(e)},this.updateHex=function(e){var t=CryptoJS.enc.Hex.parse(e);this.md.update(t)},this.digest=function(){var e=this.md.finalize();return e.toString(CryptoJS.enc.Hex)},this.digestString=function(e){return this.updateString(e),this.digest()},this.digestHex=function(e){return this.updateHex(e),this.digest()}}if(-1!=":sha256:".indexOf(alg)&&"sjcl"==prov){try{this.md=new sjcl.hash.sha256}catch(ex){throw"setAlgAndProvider hash alg set fail alg="+alg+"/"+ex}this.updateString=function(e){this.md.update(e)},this.updateHex=function(e){var t=sjcl.codec.hex.toBits(e);this.md.update(t)},this.digest=function(){var e=this.md.finalize();return sjcl.codec.hex.fromBits(e)},this.digestString=function(e){return this.updateString(e),this.digest()},this.digestHex=function(e){return this.updateHex(e),this.digest()}}},this.updateString=function(){throw"updateString(str) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.updateHex=function(){throw"updateHex(hex) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digest=function(){throw"digest() not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digestString=function(){throw"digestString(str) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digestHex=function(){throw"digestHex(hex) not supported for this alg/prov: "+this.algName+"/"+this.provName;
},void 0!==n&&void 0!==n.alg&&(this.algName=n.alg,void 0===n.prov&&(this.provName=KJUR.crypto.Util.DEFAULTPROVIDER[this.algName]),this.setAlgAndProvider(this.algName,this.provName))},KJUR.crypto.Mac=function(n){this.setAlgAndProvider=function(alg,prov){var hashAlg,mdObj;if(null==alg&&(alg="hmacsha1"),alg=alg.toLowerCase(),"hmac"!=alg.substr(0,4))throw"setAlgAndProvider unsupported HMAC alg: "+alg;if(void 0===prov&&(prov=KJUR.crypto.Util.DEFAULTPROVIDER[alg]),this.algProv=alg+"/"+prov,hashAlg=alg.substr(4),-1!=":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(hashAlg)&&"cryptojs"==prov){try{mdObj=eval(KJUR.crypto.Util.CRYPTOJSMESSAGEDIGESTNAME[hashAlg]),this.mac=CryptoJS.algo.HMAC.create(mdObj,this.pass)}catch(ex){throw"setAlgAndProvider hash alg set fail hashAlg="+hashAlg+"/"+ex}this.updateString=function(e){this.mac.update(e)},this.updateHex=function(e){var t=CryptoJS.enc.Hex.parse(e);this.mac.update(t)},this.doFinal=function(){var e=this.mac.finalize();return e.toString(CryptoJS.enc.Hex)},this.doFinalString=function(e){return this.updateString(e),this.doFinal()},this.doFinalHex=function(e){return this.updateHex(e),this.doFinal()}}},this.updateString=function(){throw"updateString(str) not supported for this alg/prov: "+this.algProv},this.updateHex=function(){throw"updateHex(hex) not supported for this alg/prov: "+this.algProv},this.doFinal=function(){throw"digest() not supported for this alg/prov: "+this.algProv},this.doFinalString=function(){throw"digestString(str) not supported for this alg/prov: "+this.algProv},this.doFinalHex=function(){throw"digestHex(hex) not supported for this alg/prov: "+this.algProv},void 0!==n&&(void 0!==n.pass&&(this.pass=n.pass),void 0!==n.alg&&(this.algName=n.alg,void 0===n.prov&&(this.provName=KJUR.crypto.Util.DEFAULTPROVIDER[this.algName]),this.setAlgAndProvider(this.algName,this.provName)))},KJUR.crypto.Signature=function(e){var t=null;if(this._setAlgNames=function(){this.algName.match(/^(.+)with(.+)$/)&&(this.mdAlgName=RegExp.$1.toLowerCase(),this.pubkeyAlgName=RegExp.$2.toLowerCase())},this._zeroPaddingOfSignature=function(e,t){for(var n="",r=t/4-e.length,i=0;r>i;i++)n+="0";return n+e},this.setAlgAndProvider=function(e,t){if(this._setAlgNames(),"cryptojs/jsrsa"!=t)throw"provider not supported: "+t;if(-1!=":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(this.mdAlgName)){try{this.md=new KJUR.crypto.MessageDigest({alg:this.mdAlgName})}catch(n){throw"setAlgAndProvider hash alg set fail alg="+this.mdAlgName+"/"+n}this.init=function(e,t){var n=null;try{n=void 0===t?KEYUTIL.getKey(e):KEYUTIL.getKey(e,t)}catch(r){throw"init failed:"+r}if(n.isPrivate===!0)this.prvKey=n,this.state="SIGN";else{if(n.isPublic!==!0)throw"init failed.:"+n;this.pubKey=n,this.state="VERIFY"}},this.initSign=function(e){"string"==typeof e.ecprvhex&&"string"==typeof e.eccurvename?(this.ecprvhex=e.ecprvhex,this.eccurvename=e.eccurvename):this.prvKey=e,this.state="SIGN"},this.initVerifyByPublicKey=function(e){"string"==typeof e.ecpubhex&&"string"==typeof e.eccurvename?(this.ecpubhex=e.ecpubhex,this.eccurvename=e.eccurvename):e instanceof KJUR.crypto.ECDSA?this.pubKey=e:e instanceof RSAKey&&(this.pubKey=e),this.state="VERIFY"},this.initVerifyByCertificatePEM=function(e){var t=new X509;t.readCertPEM(e),this.pubKey=t.subjectPublicKeyRSA,this.state="VERIFY"},this.updateString=function(e){this.md.updateString(e)},this.updateHex=function(e){this.md.updateHex(e)},this.sign=function(){if(this.sHashHex=this.md.digest(),"undefined"!=typeof this.ecprvhex&&"undefined"!=typeof this.eccurvename){var e=new KJUR.crypto.ECDSA({curve:this.eccurvename});this.hSign=e.signHex(this.sHashHex,this.ecprvhex)}else if("rsaandmgf1"==this.pubkeyAlgName)this.hSign=this.prvKey.signWithMessageHashPSS(this.sHashHex,this.mdAlgName,this.pssSaltLen);else if("rsa"==this.pubkeyAlgName)this.hSign=this.prvKey.signWithMessageHash(this.sHashHex,this.mdAlgName);else if(this.prvKey instanceof KJUR.crypto.ECDSA)this.hSign=this.prvKey.signWithMessageHash(this.sHashHex);else{if(!(this.prvKey instanceof KJUR.crypto.DSA))throw"Signature: unsupported public key alg: "+this.pubkeyAlgName;this.hSign=this.prvKey.signWithMessageHash(this.sHashHex)}return this.hSign},this.signString=function(e){return this.updateString(e),this.sign()},this.signHex=function(e){return this.updateHex(e),this.sign()},this.verify=function(e){if(this.sHashHex=this.md.digest(),"undefined"!=typeof this.ecpubhex&&"undefined"!=typeof this.eccurvename){var t=new KJUR.crypto.ECDSA({curve:this.eccurvename});return t.verifyHex(this.sHashHex,e,this.ecpubhex)}if("rsaandmgf1"==this.pubkeyAlgName)return this.pubKey.verifyWithMessageHashPSS(this.sHashHex,e,this.mdAlgName,this.pssSaltLen);if("rsa"==this.pubkeyAlgName||this.pubKey instanceof KJUR.crypto.ECDSA||this.pubKey instanceof KJUR.crypto.DSA)return this.pubKey.verifyWithMessageHash(this.sHashHex,e);throw"Signature: unsupported public key alg: "+this.pubkeyAlgName}}},this.init=function(){throw"init(key, pass) not supported for this alg:prov="+this.algProvName},this.initVerifyByPublicKey=function(){throw"initVerifyByPublicKey(rsaPubKeyy) not supported for this alg:prov="+this.algProvName},this.initVerifyByCertificatePEM=function(){throw"initVerifyByCertificatePEM(certPEM) not supported for this alg:prov="+this.algProvName},this.initSign=function(){throw"initSign(prvKey) not supported for this alg:prov="+this.algProvName},this.updateString=function(){throw"updateString(str) not supported for this alg:prov="+this.algProvName},this.updateHex=function(){throw"updateHex(hex) not supported for this alg:prov="+this.algProvName},this.sign=function(){throw"sign() not supported for this alg:prov="+this.algProvName},this.signString=function(){throw"digestString(str) not supported for this alg:prov="+this.algProvName},this.signHex=function(){throw"digestHex(hex) not supported for this alg:prov="+this.algProvName},this.verify=function(){throw"verify(hSigVal) not supported for this alg:prov="+this.algProvName},this.initParams=e,void 0!==e&&(void 0!==e.alg&&(this.algName=e.alg,this.provName=void 0===e.prov?KJUR.crypto.Util.DEFAULTPROVIDER[this.algName]:e.prov,this.algProvName=this.algName+":"+this.provName,this.setAlgAndProvider(this.algName,this.provName),this._setAlgNames()),void 0!==e.psssaltlen&&(this.pssSaltLen=e.psssaltlen),void 0!==e.prvkeypem)){if(void 0!==e.prvkeypas)throw"both prvkeypem and prvkeypas parameters not supported";try{t=new RSAKey,t.readPrivateKeyFromPEMString(e.prvkeypem),this.initSign(t)}catch(n){throw"fatal error to load pem private key: "+n}}},KJUR.crypto.OID=new function(){this.oidhex2name={"2a864886f70d010101":"rsaEncryption","2a8648ce3d0201":"ecPublicKey","2a8648ce380401":"dsa","2a8648ce3d030107":"secp256r1","2b8104001f":"secp192k1","2b81040021":"secp224r1","2b8104000a":"secp256k1","2b81040023":"secp521r1","2b81040022":"secp384r1","2a8648ce380403":"SHA1withDSA","608648016503040301":"SHA224withDSA","608648016503040302":"SHA256withDSA"}},"function"==typeof Buffer?(utf8tob64u=function(e){return b64tob64u(new Buffer(e,"utf8").toString("base64"))},b64utoutf8=function(e){return new Buffer(b64utob64(e),"base64").toString("utf8")}):(utf8tob64u=function(e){return hextob64u(uricmptohex(encodeURIComponentAll(e)))},b64utoutf8=function(e){return decodeURIComponent(hextouricmp(b64utohex(e)))});var jsonParse=function(){function e(e,t,n){return t?r[t]:String.fromCharCode(parseInt(n,16))}var t=new RegExp('(?:false|true|null|[\\{\\}\\[\\]]|(?:-?\\b(?:0|[1-9][0-9]*)(?:\\.[0-9]+)?(?:[eE][+-]?[0-9]+)?\\b)|(?:"(?:[^\\0-\\x08\\x0a-\\x1f"\\\\]|\\\\(?:["/\\\\bfnrt]|u[0-9A-Fa-f]{4}))*"))',"g"),n=new RegExp("\\\\(?:([^u])|u(.{4}))","g"),r={'"':'"',"/":"/","\\":"\\",b:"\b",f:"\f",n:"\n",r:"\r",t:"	"},i=new String(""),o="\\",s=({"{":Object,"[":Array},Object.hasOwnProperty);return function(r,a){var c,u,h,l,f,p,d,g=r.match(t),v=g[0],y=!1;for("{"===v?c={}:"["===v?c=[]:(c=[],y=!0),h=[c],l=1-y,f=g.length;f>l;++l)switch(v=g[l],v.charCodeAt(0)){default:p=h[0],p[u||p.length]=+v,u=void 0;break;case 34:if(v=v.substring(1,v.length-1),-1!==v.indexOf(o)&&(v=v.replace(n,e)),p=h[0],!u){if(!(p instanceof Array)){u=v||i;break}u=p.length}p[u]=v,u=void 0;break;case 91:p=h[0],h.unshift(p[u||p.length]=[]),u=void 0;break;case 93:h.shift();break;case 102:p=h[0],p[u||p.length]=!1,u=void 0;break;case 110:p=h[0],p[u||p.length]=null,u=void 0;break;case 116:p=h[0],p[u||p.length]=!0,u=void 0;break;case 123:p=h[0],h.unshift(p[u||p.length]={}),u=void 0;break;case 125:h.shift()}if(y){if(1!==h.length)throw new Error;c=c[0]}else if(h.length)throw new Error;return a&&(d=function(e,t){var n,r,i,o,c=e[t];if(c&&"object"==typeof c){n=null;for(r in c)s.call(c,r)&&c!==e&&(i=d(c,r),void 0!==i?c[r]=i:(n||(n=[]),n.push(r)));if(n)for(o=n.length;--o>=0;)delete c[n[o]]}return a.call(e,t,c)},c=d({"":c},"")),c}}();"undefined"!=typeof KJUR&&KJUR||(KJUR={}),"undefined"!=typeof KJUR.jws&&KJUR.jws||(KJUR.jws={}),KJUR.jws.JWS=function(){function e(e,t){return utf8tob64u(e)+"."+utf8tob64u(t)}function t(e){var t=e.alg,n="";if("RS256"!=t&&"RS512"!=t&&"PS256"!=t&&"PS512"!=t)throw"JWS signature algorithm not supported: "+t;return"256"==t.substr(2)&&(n="sha256"),"512"==t.substr(2)&&(n="sha512"),n}function n(e){return t(jsonParse(e))}function r(e,t,r,i,o,s){var a,c,u=new RSAKey;return u.setPrivate(i,o,s),a=n(e),c=u.signString(r,a)}function i(e,r,i,o,s){var a,c=null;return c="undefined"==typeof s?n(e):t(s),a="PS"==s.alg.substr(0,2),o.hashAndSign?b64tob64u(o.hashAndSign(c,i,"binary","base64",a)):hextob64u(a?o.signStringPSS(i,c):o.signString(i,c))}function o(e,t,r,i){var o,s,a=new RSAKey;return a.readPrivateKeyFromPEMString(i),o=n(e),s=a.signString(r,o)}this.parseJWS=function(e,t){var n,r,i,o;if(void 0===this.parsedJWS||!t&&void 0===this.parsedJWS.sigvalH){if(null==e.match(/^([^.]+)\.([^.]+)\.([^.]+)$/))throw"JWS signature is not a form of 'Head.Payload.SigValue'.";var s=RegExp.$1,a=RegExp.$2,c=RegExp.$3,u=s+"."+a;if(this.parsedJWS={},this.parsedJWS.headB64U=s,this.parsedJWS.payloadB64U=a,this.parsedJWS.sigvalB64U=c,this.parsedJWS.si=u,t||(n=b64utohex(c),r=parseBigInt(n,16),this.parsedJWS.sigvalH=n,this.parsedJWS.sigvalBI=r),i=b64utoutf8(s),o=b64utoutf8(a),this.parsedJWS.headS=i,this.parsedJWS.payloadS=o,!KJUR.jws.JWS.isSafeJSONString(i,this.parsedJWS,"headP"))throw"malformed JSON string for JWS Head: "+i}},this.verifyJWSByNE=function(e,t,n){return this.parseJWS(e),_rsasign_verifySignatureWithArgs(this.parsedJWS.si,this.parsedJWS.sigvalBI,t,n)},this.verifyJWSByKey=function(e,n){this.parseJWS(e);var r=t(this.parsedJWS.headP),i="PS"==this.parsedJWS.headP.alg.substr(0,2);return n.hashAndVerify?n.hashAndVerify(r,new Buffer(this.parsedJWS.si,"utf8").toString("base64"),b64utob64(this.parsedJWS.sigvalB64U),"base64",i):i?n.verifyStringPSS(this.parsedJWS.si,this.parsedJWS.sigvalH,r):n.verifyString(this.parsedJWS.si,this.parsedJWS.sigvalH)},this.verifyJWSByPemX509Cert=function(e,t){this.parseJWS(e);var n=new X509;return n.readCertPEM(t),n.subjectPublicKeyRSA.verifyString(this.parsedJWS.si,this.parsedJWS.sigvalH)},this.generateJWSByNED=function(t,n,i,o,s){if(!KJUR.jws.JWS.isSafeJSONString(t))throw"JWS Head is not safe JSON string: "+t;var a=e(t,n),c=r(t,n,a,i,o,s),u=hextob64u(c);return this.parsedJWS={},this.parsedJWS.headB64U=a.split(".")[0],this.parsedJWS.payloadB64U=a.split(".")[1],this.parsedJWS.sigvalB64U=u,a+"."+u},this.generateJWSByKey=function(t,n,r){var o,s,a={};if(!KJUR.jws.JWS.isSafeJSONString(t,a,"headP"))throw"JWS Head is not safe JSON string: "+t;return o=e(t,n),s=i(t,n,o,r,a.headP),this.parsedJWS={},this.parsedJWS.headB64U=o.split(".")[0],this.parsedJWS.payloadB64U=o.split(".")[1],this.parsedJWS.sigvalB64U=s,o+"."+s},this.generateJWSByP1PrvKey=function(t,n,r){if(!KJUR.jws.JWS.isSafeJSONString(t))throw"JWS Head is not safe JSON string: "+t;var i=e(t,n),s=o(t,n,i,r),a=hextob64u(s);return this.parsedJWS={},this.parsedJWS.headB64U=i.split(".")[0],this.parsedJWS.payloadB64U=i.split(".")[1],this.parsedJWS.sigvalB64U=a,i+"."+a}},KJUR.jws.JWS.sign=function(e,t,n,r,i){var o,s,a,c,u,h=KJUR.jws.JWS;if(!h.isSafeJSONString(t))throw"JWS Head is not safe JSON string: "+sHead;if(o=h.readSafeJSONString(t),(""==e||null==e)&&void 0!==o.alg&&(e=o.alg),""!=e&&null!=e&&void 0===o.alg&&(o.alg=e,t=JSON.stringify(o)),s=null,void 0===h.jwsalg2sigalg[e])throw"unsupported alg name: "+e;s=h.jwsalg2sigalg[e];var l=utf8tob64u(t),f=utf8tob64u(n),p=l+"."+f,d="";if("Hmac"==s.substr(0,4)){if(void 0===r)throw"hexadecimal key shall be specified for HMAC";a=new KJUR.crypto.Mac({alg:s,pass:hextorstr(r)}),a.updateString(p),d=a.doFinal()}else-1!=s.indexOf("withECDSA")?(c=new KJUR.crypto.Signature({alg:s}),c.init(r,i),c.updateString(p),hASN1Sig=c.sign(),d=KJUR.crypto.ECDSA.asn1SigToConcatSig(hASN1Sig)):"none"!=s&&(c=new KJUR.crypto.Signature({alg:s}),c.init(r,i),c.updateString(p),d=c.sign());return u=hextob64u(d),p+"."+u},KJUR.jws.JWS.verify=function(e,t){var n,r,i,o,s=KJUR.jws.JWS,a=e.split("."),c=a[0],u=a[1],h=c+"."+u,l=b64utohex(a[2]),f=s.readSafeJSONString(b64utoutf8(a[0])),p=null;if(void 0===f.alg)throw"algorithm not specified in header";if(p=f.alg,n=null,void 0===s.jwsalg2sigalg[f.alg])throw"unsupported alg name: "+p;if(n=s.jwsalg2sigalg[p],"none"==n)return!0;if("Hmac"==n.substr(0,4)){if(void 0===t)throw"hexadecimal key shall be specified for HMAC";return r=new KJUR.crypto.Mac({alg:n,pass:hextorstr(t)}),r.updateString(h),hSig2=r.doFinal(),l==hSig2}if(-1!=n.indexOf("withECDSA")){i=null;try{i=KJUR.crypto.ECDSA.concatSigToASN1Sig(l)}catch(d){return!1}return o=new KJUR.crypto.Signature({alg:n}),o.init(t),o.updateString(h),o.verify(i)}return o=new KJUR.crypto.Signature({alg:n}),o.init(t),o.updateString(h),o.verify(l)},KJUR.jws.JWS.jwsalg2sigalg={HS256:"HmacSHA256",HS512:"HmacSHA512",RS256:"SHA256withRSA",RS384:"SHA384withRSA",RS512:"SHA512withRSA",ES256:"SHA256withECDSA",ES384:"SHA384withECDSA",PS256:"SHA256withRSAandMGF1",PS384:"SHA384withRSAandMGF1",PS512:"SHA512withRSAandMGF1",none:"none"},KJUR.jws.JWS.isSafeJSONString=function(e,t,n){var r=null;try{return r=jsonParse(e),"object"!=typeof r?0:r.constructor===Array?0:(t&&(t[n]=r),1)}catch(i){return 0}},KJUR.jws.JWS.readSafeJSONString=function(e){var t=null;try{return t=jsonParse(e),"object"!=typeof t?null:t.constructor===Array?null:t}catch(n){return null}},KJUR.jws.JWS.getEncodedSignatureValueFromJWS=function(e){if(null==e.match(/^[^.]+\.[^.]+\.([^.]+)$/))throw"JWS signature is not a form of 'Head.Payload.SigValue'.";return RegExp.$1},KJUR.jws.IntDate=function(){},KJUR.jws.IntDate.get=function(e){if("now"==e)return KJUR.jws.IntDate.getNow();if("now + 1hour"==e)return KJUR.jws.IntDate.getNow()+3600;if("now + 1day"==e)return KJUR.jws.IntDate.getNow()+86400;if("now + 1month"==e)return KJUR.jws.IntDate.getNow()+2592e3;if("now + 1year"==e)return KJUR.jws.IntDate.getNow()+31536e3;if(e.match(/Z$/))return KJUR.jws.IntDate.getZulu(e);if(e.match(/^[0-9]+$/))return parseInt(e);throw"unsupported format: "+e},KJUR.jws.IntDate.getZulu=function(e){if(a=e.match(/(\d{4})(\d\d)(\d\d)(\d\d)(\d\d)(\d\d)Z/)){var t=parseInt(RegExp.$1),n=parseInt(RegExp.$2)-1,r=parseInt(RegExp.$3),i=parseInt(RegExp.$4),o=parseInt(RegExp.$5),s=parseInt(RegExp.$6),c=new Date(Date.UTC(t,n,r,i,o,s));return~~(c/1e3)}throw"unsupported format: "+e},KJUR.jws.IntDate.getNow=function(){return~~(new Date/1e3)},KJUR.jws.IntDate.intDate2UTCString=function(e){var t=new Date(1e3*e);return t.toUTCString()},KJUR.jws.IntDate.intDate2Zulu=function(e){var t=new Date(1e3*e),n=("0000"+t.getUTCFullYear()).slice(-4),r=("00"+(t.getUTCMonth()+1)).slice(-2),i=("00"+t.getUTCDate()).slice(-2),o=("00"+t.getUTCHours()).slice(-2),s=("00"+t.getUTCMinutes()).slice(-2),a=("00"+t.getUTCSeconds()).slice(-2);return n+r+i+o+s+a+"Z"},function(){"use strict";function e(e){return"function"==typeof e||"object"==typeof e&&null!==e}function t(e){return"function"==typeof e}function n(e){return"object"==typeof e&&null!==e}function r(){}function i(){return function(){process.nextTick(c)}}function o(){var e=0,t=new K(c),n=document.createTextNode("");return t.observe(n,{characterData:!0}),function(){n.data=e=++e%2}}function s(){var e=new MessageChannel;return e.port1.onmessage=c,function(){e.port2.postMessage(0)}}function a(){return function(){setTimeout(c,1)}}function c(){for(var e,t,n=0;F>n;n+=2)e=j[n],t=j[n+1],e(t),j[n]=void 0,j[n+1]=void 0;F=0}function u(){}function h(){return new TypeError("You cannot resolve a promise with itself")}function l(){return new TypeError("A promises callback cannot return that same promise.")}function f(e){try{return e.then}catch(t){return G.error=t,G}}function p(e,t,n,r){try{e.call(t,n,r)}catch(i){return i}}function d(e,t,n){U(function(e){var r=!1,i=p(n,t,function(n){r||(r=!0,t!==n?y(e,n):b(e,n))},function(t){r||(r=!0,S(e,t))},"Settle: "+(e._label||" unknown promise"));!r&&i&&(r=!0,S(e,i))},e)}function g(e,t){t._state===V?b(e,t._result):e._state===X?S(e,t._result):w(t,void 0,function(t){y(e,t)},function(t){S(e,t)})}function v(e,n){if(n.constructor===e.constructor)g(e,n);else{var r=f(n);r===G?S(e,G.error):void 0===r?b(e,n):t(r)?d(e,n,r):b(e,n)}}function y(t,n){t===n?S(t,h()):e(n)?v(t,n):b(t,n)}function m(e){e._onerror&&e._onerror(e._result),I(e)}function b(e,t){e._state===q&&(e._result=t,e._state=V,0===e._subscribers.length||U(I,e))}function S(e,t){e._state===q&&(e._state=X,e._result=t,U(m,e))}function w(e,t,n,r){var i=e._subscribers,o=i.length;e._onerror=null,i[o]=t,i[o+V]=n,i[o+X]=r,0===o&&e._state&&U(I,e)}function I(e){var t,n,r,i,o=e._subscribers,s=e._state;if(0!==o.length){for(r=e._result,i=0;i<o.length;i+=3)t=o[i],n=o[i+s],t?O(s,t,n,r):n(r);e._subscribers.length=0}}function E(){this.error=null}function A(e,t){try{return e(t)}catch(n){return k.error=n,k}}function O(e,n,r,i){var o,s,a,c,u=t(r);if(u){if(o=A(r,i),o===k?(c=!0,s=o.error,o=null):a=!0,n===o)return void S(n,l())}else o=i,a=!0;n._state!==q||(u&&a?y(n,o):c?S(n,s):e===V?b(n,o):e===X&&S(n,o))}function C(e,t){try{t(function(t){y(e,t)},function(t){S(e,t)})}catch(n){S(e,n)}}function _(e,t,n,r){this._instanceConstructor=e,this.promise=new e(u,r),this._abortOnReject=n,this._validateInput(t)?(this._input=t,this.length=t.length,this._remaining=t.length,this._init(),0===this.length?b(this.promise,this._result):(this.length=this.length||0,this._enumerate(),0===this._remaining&&b(this.promise,this._result))):S(this.promise,this._validationError())}function R(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function T(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function M(e,n){this._id=ee++,this._label=n,this._state=void 0,this._result=void 0,this._subscribers=[],u!==e&&(t(e)||R(),this instanceof M||T(),C(this,e))}var P,D,N,j,x,k,L,H,z,B;P=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},D=P,N=Date.now||function(){return(new Date).getTime()};var F=(Object.create||function(e){if(arguments.length>1)throw new Error("Second argument not supported");if("object"!=typeof e)throw new TypeError("Argument must be an object");return r.prototype=e,new r},0),U=function(e,t){j[F]=e,j[F+1]=t,F+=2,2===F&&x()},J="undefined"!=typeof window?window:{},K=J.MutationObserver||J.WebKitMutationObserver,W="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;j=new Array(1e3),x="undefined"!=typeof process&&"[object process]"==={}.toString.call(process)?i():K?o():W?s():a();var q=void 0,V=1,X=2,G=new E;k=new E,_.prototype._validateInput=function(e){return D(e)},_.prototype._validationError=function(){return new Error("Array Methods must be provided an Array")},_.prototype._init=function(){this._result=new Array(this.length)},L=_,_.prototype._enumerate=function(){for(var e=this.length,t=this.promise,n=this._input,r=0;t._state===q&&e>r;r++)this._eachEntry(n[r],r)},_.prototype._eachEntry=function(e,t){var r=this._instanceConstructor;n(e)?e.constructor===r&&e._state!==q?(e._onerror=null,this._settledAt(e._state,t,e._result)):this._willSettleAt(r.resolve(e),t):(this._remaining--,this._result[t]=this._makeResult(V,t,e))},_.prototype._settledAt=function(e,t,n){var r=this.promise;r._state===q&&(this._remaining--,this._abortOnReject&&e===X?S(r,n):this._result[t]=this._makeResult(e,t,n)),0===this._remaining&&b(r,this._result)},_.prototype._makeResult=function(e,t,n){return n},_.prototype._willSettleAt=function(e,t){var n=this;w(e,void 0,function(e){n._settledAt(V,t,e)},function(e){n._settledAt(X,t,e)})};var Z=function(e,t){return new L(this,e,!0,t).promise},Y=function(e,t){function n(e){y(a,e)}function r(e){S(a,e)}var i,o,s=this,a=new s(u,t);if(!D(e))return S(a,new TypeError("You must pass an array to race.")),a;for(i=e.length,o=0;a._state===q&&i>o;o++)w(s.resolve(e[o]),void 0,n,r);return a},Q=function(e,t){var n,r=this;return e&&"object"==typeof e&&e.constructor===r?e:(n=new r(u,t),y(n,e),n)},$=function(e,t){var n=this,r=new n(u,t);return S(r,e),r},ee=0;H=M,M.all=Z,M.race=Y,M.resolve=Q,M.reject=$,M.prototype={constructor:M,then:function(e,t,n){var r,i,o,s=this,a=s._state;return a===V&&!e||a===X&&!t?this:(s._onerror=null,r=new this.constructor(u,n),i=s._result,a?(o=arguments[a-1],U(function(){O(a,r,o,i)})):w(s,r,e,t),r)},"catch":function(e,t){return this.then(null,e,t)}},z=function(){var e,n;e="undefined"!=typeof global?global:"undefined"!=typeof window&&window.document?window:self,n="Promise"in e&&"resolve"in e.Promise&&"reject"in e.Promise&&"all"in e.Promise&&"race"in e.Promise&&function(){var n;return new e.Promise(function(e){n=e}),t(n)}(),n||(e.Promise=H)},B={Promise:H,polyfill:z},"function"==typeof define&&define.amd?define(function(){return B}):"undefined"!=typeof module&&module.exports?module.exports=B:"undefined"!=typeof this&&(this.ES6Promise=B),window.Promise=window.Promise||this.ES6Promise.Promise}.call(this),_httpRequest=new DefaultHttpRequest,_promiseFactory=new DefaultPromiseFactory,OidcClient.prototype.loadMetadataAsync=function(){log("OidcClient.loadMetadataAsync");var e=this._settings;return e.metadata?_promiseFactory.resolve(e.metadata):e.authority?getJson(e.authority).then(function(t){return e.metadata=t,t},function(e){return error("Failed to load metadata ("+e.message+")")}):error("No authority configured")},OidcClient.prototype.loadX509SigningKeyAsync=function(){function e(e){if(!e.keys||!e.keys.length)return error("Signing keys empty");var t=e.keys[0];return"RSA"!==t.kty?error("Signing key not RSA"):t.x5c&&t.x5c.length?_promiseFactory.resolve(t.x5c[0]):error("RSA keys empty")}log("OidcClient.loadX509SigningKeyAsync");var t=this._settings;return t.jwks?e(t.jwks):this.loadMetadataAsync().then(function(n){return n.jwks_uri?getJson(n.jwks_uri).then(function(n){return t.jwks=n,e(n)},function(e){return error("Failed to load signing keys ("+e.message+")")}):error("Metadata does not contain jwks_uri")})},OidcClient.prototype.loadUserProfile=function(e){return log("OidcClient.loadUserProfile"),this.loadMetadataAsync().then(function(t){return t.userinfo_endpoint?getJson(t.userinfo_endpoint,e):_promiseFactory.reject(Error("Metadata does not contain userinfo_endpoint"))})},OidcClient.prototype.loadAuthorizationEndpoint=function(){return log("OidcClient.loadAuthorizationEndpoint"),this._settings.authorization_endpoint?_promiseFactory.resolve(this._settings.authorization_endpoint):this._settings.authority?this.loadMetadataAsync().then(function(e){return e.authorization_endpoint?e.authorization_endpoint:error("Metadata does not contain authorization_endpoint")}):error("No authorization_endpoint configured")},OidcClient.prototype.createTokenRequestAsync=function(){log("OidcClient.createTokenRequestAsync");var e=this,t=e._settings;return e.loadAuthorizationEndpoint().then(function(n){var r=rand(),i=n+"?state="+encodeURIComponent(r);if(e.isOidc){var o=rand();i+="&nonce="+encodeURIComponent(o)}var s=["client_id","redirect_uri","response_type","scope"];s.forEach(function(e){var n=t[e];n&&(i+="&"+e+"="+encodeURIComponent(n))});var a=["prompt","display","max_age","ui_locales","id_token_hint","login_hint","acr_values"];a.forEach(function(e){var n=t[e];n&&(i+="&"+e+"="+encodeURIComponent(n))});var c={oidc:e.isOidc,oauth:e.isOAuth,state:r};return o&&(c.nonce=o),t.request_state_store.setItem(t.request_state_key,JSON.stringify(c)),{request_state:c,url:i}})},OidcClient.prototype.createLogoutRequestAsync=function(e){log("OidcClient.createLogoutRequestAsync");var t=this._settings;return this.loadMetadataAsync().then(function(n){if(!n.end_session_endpoint)return error("No end_session_endpoint in metadata");var r=n.end_session_endpoint;return e&&t.post_logout_redirect_uri&&(r+="?post_logout_redirect_uri="+encodeURIComponent(t.post_logout_redirect_uri),r+="&id_token_hint="+encodeURIComponent(e)),r})},OidcClient.prototype.validateIdTokenAsync=function(e,t,n){log("OidcClient.validateIdTokenAsync");var r=this,i=r._settings;return r.loadX509SigningKeyAsync().then(function(o){var s=new KJUR.jws.JWS;if(s.verifyJWSByPemX509Cert(e,o)){var a=JSON.parse(s.parsedJWS.payloadS);return t!==a.nonce?error("Invalid nonce"):r.loadMetadataAsync().then(function(e){if(a.iss!==e.issuer)return error("Invalid issuer");if(a.aud!==i.client_id)return error("Invalid audience");var t=parseInt(Date.now()/1e3),o=t-a.iat;return o>300?error("Token issued too long ago"):a.exp<t?error("Token expired"):n&&i.load_user_profile?r.loadUserProfile(n,a).then(function(e){return copy(e,a)}):a})}return error("JWT failed to validate")})},OidcClient.prototype.validateAccessTokenAsync=function(e,t){if(log("OidcClient.validateAccessTokenAsync"),!e.at_hash)return error("No at_hash in id_token");var n=KJUR.crypto.Util.sha256(t),r=n.substr(0,n.length/2),i=hextob64u(r);return i!==e.at_hash?error("at_hash failed to validate"):_promiseFactory.resolve()},OidcClient.prototype.validateIdTokenAndAccessTokenAsync=function(e,t,n){log("OidcClient.validateIdTokenAndAccessTokenAsync");var r=this;return r.validateIdTokenAsync(e,t,n).then(function(e){return r.validateAccessTokenAsync(e,n).then(function(){return e})})},OidcClient.prototype.processResponseAsync=function(e){log("OidcClient.processResponseAsync");var t=this,n=t._settings,r=n.request_state_store.getItem(n.request_state_key);if(n.request_state_store.removeItem(n.request_state_key),!r)return error("No request state loaded");if(r=JSON.parse(r),!r)return error("No request state loaded");if(!r.state)return error("No state loaded");var i=parseOidcResult(e);if(!i)return error("No OIDC response");if(i.error)return error(i.error);if(i.state!==r.state)return error("Invalid state");if(r.oidc){if(!i.id_token)return error("No identity token");if(!r.nonce)return error("No nonce loaded")}if(r.oauth){if(!i.access_token)return error("No access token");if("Bearer"!==i.token_type)return error("Invalid token type");if(!i.expires_in)return error("No token expiration")}var o=_promiseFactory.resolve();return r.oidc&&r.oauth?o=t.validateIdTokenAndAccessTokenAsync(i.id_token,r.nonce,i.access_token):r.oidc&&(o=t.validateIdTokenAsync(i.id_token,r.nonce)),o.then(function(e){if(e&&n.filter_protocol_claims){var t=["nonce","at_hash","iat","nbf","exp","aud","iss","idp"];t.forEach(function(t){delete e[t]})}return{profile:e,id_token:i.id_token,access_token:i.access_token,expires_in:i.expires_in,scope:i.scope,session_state:i.session_state}})};var _httpRequest=new DefaultHttpRequest,_promiseFactory=new DefaultPromiseFactory;Token.fromResponse=function(e){if(e.access_token){var t=parseInt(Date.now()/1e3);e.expires_at=t+parseInt(e.expires_in)}return new Token(e)},Token.fromJSON=function(e){if(e)try{var t=JSON.parse(e);return new Token(t)}catch(n){}return new Token(null)},Token.prototype.toJSON=function(){return JSON.stringify({profile:this.profile,id_token:this.id_token,access_token:this.access_token,expires_at:this.expires_at,scope:this.scopes.join(" "),session_state:this.session_state})},FrameLoader.prototype.loadAsync=function(e){return e=e||this.url,e?_promiseFactory.create(function(t,n){function r(){window.removeEventListener("message",o,!1),a&&window.clearTimeout(a),a=null,window.document.body.removeChild(s)}function i(e){r(),n()}function o(e){a&&e.origin===location.protocol+"//"+location.host&&e.source==s.contentWindow&&(r(),t(e.data))}var s=window.document.createElement("iframe");s.style.display="none",s.src=e;var a=window.setTimeout(i,5e3);window.addEventListener("message",o,!1),window.document.body.appendChild(s)}):_promiseFactory.reject("No url provided")},TokenManager.setPromiseFactory=function(e){_promiseFactory=e},TokenManager.setHttpRequest=function(e){if("object"!=typeof e||"function"!=typeof e.getJSON)throw Error("The provided value is not a valid http request.");_httpRequest=e},TokenManager.prototype._callTokenRemoved=function(){this._callbacks.tokenRemovedCallbacks.forEach(function(e){e()})},TokenManager.prototype._callTokenExpiring=function(){this._callbacks.tokenExpiringCallbacks.forEach(function(e){e()})},TokenManager.prototype._callTokenExpired=function(){this._callbacks.tokenExpiredCallbacks.forEach(function(e){e()})},TokenManager.prototype._callTokenObtained=function(){this._callbacks.tokenObtainedCallbacks.forEach(function(e){e()})},TokenManager.prototype._callSilentTokenRenewFailed=function(){this._callbacks.silentTokenRenewFailedCallbacks.forEach(function(e){e()})},TokenManager.prototype.saveToken=function(e){!e||e instanceof Token||(e=Token.fromResponse(e)),this._token=e,this._settings.persist&&!this.expired?this._settings.store.setItem(this._settings.persistKey,e.toJSON()):this._settings.store.removeItem(this._settings.persistKey),e?this._callTokenObtained():this._callTokenRemoved()},TokenManager.prototype.saveTokenAsync=function(e){var t=this._settings;t.persist=!1;var n=this;return new Promise(function(r,i){!e||e instanceof Token||(e=Token.fromResponse(e)),this._token=e,t.persist&&!this.expired?t.store.setItem(t.persistKey,e.toJSON()):t.store.removeItem(t.persistKey),e?(n._callTokenObtained(),r()):(n._callTokenRemoved(),r())})},TokenManager.prototype.addOnTokenRemoved=function(e){this._callbacks.tokenRemovedCallbacks.push(e)},TokenManager.prototype.addOnTokenObtained=function(e){this._callbacks.tokenObtainedCallbacks.push(e)},TokenManager.prototype.addOnTokenExpiring=function(e){this._callbacks.tokenExpiringCallbacks.push(e)},TokenManager.prototype.addOnTokenExpired=function(e){this._callbacks.tokenExpiredCallbacks.push(e)},TokenManager.prototype.addOnSilentTokenRenewFailed=function(e){this._callbacks.silentTokenRenewFailedCallbacks.push(e)},TokenManager.prototype.removeToken=function(){this.saveToken(null)},TokenManager.prototype.redirectForToken=function(){var e=this.oidcClient;e.createTokenRequestAsync().then(function(e){window.location=e.url},function(e){console.error("TokenManager.redirectForToken error: "+(e&&e.message||e||""))})},TokenManager.prototype.redirectForLogout=function(){var e=this;this.profile=null,e.oidcClient.createLogoutRequestAsync(e.id_token).then(function(t){window.location.replace(t),e.saveTokenAsync(null).then(function(){window.setTimeout(function(){window.location=t},2e3)})},function(e){console.error("TokenManager.redirectForLogout error: "+(e&&e.message||e||""))})},TokenManager.prototype.processTokenCallbackAsync=function(e){var t=this;return t.oidcClient.processResponseAsync(e).then(function(e){t.saveToken(e)})},TokenManager.prototype.renewTokenSilentAsync=function(){var e=this;if(!e._settings.silent_redirect_uri)return _promiseFactory.reject("silent_redirect_uri not configured");var t=copy(e._settings);t.redirect_uri=t.silent_redirect_uri,t.prompt="none";var n=new OidcClient(t);return n.createTokenRequestAsync().then(function(t){var r=new FrameLoader(t.url);return r.loadAsync().then(function(t){return n.processResponseAsync(t).then(function(t){e.saveToken(t)})})})},TokenManager.prototype.processTokenCallbackSilent=function(e){if(window.top&&window!==window.top){var e=e||window.location.hash;e&&window.top.postMessage(e,location.protocol+"//"+location.host);
}},window.OidcClient=OidcClient,window.OidcTokenManager=TokenManager}(),"undefined"==typeof WeakMap&&!function(){var e=Object.defineProperty,t=Date.now()%1e9,n=function(){this.name="__st"+(1e9*Math.random()>>>0)+(t++ +"__")};n.prototype={set:function(t,n){var r=t[this.name];return r&&r[0]===t?r[1]=n:e(t,this.name,{value:[t,n],writable:!0}),this},get:function(e){var t;return(t=e[this.name])&&t[0]===e?t[1]:void 0},"delete":function(e){var t=e[this.name];return t&&t[0]===e?(t[0]=t[1]=void 0,!0):!1},has:function(e){var t=e[this.name];return t?t[0]===e:!1}},window.WeakMap=n}(),function(e){function t(e){S.push(e),b||(b=!0,g(r))}function n(e){return window.ShadowDOMPolyfill&&window.ShadowDOMPolyfill.wrapIfNeeded(e)||e}function r(){b=!1;var e=S;S=[],e.sort(function(e,t){return e.uid_-t.uid_});var t=!1;e.forEach(function(e){var n=e.takeRecords();i(e),n.length&&(e.callback_(n,e),t=!0)}),t&&r()}function i(e){e.nodes_.forEach(function(t){var n=v.get(t);n&&n.forEach(function(t){t.observer===e&&t.removeTransientObservers()})})}function o(e,t){for(var n=e;n;n=n.parentNode){var r=v.get(n);if(r)for(var i=0;i<r.length;i++){var o=r[i],s=o.options;if(n===e||s.subtree){var a=t(s);a&&o.enqueue(a)}}}}function s(e){this.callback_=e,this.nodes_=[],this.records_=[],this.uid_=++w}function a(e,t){this.type=e,this.target=t,this.addedNodes=[],this.removedNodes=[],this.previousSibling=null,this.nextSibling=null,this.attributeName=null,this.attributeNamespace=null,this.oldValue=null}function c(e){var t=new a(e.type,e.target);return t.addedNodes=e.addedNodes.slice(),t.removedNodes=e.removedNodes.slice(),t.previousSibling=e.previousSibling,t.nextSibling=e.nextSibling,t.attributeName=e.attributeName,t.attributeNamespace=e.attributeNamespace,t.oldValue=e.oldValue,t}function u(e,t){return I=new a(e,t)}function h(e){return E?E:(E=c(I),E.oldValue=e,E)}function l(){I=E=void 0}function f(e){return e===E||e===I}function p(e,t){return e===t?e:E&&f(e)?E:null}function d(e,t,n){this.observer=e,this.target=t,this.options=n,this.transientObservedNodes=[]}if(!e.JsMutationObserver){var g,v=new WeakMap;if(/Trident|Edge/.test(navigator.userAgent))g=setTimeout;else if(window.setImmediate)g=window.setImmediate;else{var y=[],m=String(Math.random());window.addEventListener("message",function(e){if(e.data===m){var t=y;y=[],t.forEach(function(e){e()})}}),g=function(e){y.push(e),window.postMessage(m,"*")}}var b=!1,S=[],w=0;s.prototype={observe:function(e,t){if(e=n(e),!t.childList&&!t.attributes&&!t.characterData||t.attributeOldValue&&!t.attributes||t.attributeFilter&&t.attributeFilter.length&&!t.attributes||t.characterDataOldValue&&!t.characterData)throw new SyntaxError;var r=v.get(e);r||v.set(e,r=[]);for(var i,o=0;o<r.length;o++)if(r[o].observer===this){i=r[o],i.removeListeners(),i.options=t;break}i||(i=new d(this,e,t),r.push(i),this.nodes_.push(e)),i.addListeners()},disconnect:function(){this.nodes_.forEach(function(e){for(var t=v.get(e),n=0;n<t.length;n++){var r=t[n];if(r.observer===this){r.removeListeners(),t.splice(n,1);break}}},this),this.records_=[]},takeRecords:function(){var e=this.records_;return this.records_=[],e}};var I,E;d.prototype={enqueue:function(e){var n=this.observer.records_,r=n.length;if(n.length>0){var i=n[r-1],o=p(i,e);if(o)return void(n[r-1]=o)}else t(this.observer);n[r]=e},addListeners:function(){this.addListeners_(this.target)},addListeners_:function(e){var t=this.options;t.attributes&&e.addEventListener("DOMAttrModified",this,!0),t.characterData&&e.addEventListener("DOMCharacterDataModified",this,!0),t.childList&&e.addEventListener("DOMNodeInserted",this,!0),(t.childList||t.subtree)&&e.addEventListener("DOMNodeRemoved",this,!0)},removeListeners:function(){this.removeListeners_(this.target)},removeListeners_:function(e){var t=this.options;t.attributes&&e.removeEventListener("DOMAttrModified",this,!0),t.characterData&&e.removeEventListener("DOMCharacterDataModified",this,!0),t.childList&&e.removeEventListener("DOMNodeInserted",this,!0),(t.childList||t.subtree)&&e.removeEventListener("DOMNodeRemoved",this,!0)},addTransientObserver:function(e){if(e!==this.target){this.addListeners_(e),this.transientObservedNodes.push(e);var t=v.get(e);t||v.set(e,t=[]),t.push(this)}},removeTransientObservers:function(){var e=this.transientObservedNodes;this.transientObservedNodes=[],e.forEach(function(e){this.removeListeners_(e);for(var t=v.get(e),n=0;n<t.length;n++)if(t[n]===this){t.splice(n,1);break}},this)},handleEvent:function(e){switch(e.stopImmediatePropagation(),e.type){case"DOMAttrModified":var t=e.attrName,n=e.relatedNode.namespaceURI,r=e.target,i=new u("attributes",r);i.attributeName=t,i.attributeNamespace=n;var s=e.attrChange===MutationEvent.ADDITION?null:e.prevValue;o(r,function(e){return!e.attributes||e.attributeFilter&&e.attributeFilter.length&&-1===e.attributeFilter.indexOf(t)&&-1===e.attributeFilter.indexOf(n)?void 0:e.attributeOldValue?h(s):i});break;case"DOMCharacterDataModified":var r=e.target,i=u("characterData",r),s=e.prevValue;o(r,function(e){return e.characterData?e.characterDataOldValue?h(s):i:void 0});break;case"DOMNodeRemoved":this.addTransientObserver(e.target);case"DOMNodeInserted":var a,c,f=e.target;"DOMNodeInserted"===e.type?(a=[f],c=[]):(a=[],c=[f]);var p=f.previousSibling,d=f.nextSibling,i=u("childList",e.target.parentNode);i.addedNodes=a,i.removedNodes=c,i.previousSibling=p,i.nextSibling=d,o(e.relatedNode,function(e){return e.childList?i:void 0})}l()}},e.JsMutationObserver=s,e.MutationObserver||(e.MutationObserver=s,s._isPolyfilled=!0)}}(self),function(e){"use strict";if(!window.performance){var t=Date.now();window.performance={now:function(){return Date.now()-t}}}window.requestAnimationFrame||(window.requestAnimationFrame=function(){var e=window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame;return e?function(t){return e(function(){t(performance.now())})}:function(e){return window.setTimeout(e,1e3/60)}}()),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(){return window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||function(e){clearTimeout(e)}}());var n=function(){var e=document.createEvent("Event");return e.initEvent("foo",!0,!0),e.preventDefault(),e.defaultPrevented}();if(!n){var r=Event.prototype.preventDefault;Event.prototype.preventDefault=function(){this.cancelable&&(r.call(this),Object.defineProperty(this,"defaultPrevented",{get:function(){return!0},configurable:!0}))}}var i=/Trident/.test(navigator.userAgent);if((!window.CustomEvent||i&&"function"!=typeof window.CustomEvent)&&(window.CustomEvent=function(e,t){t=t||{};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,Boolean(t.bubbles),Boolean(t.cancelable),t.detail),n},window.CustomEvent.prototype=window.Event.prototype),!window.Event||i&&"function"!=typeof window.Event){var o=window.Event;window.Event=function(e,t){t=t||{};var n=document.createEvent("Event");return n.initEvent(e,Boolean(t.bubbles),Boolean(t.cancelable)),n},window.Event.prototype=o.prototype}}(window.WebComponents),window.CustomElements=window.CustomElements||{flags:{}},function(e){var t=e.flags,n=[],r=function(e){n.push(e)},i=function(){n.forEach(function(t){t(e)})};e.addModule=r,e.initializeModules=i,e.hasNative=Boolean(document.registerElement),e.isIE=/Trident/.test(navigator.userAgent),e.useNative=!t.register&&e.hasNative&&!window.ShadowDOMPolyfill&&(!window.HTMLImports||window.HTMLImports.useNative)}(window.CustomElements),window.CustomElements.addModule(function(e){function t(e,t){n(e,function(e){return t(e)?!0:void r(e,t)}),r(e,t)}function n(e,t,r){var i=e.firstElementChild;if(!i)for(i=e.firstChild;i&&i.nodeType!==Node.ELEMENT_NODE;)i=i.nextSibling;for(;i;)t(i,r)!==!0&&n(i,t,r),i=i.nextElementSibling;return null}function r(e,n){for(var r=e.shadowRoot;r;)t(r,n),r=r.olderShadowRoot}function i(e,t){o(e,t,[])}function o(e,t,n){if(e=window.wrap(e),!(n.indexOf(e)>=0)){n.push(e);for(var r,i=e.querySelectorAll("link[rel="+s+"]"),a=0,c=i.length;c>a&&(r=i[a]);a++)r["import"]&&o(r["import"],t,n);t(e)}}var s=window.HTMLImports?window.HTMLImports.IMPORT_LINK_TYPE:"none";e.forDocumentTree=i,e.forSubtree=t}),window.CustomElements.addModule(function(e){function t(e,t){return n(e,t)||r(e,t)}function n(t,n){return e.upgrade(t,n)?!0:void(n&&s(t))}function r(e,t){b(e,function(e){return n(e,t)?!0:void 0})}function i(e){E.push(e),I||(I=!0,setTimeout(o))}function o(){I=!1;for(var e,t=E,n=0,r=t.length;r>n&&(e=t[n]);n++)e();E=[]}function s(e){w?i(function(){a(e)}):a(e)}function a(e){e.__upgraded__&&!e.__attached&&(e.__attached=!0,e.attachedCallback&&e.attachedCallback())}function c(e){u(e),b(e,function(e){u(e)})}function u(e){w?i(function(){h(e)}):h(e)}function h(e){e.__upgraded__&&e.__attached&&(e.__attached=!1,e.detachedCallback&&e.detachedCallback())}function l(e){for(var t=e,n=window.wrap(document);t;){if(t==n)return!0;t=t.parentNode||t.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&t.host}}function f(e){if(e.shadowRoot&&!e.shadowRoot.__watched){m.dom&&console.log("watching shadow-root for: ",e.localName);for(var t=e.shadowRoot;t;)g(t),t=t.olderShadowRoot}}function p(e,n){if(m.dom){var r=n[0];if(r&&"childList"===r.type&&r.addedNodes&&r.addedNodes){for(var i=r.addedNodes[0];i&&i!==document&&!i.host;)i=i.parentNode;var o=i&&(i.URL||i._URL||i.host&&i.host.localName)||"";o=o.split("/?").shift().split("/").pop()}console.group("mutations (%d) [%s]",n.length,o||"")}var s=l(e);n.forEach(function(e){"childList"===e.type&&(A(e.addedNodes,function(e){e.localName&&t(e,s)}),A(e.removedNodes,function(e){e.localName&&c(e)}))}),m.dom&&console.groupEnd()}function d(e){for(e=window.wrap(e),e||(e=window.wrap(document));e.parentNode;)e=e.parentNode;var t=e.__observer;t&&(p(e,t.takeRecords()),o())}function g(e){if(!e.__observer){var t=new MutationObserver(p.bind(this,e));t.observe(e,{childList:!0,subtree:!0}),e.__observer=t}}function v(e){e=window.wrap(e),m.dom&&console.group("upgradeDocument: ",e.baseURI.split("/").pop());var n=e===window.wrap(document);t(e,n),g(e),m.dom&&console.groupEnd()}function y(e){S(e,v)}var m=e.flags,b=e.forSubtree,S=e.forDocumentTree,w=window.MutationObserver._isPolyfilled&&m["throttle-attached"];e.hasPolyfillMutations=w,e.hasThrottledAttached=w;var I=!1,E=[],A=Array.prototype.forEach.call.bind(Array.prototype.forEach),O=Element.prototype.createShadowRoot;O&&(Element.prototype.createShadowRoot=function(){var e=O.call(this);return window.CustomElements.watchShadow(this),e}),e.watchShadow=f,e.upgradeDocumentTree=y,e.upgradeDocument=v,e.upgradeSubtree=r,e.upgradeAll=t,e.attached=s,e.takeRecords=d}),window.CustomElements.addModule(function(e){function t(t,r){if("template"===t.localName&&window.HTMLTemplateElement&&HTMLTemplateElement.decorate&&HTMLTemplateElement.decorate(t),!t.__upgraded__&&t.nodeType===Node.ELEMENT_NODE){var i=t.getAttribute("is"),o=e.getRegisteredDefinition(t.localName)||e.getRegisteredDefinition(i);if(o&&(i&&o.tag==t.localName||!i&&!o["extends"]))return n(t,o,r)}}function n(t,n,i){return s.upgrade&&console.group("upgrade:",t.localName),n.is&&t.setAttribute("is",n.is),r(t,n),t.__upgraded__=!0,o(t),i&&e.attached(t),e.upgradeSubtree(t,i),s.upgrade&&console.groupEnd(),t}function r(e,t){Object.__proto__?e.__proto__=t.prototype:(i(e,t.prototype,t["native"]),e.__proto__=t.prototype)}function i(e,t,n){for(var r={},i=t;i!==n&&i!==HTMLElement.prototype;){for(var o,s=Object.getOwnPropertyNames(i),a=0;o=s[a];a++)r[o]||(Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(i,o)),r[o]=1);i=Object.getPrototypeOf(i)}}function o(e){e.createdCallback&&e.createdCallback()}var s=e.flags;e.upgrade=t,e.upgradeWithDefinition=n,e.implementPrototype=r}),window.CustomElements.addModule(function(e){function t(t,r){var c=r||{};if(!t)throw new Error("document.registerElement: first argument `name` must not be empty");if(t.indexOf("-")<0)throw new Error("document.registerElement: first argument ('name') must contain a dash ('-'). Argument provided was '"+String(t)+"'.");if(i(t))throw new Error("Failed to execute 'registerElement' on 'Document': Registration failed for type '"+String(t)+"'. The type name is invalid.");if(u(t))throw new Error("DuplicateDefinitionError: a type with name '"+String(t)+"' is already registered");return c.prototype||(c.prototype=Object.create(HTMLElement.prototype)),c.__name=t.toLowerCase(),c.lifecycle=c.lifecycle||{},c.ancestry=o(c["extends"]),s(c),a(c),n(c.prototype),h(c.__name,c),c.ctor=l(c),c.ctor.prototype=c.prototype,c.prototype.constructor=c.ctor,e.ready&&y(document),c.ctor}function n(e){if(!e.setAttribute._polyfilled){var t=e.setAttribute;e.setAttribute=function(e,n){r.call(this,e,n,t)};var n=e.removeAttribute;e.removeAttribute=function(e){r.call(this,e,null,n)},e.setAttribute._polyfilled=!0}}function r(e,t,n){e=e.toLowerCase();var r=this.getAttribute(e);n.apply(this,arguments);var i=this.getAttribute(e);this.attributeChangedCallback&&i!==r&&this.attributeChangedCallback(e,r,i)}function i(e){for(var t=0;t<I.length;t++)if(e===I[t])return!0}function o(e){var t=u(e);return t?o(t["extends"]).concat([t]):[]}function s(e){for(var t,n=e["extends"],r=0;t=e.ancestry[r];r++)n=t.is&&t.tag;e.tag=n||e.__name,n&&(e.is=e.__name)}function a(e){if(!Object.__proto__){var t=HTMLElement.prototype;if(e.is){var n=document.createElement(e.tag);t=Object.getPrototypeOf(n)}for(var r,i=e.prototype,o=!1;i;)i==t&&(o=!0),r=Object.getPrototypeOf(i),r&&(i.__proto__=r),i=r;o||console.warn(e.tag+" prototype not found in prototype chain for "+e.is),e["native"]=t}}function c(e){return b(O(e.tag),e)}function u(e){return e?E[e.toLowerCase()]:void 0}function h(e,t){E[e]=t}function l(e){return function(){return c(e)}}function f(e,t,n){return e===A?p(t,n):C(e,t)}function p(e,t){e&&(e=e.toLowerCase()),t&&(t=t.toLowerCase());var n=u(t||e);if(n){if(e==n.tag&&t==n.is)return new n.ctor;if(!t&&!n.is)return new n.ctor}var r;return t?(r=p(e),r.setAttribute("is",t),r):(r=O(e),e.indexOf("-")>=0&&S(r,HTMLElement),r)}function d(e,t){var n=e[t];e[t]=function(){var e=n.apply(this,arguments);return m(e),e}}var g,v=e.isIE,y=e.upgradeDocumentTree,m=e.upgradeAll,b=e.upgradeWithDefinition,S=e.implementPrototype,w=e.useNative,I=["annotation-xml","color-profile","font-face","font-face-src","font-face-uri","font-face-format","font-face-name","missing-glyph"],E={},A="http://www.w3.org/1999/xhtml",O=document.createElement.bind(document),C=document.createElementNS.bind(document);g=Object.__proto__||w?function(e,t){return e instanceof t}:function(e,t){if(e instanceof t)return!0;for(var n=e;n;){if(n===t.prototype)return!0;n=n.__proto__}return!1},d(Node.prototype,"cloneNode"),d(document,"importNode"),v&&!function(){var e=document.importNode;document.importNode=function(){var t=e.apply(document,arguments);if(t.nodeType==t.DOCUMENT_FRAGMENT_NODE){var n=document.createDocumentFragment();return n.appendChild(t),n}return t}}(),document.registerElement=t,document.createElement=p,document.createElementNS=f,e.registry=E,e["instanceof"]=g,e.reservedTagList=I,e.getRegisteredDefinition=u,document.register=document.registerElement}),function(e){function t(){o(window.wrap(document)),window.CustomElements.ready=!0;var e=window.requestAnimationFrame||function(e){setTimeout(e,16)};e(function(){setTimeout(function(){window.CustomElements.readyTime=Date.now(),window.HTMLImports&&(window.CustomElements.elapsed=window.CustomElements.readyTime-window.HTMLImports.readyTime),document.dispatchEvent(new CustomEvent("WebComponentsReady",{bubbles:!0}))})})}var n=e.useNative,r=e.initializeModules;if(e.isIE,n){var i=function(){};e.watchShadow=i,e.upgrade=i,e.upgradeAll=i,e.upgradeDocumentTree=i,e.upgradeSubtree=i,e.takeRecords=i,e["instanceof"]=function(e,t){return e instanceof t}}else r();var o=e.upgradeDocumentTree,s=e.upgradeDocument;if(window.wrap||(window.ShadowDOMPolyfill?(window.wrap=window.ShadowDOMPolyfill.wrapIfNeeded,window.unwrap=window.ShadowDOMPolyfill.unwrapIfNeeded):window.wrap=window.unwrap=function(e){return e}),window.HTMLImports&&(window.HTMLImports.__importsParsingHook=function(e){e["import"]&&s(wrap(e["import"]))}),"complete"===document.readyState||e.flags.eager)t();else if("interactive"!==document.readyState||window.attachEvent||window.HTMLImports&&!window.HTMLImports.ready){var a=window.HTMLImports&&!window.HTMLImports.ready?"HTMLImportsLoaded":"DOMContentLoaded";window.addEventListener(a,t)}else t()}(window.CustomElements),function(){function e(e){return void 0!==e}function t(){}function n(e){e.ka=function(){return e.Mb?e.Mb:e.Mb=new e}}function r(e){var t=typeof e;if("object"==t){if(!e)return"null";if(e instanceof Array)return"array";if(e instanceof Object)return t;var n=Object.prototype.toString.call(e);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof e.length&&"undefined"!=typeof e.splice&&"undefined"!=typeof e.propertyIsEnumerable&&!e.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||"undefined"!=typeof e.call&&"undefined"!=typeof e.propertyIsEnumerable&&!e.propertyIsEnumerable("call"))return"function"}else if("function"==t&&"undefined"==typeof e.call)return"object";return t}function i(e){return"array"==r(e)}function o(e){var t=r(e);return"array"==t||"object"==t&&"number"==typeof e.length}function s(e){return"string"==typeof e}function a(e){return"number"==typeof e}function c(e){return"function"==r(e)}function u(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function h(e){return e[Yr]||(e[Yr]=++Qr)}function l(e,t,n){return e.call.apply(e.bind,arguments)}function f(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function p(e,t,n){return p=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?l:f,p.apply(null,arguments)}function d(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function g(e,t){function n(){}n.prototype=t.prototype,e.o=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Hc=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function v(e){return v[" "](e),e}function y(e){if(Error.captureStackTrace)Error.captureStackTrace(this,y);else{var t=Error().stack;t&&(this.stack=t)}e&&(this.message=String(e))}function m(e){return ui.test(e)?(-1!=e.indexOf("&")&&(e=e.replace(ri,"&amp;")),-1!=e.indexOf("<")&&(e=e.replace(ii,"&lt;")),-1!=e.indexOf(">")&&(e=e.replace(oi,"&gt;")),-1!=e.indexOf('"')&&(e=e.replace(si,"&quot;")),-1!=e.indexOf("'")&&(e=e.replace(ai,"&#39;")),-1!=e.indexOf("\x00")&&(e=e.replace(ci,"&#0;")),e):e}function b(t,n,r){return t=e(r)?t.toFixed(r):String(t),r=t.indexOf("."),-1==r&&(r=t.length),hi("0",Math.max(0,n-r))+t}function S(e,t){return t>e?-1:e>t?1:0}function w(e){return String(e).replace(/\-([a-z])/g,function(e,t){return t.toUpperCase()})}function I(e){return String(e).replace(/([A-Z])/g,"-$1").toLowerCase()}function E(e){var t=s(void 0)?"undefined".replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08"):"\\s";return e.replace(new RegExp("(^"+(t?"|["+t+"]+":"")+")([a-z])","g"),function(e,t,n){return t+n.toUpperCase()})}function A(e){var t=1;e=e.split("|");for(var n=[];t>0&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join("|")),n}function O(e,t){return 0<=li(e,t)}function C(e){if(!i(e))for(var t=e.length-1;t>=0;t--)delete e[t];e.length=0}function _(e,t){var n,r=li(e,t);return(n=r>=0)&&Array.prototype.splice.call(e,r,1),n}function R(e){return Array.prototype.concat.apply(Array.prototype,arguments)}function T(e){var t=e.length;if(t>0){for(var n=Array(t),r=0;t>r;r++)n[r]=e[r];return n}return[]}function M(e,t,n,r){Array.prototype.splice.apply(e,P(arguments,1))}function P(e,t,n){return 2>=arguments.length?Array.prototype.slice.call(e,t):Array.prototype.slice.call(e,t,n)}function D(e){return-1!=ti.indexOf(e)}function N(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function j(e){var t,n=[],r=0;for(t in e)n[r++]=e[t];return n}function x(e){var t,n=[],r=0;for(t in e)n[r++]=t;return n}function k(e,t){return null!==e&&t in e}function L(e,t,n){if(null!==e&&t in e)throw Error('The object already contains the key "'+t+'"');e[t]=n}function H(e,t){return null!==e&&t in e?e[t]:void 0}function z(e){var t,n={};for(t in e)n[e[t]]=t;return n}function B(e,t){for(var n,r,i=1;i<arguments.length;i++){r=arguments[i];for(n in r)e[n]=r[n];for(var o=0;o<Si.length;o++)n=Si[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function F(e){var t=arguments.length;if(1==t&&i(arguments[0]))return F.apply(null,arguments[0]);if(t%2)throw Error("Uneven number of arguments");for(var n={},r=0;t>r;r+=2)n[arguments[r]]=arguments[r+1];return n}function U(){return(D("Chrome")||D("CriOS"))&&!D("Edge")}function J(){return D("iPhone")&&!D("iPod")&&!D("iPad")}function K(){var e=Zr.document;return e?e.documentMode:void 0}function W(e){var t;if(!(t=ji[e])){t=0;for(var n=ni(String(Mi)).split("."),r=ni(String(e)).split("."),i=Math.max(n.length,r.length),o=0;0==t&&i>o;o++){var s=n[o]||"",a=r[o]||"",c=RegExp("(\\d*)(\\D*)","g"),u=RegExp("(\\d*)(\\D*)","g");do{var h=c.exec(s)||["","",""],l=u.exec(a)||["","",""];if(0==h[0].length&&0==l[0].length)break;t=S(0==h[1].length?0:parseInt(h[1],10),0==l[1].length?0:parseInt(l[1],10))||S(0==h[2].length,0==l[2].length)||S(h[2],l[2])}while(0==t)}t=ji[e]=t>=0}return t}function q(){this.fb="",this.g=Bi,this.Fa=null}function V(e){return e instanceof q&&e.constructor===q&&e.g===Bi?e.fb:(r(e),"type_error:SafeHtml")}function X(e){if(e instanceof q)return e;var t=null;return e.zc&&(t=e.Fa),e=m(e.Ac?e.fb:String(e)),Z(e,t)}function G(e){function t(e){i(e)?pi(e,t):(e=X(e),r+=V(e),e=e.Fa,0==n?n=e:0!=e&&n!=e&&(n=null))}var n=0,r="";return pi(arguments,t),Z(r,n)}function Z(e,t){var n=new q;return n.fb=e,n.Fa=t,n}function Y(t,n){this.x=e(t)?t:0,this.y=e(n)?n:0}function Q(e){return e?new le(oe(e)):ei||(ei=new le)}function $(e,t){N(t,function(t,n){"style"==n?e.style.cssText=t:"class"==n?e.className=t:"for"==n?e.htmlFor=t:Ui.hasOwnProperty(n)?e.setAttribute(Ui[n],t):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?e.setAttribute(n,t):e[n]=t})}function ee(e,t,n){function r(n){n&&t.appendChild(s(n)?e.createTextNode(n):n)}for(var i=2;i<n.length;i++){var a=n[i];!o(a)||u(a)&&0<a.nodeType?r(a):pi(he(a)?T(a):a,r)}}function te(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function ne(t){if(e(t.firstElementChild))t=t.firstElementChild;else for(t=t.firstChild;t&&1!=t.nodeType;)t=t.nextSibling;return t}function re(e){return u(e)&&1==e.nodeType}function ie(e,t){if(!e||!t)return!1;if(e.contains&&1==t.nodeType)return e==t||e.contains(t);if("undefined"!=typeof e.compareDocumentPosition)return e==t||!!(16&e.compareDocumentPosition(t));for(;t&&e!=t;)t=t.parentNode;return t==e}function oe(e){return 9==e.nodeType?e:e.ownerDocument||e.document}function se(e,t){t?e.tabIndex=0:(e.tabIndex=-1,e.removeAttribute("tabIndex"))}function ae(e){return e=e.getAttributeNode("tabindex"),null!=e&&e.specified}function ce(e){return e=e.tabIndex,a(e)&&e>=0&&32768>e}function ue(e,t,n){if(!(e.nodeName in Ji))if(3==e.nodeType)n?t.push(String(e.nodeValue).replace(/(\r\n|\r|\n)/g,"")):t.push(e.nodeValue);else if(e.nodeName in Ki)t.push(Ki[e.nodeName]);else for(e=e.firstChild;e;)ue(e,t,n),e=e.nextSibling}function he(e){if(e&&"number"==typeof e.length){if(u(e))return"function"==typeof e.item||"string"==typeof e.item;if(c(e))return"function"==typeof e.item}return!1}function le(e){this.g=e||Zr.document||document}function fe(){0!=Wi&&(qi[h(this)]=this),this.S=this.S,this.O=this.O}function pe(t,n){t.S?n.call(void 0):(t.O||(t.O=[]),t.O.push(e(void 0)?p(n,void 0):n))}function de(e){e&&"function"==typeof e.ia&&e.ia()}function ge(e,t){this.type=e,this.h=this.target=t,this.defaultPrevented=this.j=!1,this.Tb=!0}function ve(e,t){if(ge.call(this,e?e.type:""),this.l=this.h=this.target=null,this.i=this.clientY=this.clientX=0,this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.v=!1,this.g=null,e){var n=this.type=e.type,r=e.changedTouches?e.changedTouches[0]:null;this.target=e.target||e.srcElement,this.h=t;var i=e.relatedTarget;if(i){if(Ai){var o;e:{try{v(i.nodeName),o=!0;break e}catch(s){}o=!1}o||(i=null)}}else"mouseover"==n?i=e.fromElement:"mouseout"==n&&(i=e.toElement);this.l=i,null===r?(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY):(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY),this.i=e.keyCode||0,this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.v=Ci?e.metaKey:e.ctrlKey,this.state=e.state,this.g=e,e.defaultPrevented&&this.preventDefault()}}function ye(e){return Vi?0==e.g.button:"click"==e.type?!0:!!(e.g.button&Zi[0])}function me(e,t,n,r,i){this.listener=e,this.g=null,this.src=t,this.type=n,this.Ca=!!r,this.ba=i,this.Eb=++Qi,this.qa=this.Ba=!1}function be(e){e.qa=!0,e.listener=null,e.g=null,e.src=null,e.ba=null}function Se(e){this.src=e,this.g={},this.h=0}function we(e,t,n,r,i){var o=t.toString();t=e.g[o],t||(t=e.g[o]=[],e.h++);var s=Ae(t,n,r,i);return s>-1?(e=t[s],e.Ba=!1):(e=new me(n,e.src,o,!!r,i),e.Ba=!1,t.push(e)),e}function Ie(e,t){var n=t.type;n in e.g&&_(e.g[n],t)&&(be(t),0==e.g[n].length&&(delete e.g[n],e.h--))}function Ee(e,t,n,r,i){return e=e.g[t.toString()],t=-1,e&&(t=Ae(e,n,r,i)),t>-1?e[t]:null}function Ae(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.qa&&o.listener==t&&o.Ca==!!n&&o.ba==r)return i}return-1}function Oe(e,t,n,r,o){if(i(t)){for(var s=0;s<t.length;s++)Oe(e,t[s],n,r,o);return null}if(n=je(n),e&&e[Yi])e=e.s(t,n,r,o);else{if(!t)throw Error("Invalid event type");var s=!!r,a=Ne(e);if(a||(e[$i]=a=new Se(e)),n=we(a,t,n,r,o),!n.g){if(r=Ce(),n.g=r,r.src=e,r.listener=n,e.addEventListener)e.addEventListener(t.toString(),r,s);else{if(!e.attachEvent)throw Error("addEventListener and attachEvent are unavailable.");e.attachEvent(Te(t.toString()),r)}to++}e=n}return e}function Ce(){var e=De,t=Xi?function(n){return e.call(t.src,t.listener,n)}:function(n){return n=e.call(t.src,t.listener,n),n?void 0:n};return t}function _e(e,t,n,r,o){if(i(t))for(var s=0;s<t.length;s++)_e(e,t[s],n,r,o);else n=je(n),e&&e[Yi]?e.I(t,n,r,o):e&&(e=Ne(e))&&(t=Ee(e,t,n,!!r,o))&&Re(t)}function Re(e){if(!a(e)&&e&&!e.qa){var t=e.src;if(t&&t[Yi])Ie(t.K,e);else{var n=e.type,r=e.g;t.removeEventListener?t.removeEventListener(n,r,e.Ca):t.detachEvent&&t.detachEvent(Te(n),r),to--,(n=Ne(t))?(Ie(n,e),0==n.h&&(n.src=null,t[$i]=null)):be(e)}}}function Te(e){return e in eo?eo[e]:eo[e]="on"+e}function Me(e,t,n,r){var i=!0;if((e=Ne(e))&&(t=e.g[t.toString()]))for(t=t.concat(),e=0;e<t.length;e++){var o=t[e];o&&o.Ca==n&&!o.qa&&(o=Pe(o,r),i=i&&!1!==o)}return i}function Pe(e,t){var n=e.listener,r=e.ba||e.src;return e.Ba&&Re(e),n.call(r,t)}function De(e,t){if(e.qa)return!0;if(!Xi){var n;if(!(n=t))e:{n=["window","event"];for(var r,i=Zr;r=n.shift();){if(null==i[r]){n=null;break e}i=i[r]}n=i}if(r=n,n=new ve(r,this),i=!0,!(0>r.keyCode||void 0!=r.returnValue)){e:{var o=!1;if(0==r.keyCode)try{r.keyCode=-1;break e}catch(s){o=!0}(o||void 0==r.returnValue)&&(r.returnValue=!0)}for(r=[],o=n.h;o;o=o.parentNode)r.push(o);for(var o=e.type,a=r.length-1;!n.j&&a>=0;a--){n.h=r[a];var c=Me(r[a],o,!0,n),i=i&&c}for(a=0;!n.j&&a<r.length;a++)n.h=r[a],c=Me(r[a],o,!1,n),i=i&&c}return i}return Pe(e,new ve(t,this))}function Ne(e){return e=e[$i],e instanceof Se?e:null}function je(e){return c(e)?e:(e[no]||(e[no]=function(t){return e.handleEvent(t)}),e[no])}function xe(e){fe.call(this),this.H=e,this.g={}}function ke(e,t,n){this.j=n,this.i=e,this.l=t,this.h=0,this.g=null}function Le(){this.h=this.g=null}function He(){this.next=this.h=this.g=null}function ze(){return!0}function Be(e){var t;return t=t||0,function(){return e.apply(this,Array.prototype.slice.call(arguments,0,t))}}function Fe(e){Zr.setTimeout(function(){throw e},0)}function Ue(e,t){var n=e;t&&(n=p(e,t)),!c(Zr.setImmediate)||Zr.Window&&Zr.Window.prototype&&!D("Edge")&&Zr.Window.prototype.setImmediate==Zr.setImmediate?(oo||(oo=Je()),oo(n)):Zr.setImmediate(n)}function Je(){var t=Zr.MessageChannel;if("undefined"==typeof t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!D("Presto")&&(t=function(){var e=document.createElement("IFRAME");e.style.display="none",e.src="",document.documentElement.appendChild(e);var t=e.contentWindow,e=t.document;e.open(),e.write(""),e.close();var n="callImmediate"+Math.random(),r="file:"==t.location.protocol?"*":t.location.protocol+"//"+t.location.host,e=p(function(e){"*"!=r&&e.origin!=r||e.data!=n||this.port1.onmessage()},this);t.addEventListener("message",e,!1),this.port1={},this.port2={postMessage:function(){t.postMessage(n,r)}}}),"undefined"!=typeof t&&!D("Trident")&&!D("MSIE")){var n=new t,r={},i=r;return n.port1.onmessage=function(){if(e(r.next)){r=r.next;var t=r.Cb;r.Cb=null,t()}},function(e){i.next={Cb:e},i=i.next,n.port2.postMessage(0)}}return"undefined"!=typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?function(e){var t=document.createElement("SCRIPT");t.onreadystatechange=function(){t.onreadystatechange=null,t.parentNode.removeChild(t),t=null,e(),e=null},document.documentElement.appendChild(t)}:function(e){Zr.setTimeout(e,0)}}function Ke(e,t){so||We(),ao||(so(),ao=!0);var n=co,r=io.get();r.set(e,t),n.h?n.h.next=r:n.g=r,n.h=r}function We(){if(Zr.Promise&&Zr.Promise.resolve){var e=Zr.Promise.resolve(void 0);so=function(){e.then(qe)}}else so=function(){Ue(qe)}}function qe(){for(var e;e=co.remove();){try{e.g.call(e.h)}catch(t){Fe(t)}io.put(e)}ao=!1}function Ve(e,n){if(this.g=uo,this.B=void 0,this.j=this.h=this.i=null,this.l=this.v=!1,e!=t)try{var r=this;e.call(n,function(e){$e(r,ho,e)},function(e){$e(r,lo,e)})}catch(i){$e(this,lo,i)}}function Xe(){this.next=this.i=this.h=this.j=this.g=null,this.l=!1}function Ge(e,t,n){var r=fo.get();return r.j=e,r.h=t,r.i=n,r}function Ze(e,t){if(e.g==uo)if(e.i){var n=e.i;if(n.h){for(var r=0,i=null,o=null,s=n.h;s&&(s.l||(r++,s.g==e&&(i=s),!(i&&r>1)));s=s.next)i||(o=s);i&&(n.g==uo&&1==r?Ze(n,t):(o?(r=o,r.next==n.j&&(n.j=r),r.next=r.next.next):nt(n),rt(n,i,lo,t)))}e.i=null}else $e(e,lo,t)}function Ye(e,t){e.h||e.g!=ho&&e.g!=lo||tt(e),e.j?e.j.next=t:e.h=t,e.j=t}function Qe(t,n,r,i){var o=Ge(null,null,null);return o.g=new Ve(function(t,s){o.j=n?function(e){try{var r=n.call(i,e);t(r)}catch(o){s(o)}}:t,o.h=r?function(n){try{var o=r.call(i,n);!e(o)&&n instanceof st?s(n):t(o)}catch(a){s(a)}}:s}),o.g.i=t,Ye(t,o),o.g}function $e(e,n,r){if(e.g==uo){e==r&&(n=lo,r=new TypeError("Promise cannot resolve to itself")),e.g=1;var i;e:{var o=r,s=e.L,a=e.F;if(o instanceof Ve)Ye(o,Ge(s||t,a||null,e)),i=!0;else{var h;if(o)try{h=!!o.$goog_Thenable}catch(l){h=!1}else h=!1;if(h)o.then(s,a,e),i=!0;else{if(u(o))try{var f=o.then;if(c(f)){et(o,f,s,a,e),i=!0;break e}}catch(l){a.call(e,l),i=!0;break e}i=!1}}}i||(e.B=r,e.g=n,e.i=null,tt(e),n!=lo||r instanceof st||ot(e,r))}}function et(e,t,n,r,i){function o(e){a||(a=!0,r.call(i,e))}function s(e){a||(a=!0,n.call(i,e))}var a=!1;try{t.call(e,s,o)}catch(c){o(c)}}function tt(e){e.v||(e.v=!0,Ke(e.K,e))}function nt(e){var t=null;return e.h&&(t=e.h,e.h=t.next,t.next=null),e.h||(e.j=null),t}function rt(e,t,n,r){if(n==lo&&t.h&&!t.l)for(;e&&e.l;e=e.i)e.l=!1;if(t.g)t.g.i=null,it(t,n,r);else try{t.l?t.j.call(t.i):it(t,n,r)}catch(i){po.call(null,i)}fo.put(t)}function it(e,t,n){t==ho?e.j.call(e.i,n):e.h&&e.h.call(e.i,n)}function ot(e,t){e.l=!0,Ke(function(){e.l&&po.call(null,t)})}function st(e){y.call(this,e)}function at(){}function ct(){}function ut(e){var t;e:{if(!e.g&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var n=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],r=0;r<n.length;r++){var i=n[r];try{new ActiveXObject(i),t=e.g=i;break e}catch(o){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed");
}t=e.g}return t?new ActiveXObject(t):new XMLHttpRequest}function ht(e){return lt(e).then(function(e){return e.responseText})}function lt(e){return new Ve(function(n,r){var i,o={},s=ut(o.Fc?o.Fc:go);try{s.open("GET",e,!0)}catch(a){r(new ft("Error opening XHR: "+a.message,e))}if(s.onreadystatechange=function(){if(4==s.readyState){Zr.clearTimeout(i);var t;e:switch(s.status){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:t=!0;break e;default:t=!1}!t&&(t=0===s.status)&&(t=e.match(vo)[1]||null,!t&&Zr.self&&Zr.self.location&&(t=Zr.self.location.protocol,t=t.substr(0,t.length-1)),t=t?t.toLowerCase():"",t=!("http"==t||"https"==t||""==t)),t?n(s):r(new pt(s.status,e))}},s.onerror=function(){r(new ft("Network error",e))},o.headers)for(var c in o.headers){var u=o.headers[c];null!=u&&s.setRequestHeader(c,u)}o.withCredentials&&(s.withCredentials=o.withCredentials),o.responseType&&(s.responseType=o.responseType),o.Bc&&s.overrideMimeType(o.Bc),0<o.Ec&&(i=Zr.setTimeout(function(){s.onreadystatechange=t,s.abort(),r(new dt(e))},o.Ec));try{s.send(null)}catch(a){s.onreadystatechange=t,Zr.clearTimeout(i),r(new ft("Error sending XHR: "+a.message,e))}})}function ft(e,t){y.call(this,e+", url="+t)}function pt(e,t){ft.call(this,"Request Failed, status="+e,t)}function dt(e){ft.call(this,"Request timed out",e)}function gt(e){if(e.w&&"function"==typeof e.w)e=e.w();else if(o(e)||s(e))e=e.length;else{var t,n=0;for(t in e)n++;e=n}return e}function vt(e){if(e.aa&&"function"==typeof e.aa)return e.aa();if(s(e))return e.split("");if(o(e)){for(var t=[],n=e.length,r=0;n>r;r++)t.push(e[r]);return t}return j(e)}function yt(e,t){if("function"==typeof e.every)return e.every(t,void 0);if(o(e)||s(e))return yi(e,t,void 0);var n;if(e.va&&"function"==typeof e.va)n=e.va();else if(e.aa&&"function"==typeof e.aa)n=void 0;else if(o(e)||s(e)){n=[];for(var r=e.length,i=0;r>i;i++)n.push(i)}else n=x(e);for(var r=vt(e),i=r.length,a=0;i>a;a++)if(!t.call(void 0,r[a],n&&n[a],e))return!1;return!0}function mt(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(n>1){if(n%2)throw Error("Uneven number of arguments");for(var r=0;n>r;r+=2)this.set(arguments[r],arguments[r+1])}else if(e){e instanceof mt?(n=e.va(),r=e.aa()):(n=x(e),r=j(e));for(var i=0;i<n.length;i++)this.set(n[i],r[i])}}function bt(e,t){return e===t}function St(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];wt(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){for(var i={},n=t=0;t<e.g.length;)r=e.g[t],wt(i,r)||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function wt(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function It(e){if(this.g=new mt,e){e=vt(e);for(var t=e.length,n=0;t>n;n++){var r=e[n];this.g.set(Et(r),r)}}}function Et(e){var t=typeof e;return"object"==t&&e||"function"==t?"o"+h(e):t.substr(0,1)+e}function At(e,t){var n=gt(t);return e.w()>n?!1:(!(t instanceof It)&&n>5&&(t=new It(t)),yt(e,function(e){var n=t;if(n.contains&&"function"==typeof n.contains)e=n.contains(e);else if(n.$a&&"function"==typeof n.$a)e=n.$a(e);else if(o(n)||s(n))e=O(n,e);else e:{for(var r in n)if(n[r]==e){e=!0;break e}e=!1}return e}))}function Ot(){throw Error("Do not instantiate directly")}function Ct(e){if(null!=e)switch(e.Da){case 1:return 1;case-1:return-1;case 0:return 0}return null}function _t(){Ot.call(this)}function Rt(e,t,n,r){this.left=e,this.top=t,this.width=n,this.height=r}function Tt(e){return e.classList?e.classList:(e=e.className,s(e)&&e.match(/\S+/g)||[])}function Mt(e,t){return e.classList?e.classList.contains(t):O(Tt(e),t)}function Pt(e,t){if(e.classList)pi(t,function(t){e.classList?e.classList.add(t):Mt(e,t)||(e.className+=0<e.className.length?" "+t:t)});else{var n={};pi(Tt(e),function(e){n[e]=!0}),pi(t,function(e){n[e]=!0}),e.className="";for(var r in n)e.className+=0<e.className.length?" "+r:r}}function Dt(e,t){e.classList?e.classList.remove(t):Mt(e,t)&&(e.className=di(Tt(e),function(e){return e!=t}).join(" "))}function Nt(e,t){e.classList?pi(t,function(t){Dt(e,t)}):e.className=di(Tt(e),function(e){return!O(t,e)}).join(" ")}function jt(e,t){if(!c(e))throw Error("Invalid component class "+e);if(!c(t))throw Error("Invalid renderer class "+t);var n=h(e);So[n]=t}function xt(e,t){if(!e)throw Error("Invalid class name "+e);if(!c(t))throw Error("Invalid decorator function "+t);wo[e]=t}function kt(e,t,n){fe.call(this),this.g=null,this.j=!1,this.l=e,this.H=n,this.h=t||window,this.i=p(this.v,this)}function Lt(e){Ht(e),e.j=!1;var t=zt(e),n=Bt(e);t&&!n&&e.h.mozRequestAnimationFrame?(e.g=Oe(e.h,"MozBeforePaint",e.i),e.h.mozRequestAnimationFrame(null),e.j=!0):e.g=t&&n?t.call(e.h,e.i):e.h.setTimeout(Be(e.i),20)}function Ht(e){if(null!=e.g){var t=zt(e),n=Bt(e);t&&!n&&e.h.mozRequestAnimationFrame?Re(e.g):t&&n?n.call(e.h,e.g):e.h.clearTimeout(e.g)}e.g=null}function zt(e){return e=e.h,e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.oRequestAnimationFrame||e.msRequestAnimationFrame||null}function Bt(e){return e=e.h,e.cancelAnimationFrame||e.cancelRequestAnimationFrame||e.webkitCancelRequestAnimationFrame||e.mozCancelRequestAnimationFrame||e.oCancelRequestAnimationFrame||e.msCancelRequestAnimationFrame||null}function Ft(){fe.call(this),this.K=new Se(this),this.nc=this,this.da=null}function Ut(e,t,n,r){if(t=e.K.g[String(t)],!t)return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var s=t[o];if(s&&!s.qa&&s.Ca==n){var a=s.listener,c=s.ba||s.src;s.Ba&&Ie(e.K,s),i=!1!==a.call(c,r)&&i}}return i&&0!=r.Tb}function Jt(e,t,n){var r=Io[n];if(!r){var i=w(n),r=i;void 0===e.style[i]&&(i=(Oi?"Webkit":Ai?"Moz":Ii?"ms":wi?"O":null)+E(i),void 0!==e.style[i]&&(r=i)),Io[n]=r}(n=r)&&(e.style[n]=t)}function Kt(e,t){var n=Ii||wi?e.getElementsByTagName("*"):null;if(Eo){var r=t?"none":"";if(e.style&&(e.style[Eo]=r),n)for(var i,o=0;i=n[o];o++)i.style&&(i.style[Eo]=r)}else if((Ii||wi)&&(r=t?"on":"",e.setAttribute("unselectable",r),n))for(o=0;i=n[o];o++)i.setAttribute("unselectable",r)}function Wt(){}function qt(e){Ft.call(this),this.ga=e||Q(),this.Ua=Ao,this.T=null,this.A=!1,this.m=null,this.L=void 0,this.h=this.i=this.J=this.la=null,this.Ab=!1}function Vt(e,t){switch(e){case 1:return t?"disable":"enable";case 2:return t?"highlight":"unhighlight";case 4:return t?"activate":"deactivate";case 8:return t?"select":"unselect";case 16:return t?"check":"uncheck";case 32:return t?"focus":"blur";case 64:return t?"open":"close"}throw Error("Invalid component state")}function Xt(e){return e.T||(e.T=":"+(e.oc.g++).toString(36))}function Gt(e,t){if(e.J&&e.J.h){var n=e.J.h,r=e.T;r in n&&delete n[r],L(e.J.h,t,e)}e.T=t}function Zt(e){return e.L||(e.L=new xe(e)),e.L}function Yt(e,t){if(e==t)throw Error("Unable to set parent component");var n;if(n=t&&e.J&&e.T){n=e.J;var r=e.T;n=n.h&&r?H(n.h,r)||null:null}if(n&&e.J!=t)throw Error("Unable to set parent component");e.J=t,qt.o.qb.call(e,t)}function Qt(e,t){if(e.A)throw Error("Component already rendered");if(!t||!e.Fb(t))throw Error("Invalid element to decorate");e.Ab=!0;var n=oe(t);e.ga&&e.ga.g==n||(e.ga=Q(t)),e.Ea(t),ie(n,t)&&e.fa()}function $t(e,t){e.i&&pi(e.i,t,void 0)}function en(e,t,n,r,i){if(!(Ii||Ei||Oi&&W("525")))return!0;if(Ci&&i)return tn(e);if(i&&!r)return!1;if(a(t)&&(t=nn(t)),!n&&(17==t||18==t||Ci&&91==t))return!1;if((Oi||Ei)&&r&&n)switch(e){case 220:case 219:case 221:case 192:case 186:case 189:case 187:case 188:case 190:case 191:case 192:case 222:return!1}if(Ii&&r&&t==e)return!1;switch(e){case 13:return!0;case 27:return!(Oi||Ei)}return tn(e)}function tn(e){if(e>=48&&57>=e||e>=96&&106>=e||e>=65&&90>=e||(Oi||Ei)&&0==e)return!0;switch(e){case 32:case 43:case 63:case 64:case 107:case 109:case 110:case 111:case 186:case 59:case 189:case 187:case 61:case 188:case 190:case 191:case 192:case 222:case 219:case 220:case 221:return!0;default:return!1}}function nn(e){if(Ai)e=rn(e);else if(Ci&&Oi)e:switch(e){case 93:e=91}return e}function rn(e){switch(e){case 61:return 187;case 59:return 186;case 173:return 189;case 224:return 91;case 0:return 224;default:return e}}function on(e,t){Ft.call(this),e&&sn(this,e,t)}function sn(e,t,n){e.Oa&&an(e),e.oa=t,e.Na=Oe(e.oa,"keypress",e,n),e.lb=Oe(e.oa,"keydown",e.wc,n,e),e.Oa=Oe(e.oa,"keyup",e.yc,n,e)}function an(e){e.Na&&(Re(e.Na),Re(e.lb),Re(e.Oa),e.Na=null,e.lb=null,e.Oa=null),e.oa=null,e.N=-1,e.ha=-1}function cn(e,t,n,r){ve.call(this,r),this.type="key",this.i=e,this.repeat=n}function un(e,t,n){i(n)&&(n=n.join(" "));var r="aria-"+t;""===n||void 0==n?(To||(To={atomic:!1,autocomplete:"none",dropeffect:"none",haspopup:!1,live:"off",multiline:!1,multiselectable:!1,orientation:"vertical",readonly:!1,relevant:"additions text",required:!1,sort:"none",busy:!1,disabled:!1,hidden:!1,invalid:"false"}),n=To,t in n?e.setAttribute(r,n[t]):e.removeAttribute(r)):e.setAttribute(r,n)}function hn(){}function ln(e,t,n){if(e=e.D?e.D():e){var r=[t];Ii&&!W("7")&&(r=yn(Tt(e),t),r.push(t)),(n?Pt:Nt)(e,r)}}function fn(e,t){e.$||un(t,"hidden",!e.$),e.isEnabled()||gn(t,1,!e.isEnabled()),8&e.P&&gn(t,8,!!(8&e.G)),16&e.P&&gn(t,16,!!(16&e.G)),64&e.P&&gn(t,64,!!(64&e.G))}function pn(e,t){var n;if(32&e.P&&(n=e.l.xa(e))){if(!t&&32&e.G){try{n.blur()}catch(r){}32&e.G&&e.Ib()}(ae(n)&&ce(n))!=t&&se(n,t)}}function dn(e,t){e.style.display=t?"":"none",e&&un(e,"hidden",!t)}function gn(e,t,n){Mo||(Mo={1:"disabled",8:"selected",16:"checked",64:"expanded"}),t=Mo[t];var r=e.getAttribute("role")||null;r&&(r=Po[r]||t,t="checked"==t||"selected"==t?r:t),t&&un(e,t,n)}function vn(e,t){var n=e.V(),r=[n],i=e.V();for(i!=n&&r.push(i),n=t.G,i=[];n;){var o=n&-n;i.push(e.Ha(o)),n&=~o}return r.push.apply(r,i),(n=t.eb)&&r.push.apply(r,n),Ii&&!W("7")&&r.push.apply(r,yn(r)),r}function yn(e,t){var n=[];return t&&(e=R(e,[t])),pi([],function(r){!yi(r,d(O,e))||t&&!O(r,t)||n.push(r.join("_"))}),n}function mn(e){var t=e.V();t.replace(/\xa0|\s/g," ").indexOf(" "),e.h={1:t+"-disabled",2:t+"-hover",4:t+"-active",8:t+"-selected",16:t+"-checked",32:t+"-focused",64:t+"-open"}}function bn(t,n,r){if(qt.call(this,r),!n){n=this.constructor;for(var i;n&&(i=h(n),!(i=So[i]));)n=n.o?n.o.constructor:null;n=i?c(i.ka)?i.ka():new i:null}this.l=n,this.ta=e(t)?t:null}function Sn(e,n){var r=Zt(e),i=e.D();n?(r.s(i,"mouseover",e.Lb).s(i,"mousedown",e.ib).s(i,"mouseup",e.kb).s(i,"mouseout",e.Kb),e.Ka!=t&&r.s(i,"contextmenu",e.Ka),Ii&&(W(9)||r.s(i,"dblclick",e.Jb),e.Z||(e.Z=new Tn(e),pe(e,d(de,e.Z))))):(r.I(i,"mouseover",e.Lb).I(i,"mousedown",e.ib).I(i,"mouseup",e.kb).I(i,"mouseout",e.Kb),e.Ka!=t&&r.I(i,"contextmenu",e.Ka),Ii&&(W(9)||r.I(i,"dblclick",e.Jb),de(e.Z),e.Z=null))}function wn(e,t){e.ta=t}function In(e,t){Cn(e,2,t)&&An(e,2,t)}function En(e,t){Cn(e,4,t)&&An(e,4,t)}function An(e,t,n,r){if(r||1!=t){if(e.P&t&&n!=!!(e.G&t)){var i=e.l;(r=e.D())&&((i=i.Ha(t))&&ln(e,i,n),gn(r,t,n)),e.G=n?e.G|t:e.G&~t}}else t=!n,n=e.J,n&&"function"==typeof n.isEnabled&&!n.isEnabled()||!Cn(e,1,!t)||(t||(En(e,!1),In(e,!1)),e.$&&pn(e,t),An(e,1,!t,!0))}function On(e,t){return!!(e.Za&t)&&!!(e.P&t)}function Cn(e,t,n){return!!(e.P&t)&&!!(e.G&t)!=n&&(!(e.rb&t)||e.dispatchEvent(Vt(t,n)))&&!e.S}function _n(e,t){return!!e.l&&ie(t,e.l)}function Rn(e,t){if(On(e,16)){var n=!(16&e.G);Cn(e,16,n)&&An(e,16,n)}return On(e,8)&&Cn(e,8,!0)&&An(e,8,!0),On(e,64)&&(n=!(64&e.G),Cn(e,64,n)&&An(e,64,n)),n=new ge("action",e),t&&(n.altKey=t.altKey,n.ctrlKey=t.ctrlKey,n.metaKey=t.metaKey,n.shiftKey=t.shiftKey,n.v=t.v),e.dispatchEvent(n)}function Tn(e){fe.call(this),this.h=e,this.g=!1,this.H=new xe(this),pe(this,d(de,this.H)),e=this.h.m,this.H.s(e,"mousedown",this.j).s(e,"mouseup",this.l).s(e,"click",this.i)}function Mn(e,t){if(!Do)return e.button=0,e.type=t,e;var n=document.createEvent("MouseEvents");return n.initMouseEvent(t,e.bubbles,e.cancelable,e.view||null,e.detail,e.screenX,e.screenY,e.clientX,e.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,0,e.relatedTarget||null),n}function Pn(e,t,n){fe.call(this),this.h=e,this.j=t||0,this.H=n,this.i=p(this.l,this)}function Dn(e){0!=e.g&&Zr.clearTimeout(e.g),e.g=0}function Nn(){fe.call(this),this.j=[],this.h=[],this.g={}}function jn(){fe.call(this),this.g=new Nn,pe(this,d(de,this.g))}function xn(){this.g={}}function kn(){this.i=[],this.ea=new xn}function Ln(e,t){if(!O(e.i,t)){var n=li(e.i,null);-1!=n?e.i[n]=t:e.i.push(t),pe(t,p(e.pa,e,t)),e.sb(t)}}function Hn(){kn.call(this),this.ma=Q(),this.j=this.h=null,this.B=[],this.Z=null,this.ba=new xe(this),this.Y=new kt(this.Dc,void 0,this),this.U=new Pn(this.tc,1650,this),this.l=new Jn,this.g=new Jn,this.la=new Jn,this.T=this.S=!1,this.O=this.F=0,this.da=this.L=!1,this.v=new Un,this.R=this.K=!1}function zn(e,t){t&&!e.K?(e.K=!0,e.ba.s(e.ma.g,["mousemove","mouseup"],e.Ma)):!t&&e.K&&(e.K=!1,e.ba.I(e.ma.g,["mousemove","mouseup"],e.Ma))}function Bn(e){return(e=e.touches.item(0))?e:null}function Fn(e,t){return e.j.dispatchEvent(new Kn(t,e.j))}function Un(){this.g=0}function Jn(){Y.call(this),this.g=0}function Kn(e,t){ge.call(this,e,t)}function Wn(){kn.call(this),this.g=null,this.h=new kt(this.l,void 0,this)}function qn(e){ge.call(this,"scroll",e)}function Vn(e,t){return Ko&&e.dataset?t in e.dataset?e.dataset[t]:null:e.getAttribute("data-"+I(t))}function Xn(e,t){return Ko&&e.dataset?t in e.dataset:e.hasAttribute?e.hasAttribute("data-"+I(t)):!!e.getAttribute("data-"+I(t))}function Gn(){this.h=[],this.g=[]}function Zn(e){return 0==e.h.length&&(e.h=e.g,e.h.reverse(),e.g=[]),e.h.pop()}function Yn(e,t){if(fe.call(this),this.l=e||0,this.i=t||10,this.l>this.i)throw Error(Wo);this.g=new Gn,this.h=new It,this.j=null,Qn(this)}function Qn(e){for(var t=e.g;e.w()<e.l;)t.g.push(e.bb());for(;e.w()>e.i&&0<e.g.w();)e.Ga(Zn(t))}function $n(){}function er(e){if("number"==typeof e){var t=new $n;t.i=e;var n;if(n=e,0==n)n="Etc/GMT";else{var r=["Etc/GMT",0>n?"-":"+"];n=Math.abs(n),r.push(Math.floor(n/60)%100),n%=60,0!=n&&r.push(":",b(n,2)),n=r.join("")}return t.j=n,n=e,0==n?n="UTC":(r=["UTC",0>n?"+":"-"],n=Math.abs(n),r.push(Math.floor(n/60)%100),n%=60,0!=n&&r.push(":",n),n=r.join("")),e=tr(e),t.l=[n,n],t.g={Gc:e,xb:e},t.h=[],t}return t=new $n,t.j=e.id,t.i=-e.std_offset,t.l=e.names,t.g=e.names_ext,t.h=e.transitions,t}function tr(e){var t=["GMT"];return t.push(0>=e?"+":"-"),e=Math.abs(e),t.push(b(Math.floor(e/60)%100,2),":",b(e%60,2)),t.join("")}function nr(e,t){for(var n=Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes())/36e5,r=0;r<e.h.length&&n>=e.h[r];)r+=2;return 0==r?0:e.h[r-1]}function rr(e){this.h=[],this.g=qo,"number"==typeof e?sr(this,e):or(this,e)}function ir(e){return e.getHours?e.getHours():0}function or(e,t){for(Xo&&(t=t.replace(/\u200f/g,""));t;)for(var n=0;n<Vo.length;++n){var r=t.match(Vo[n]);if(r){r=r[0],t=t.substring(r.length),0==n&&("''"==r?r="'":(r=r.substring(1,r.length-1),r=r.replace(/\'\'/,"'"))),e.h.push({text:r,type:n});break}}}function sr(e,t){var n;if(4>t)n=e.g.tb[t];else if(8>t)n=e.g.zb[t-4];else{if(!(12>t))return void sr(e,10);n=e.g.Wb[t-8],n=n.replace("{1}",e.g.tb[t-8]),n=n.replace("{0}",e.g.zb[t-8])}or(e,n)}function ar(e,t){var n;n=String(t);var r=e.g||qo;if(void 0!==r.qc){for(var i=[],o=0;o<n.length;o++){var s=n.charCodeAt(o);i.push(s>=48&&57>=s?String.fromCharCode(r.qc+s-48):n.charAt(o))}n=i.join("")}return n}function cr(e){if(!(e.getHours&&e.getSeconds&&e.getMinutes))throw Error("The date to format has no time (probably a goog.date.Date). Use Date or goog.date.DateTime, or use a pattern without time fields.")}function ur(t,n,r,i,o){var s=n.length;switch(n.charAt(0)){case"G":return r=0<i.getFullYear()?1:0,s>=4?t.g.Yb[r]:t.g.Zb[r];case"y":return r=i.getFullYear(),0>r&&(r=-r),2==s&&(r%=100),ar(t,b(r,s));case"M":e:switch(r=i.getMonth(),s){case 5:s=t.g.cc[r];break e;case 4:s=t.g.bc[r];break e;case 3:s=t.g.ec[r];break e;default:s=ar(t,b(r+1,s))}return s;case"k":return cr(o),ar(t,b(ir(o)||24,s));case"S":return ar(t,(o.getTime()%1e3/1e3).toFixed(Math.min(3,s)).substr(2)+(s>3?b(0,s-3):""));case"E":return r=i.getDay(),s>=4?t.g.pc[r]:t.g.gc[r];case"a":return cr(o),s=ir(o),t.g.Vb[s>=12&&24>s?1:0];case"h":return cr(o),ar(t,b(ir(o)%12||12,s));case"K":return cr(o),ar(t,b(ir(o)%12,s));case"H":return cr(o),ar(t,b(ir(o),s));case"c":e:switch(r=i.getDay(),s){case 5:s=t.g.jc[r];break e;case 4:s=t.g.mc[r];break e;case 3:s=t.g.lc[r];break e;default:s=ar(t,b(r,1))}return s;case"L":e:switch(r=i.getMonth(),s){case 5:s=t.g.ic[r];break e;case 4:s=t.g.hc[r];break e;case 3:s=t.g.kc[r];break e;default:s=ar(t,b(r+1,s))}return s;case"Q":return r=Math.floor(i.getMonth()/3),4>s?t.g.fc[r]:t.g.dc[r];case"d":return ar(t,b(i.getDate(),s));case"m":return cr(o),ar(t,b(o.getMinutes(),s));case"s":return cr(o),ar(t,b(o.getSeconds(),s));case"v":return s=er(r.getTimezoneOffset()),s.j;case"V":return t=er(r.getTimezoneOffset()),2>=s?t.j:0<nr(t,r)?e(t.g.Xb)?t.g.Xb:t.g.DST_GENERIC_LOCATION:e(t.g.xb)?t.g.xb:t.g.STD_GENERIC_LOCATION;case"w":return r=t.g.ac,o=new Date(o.getFullYear(),o.getMonth(),o.getDate()),n=t.g.$b||0,r=o.valueOf()+864e5*(((e(r)?r:3)-n+7)%7-((o.getDay()+6)%7-n+7)%7),ar(t,b(Math.floor(Math.round((r-new Date(new Date(r).getFullYear(),0,1).valueOf())/864e5)/7)+1,s));case"z":return t=er(r.getTimezoneOffset()),4>s?t.l[0<nr(t,r)?2:0]:t.l[0<nr(t,r)?3:1];case"Z":return o=er(r.getTimezoneOffset()),4>s?(s=-(o.i-nr(o,r)),t=[0>s?"-":"+"],s=Math.abs(s),t.push(b(Math.floor(s/60)%100,2),b(s%60,2)),s=t.join("")):s=ar(t,tr(o.i-nr(o,r))),s;default:return""}}function hr(e,t){e instanceof Date||(e=new Date(e));var n=-1;if(s(t)||(t="dd/MM/yyyy"),O(Zo,t)||(n=Zo.length,Zo.push(t),Go.push(new rr(t))),-1==n&&(n=li(Zo,t)),-1==n)throw Error("Internal error occurred.");var n=Go[n],r=e;if(!r)throw Error("The date to format must be non-null.");for(var i=[],o=0;o<n.h.length;++o){var a=n.h[o].text;1==n.h[o].type?i.push(ur(n,a,r,r,r)):i.push(a)}return i.join("")}function lr(e){var t;if(a(e))t=e;else if(t=+e,isNaN(t)){if(e=new Date(e),"Invalid Date"==e.toString())throw Error("Cannot parse the data as time");t=e.getTime()}return t}function fr(e){var t=Qo[e];return c(t)||(t=Zr["ngf"+e],c(t)||(t=null)),t}function pr(){this.W=[],this.Pa=0,this.Qa=[],this.na=[],this.Aa=[],this.za=[]}function dr(){Yn.call(this,1,200)}function gr(e){e=h(e).toString(),k(es,e)&&($o.pb(H(es,e)),es[e]=null)}function vr(e){var t=h(e).toString();if(!k(es,t)){var n=$o.gb();es[t]=n,e=e.querySelectorAll("[data-ng-model],[data-ng-show],[data-ng-hide]");var r=-1;pi(e,function(e){var t=Vn(e,w("ng-model"));if(null!=t||(t=Vn(e,w("ng-show"))),null!=t||(t=Vn(e,w("ng-hide"))),s(t)){var t=A(t),i=ni(t[0]);if(!/^[\s\xa0]*$/.test(i)){if(r++,n.W[r]=e,n.Qa[r]=i,t[1]&&0<t[1].length){var t=gi(t[1].split("|"),ni),o=[];pi(t,function(e){var t="",n="";if(-1!=e.indexOf("(")){var r=ts.exec(e);null===r?t=e:(t=r[1],n=r[2])}else t=e;null!==fr(t)&&o.push(function(e){var r=t,i=n;if(null===fr(r))throw Error("There is no filter registered with this name:"+r);return e=fr(r)(e,i)})}),n.na[r]=0==o.length?null:br(o)}else n.na[r]=null;n.Pa=r+1,n.Aa[r]=mr(e),n.za[r]=yr(e,n.Aa[r])}}})}}function yr(e,t){switch(t){case 0:return e.src;case 1:return"true";case 6:return"false";case 2:var n;return Hi&&null!==e&&"innerText"in e?n=e.innerText.replace(/(\r\n|\r|\n)/g,"\n"):(n=[],ue(e,n,!0),n=n.join("")),n=n.replace(/ \xAD /g," ").replace(/\xAD/g,""),n=n.replace(/\u200B/g,""),Hi||(n=n.replace(/ +/g," "))," "!=n&&(n=n.replace(/^\s*/,"")),n;case 3:return e.innerHTML;case 4:return e.getAttribute("fill");case 5:return e.getAttribute("color-stop");default:return""}}function mr(e){if(Xn(e,w("ng-show")))return 1;if(Xn(e,w("ng-hide")))return 6;if(Xn(e,w("ng-html")))return 3;var t=e.tagName.toUpperCase();return"STOP"==t?5:"IMG"==t?0:Xn(e,w("ng-prop"))&&"fill"==Vn(e,w("ng-prop"))?4:2}function br(e){return function(t){for(var n=0;n<e.length;n++)t=e[n](t);return t}}function Sr(){this.i=this.g=null}function wr(e){var t=e.V();e.g=F(128,t+"-narrow",os,t+"-transition",512,t+"-seamed",1024,t+"-scroll",2048,t+"-waterfall",4096,t+"-waterfall-tall",8192,t+"-cover",16384,t+"-standard",32768,t+"-shadow",65536,t+"-tall",131072,t+"-invalid",262144,t+"-empty",524288,t+"-invisible",1048576,t+"-raised",2097152,t+"-overlayed",4194304,t+"-tactile")}function Ir(e,t){var n=e.v,r=T(Tt(t));pi(r,function(e){e=parseInt(ns[e],10),n|=isNaN(e)?0:e}),_r(e,n)}function Er(e,t,n){if(bn.call(this,e,t,n),this.ea=null,this.v=0,this.Xa=this.wb=this.yb=!1,this.A&&0!=this.jb&&Sn(this,!1),this.jb=!1,this.A&&16777215&this.G)throw Error("Component already rendered");16777215&this.G&&An(this,16777215,!1),this.P&=-16777216,this.Za&=-16777216,this.rb&=-16777216,this.sa=!0,(e=this.D())&&Kt(e,!1)}function Ar(e){e.wb?Ln(Hn.ka(),e):Hn.ka().pa(e)}function Or(e){e.yb?Ln(Wn.ka(),e):Wn.ka().pa(e)}function Cr(e){1&e.v?Zt(e).s(e,No,e.Ra):Zt(e).I(e,No,e.Ra),2&e.v?Zt(e).s(e,jo,e.nb):Zt(e).I(e,jo,e.nb),4&e.v?Zt(e).s(e,xo,e.Sa):Zt(e).I(e,xo,e.Sa),64&e.v&&(Zt(e).s(e,No,e.Ra),Zt(e).s(e,jo,e.nb),Zt(e).s(e,xo,e.Sa),Zt(e).s(e,Ho,e.Cc)),128&e.v&&(Zt(e).s(e,No,e.Ra),Zt(e).s(e,xo,e.Sa)),8&e.v?Zt(e).s(e,Lo,e.Qb):Zt(e).I(e,Lo,e.Qb),16&e.v?Zt(e).s(e,ko,e.Ob):Zt(e).I(e,ko,e.Ob),32&e.v?Zt(e).s(e,"scroll",e.Pb):Zt(e).I(e,"scroll",e.Pb)}function _r(e,t){e.v=t,e.A&&Cr(e)}function Rr(e){if(null===e.ea){var t=e.ga.g;e.ea=new kt(e.Sb,t.parentWindow||t.defaultView,e),pe(e,d(de,e.ea))}return e.ea}function Tr(t){return new Ve(function(n,r){var i;i=e(void 0)?c(void 0)?void 0():void 0:new Image;var o=Ii&&11>Mi?"readystatechange":"load",s=new xe;s.s(i,[o,"abort","error"],function(e){("readystatechange"!=e.type||"complete"==i.readyState)&&(de(s),e.type==o?n(i):r(null))}),i.src=t})}function Mr(e){for(var t=null,n=0;n<e.length;n++)if("undefined"!=typeof fs.style[e[n]]){t=e[n];break}return t}function Pr(e,t,n){Er.call(this,e,t,n),this.g=new Y,this.F=new Y,this.j=1}function Dr(e,t,n){e.F.x=e.g.x*e.j+t,e.F.y=e.g.y*e.j+n,e.M().j(e.m,e.F,e.j)}function Nr(){Sr.call(this)}function jr(e,t,n){Pr.call(this,e,t,n),this.B=""}function xr(e,t){t!=e.B&&(e.B=t,null===e.D()||kr(e))}function kr(e){/^[\s\xa0]*$/.test(e.B)||Tr(e.B).then(function(e){var t=this.D();te(t.querySelector("img")),this.m.style.width=e.width+"px",this.m.style.height=e.height+"px",this.m.appendChild(e)},null,e)}function Lr(){Sr.call(this)}function Hr(e,t,n){Pr.call(this,e,t,n)}function zr(){Sr.call(this)}function Br(e,t,n){Er.call(this,e,t,n),this.ub=this.vb=0,this.j=[],this.F=[],this.ya=!1,this.R=1,this.Wa=this.Y=3e3,this.B=!1,this.Va=0,this.g=null,this.ma="",this.X=new Y,this.sa=!1,(e=this.D())&&Kt(e,!0)}function Fr(e,t){e.ma=t,null!==e.g&&(xr(e.g,e.ma),Kr(e,e.R))}function Ur(e,t){if(e.X=t,null!==e.g){var n=e.g,r=e.X.y;n.g.x=-e.X.x,n.g.y=-r,Kr(e,e.R)}}function Jr(e){e.j=T(e.M().querySelectorAll(e.m,"path")),e.ub=e.j.length,e.vb=vi(e.j,function(e,t){var n=Math.ceil(t.getTotalLength());return this.F.push(n),e+n},0,e),pi(e.j,e.sc,e)}function Kr(e,t){e.R=t;for(var n=t/1*e.vb,r=0,i=0;i<e.ub;i++){if(r+e.F[i]<=n)dn(e.j[i],!0),Xr(e.j[i],"0");else if(r+e.F[i]>n&&n>r){dn(e.j[i],!0);var o=e.j[i].getPointAtLength(n-r);Dr(e.g,o.x,o.y),Xr(e.j[i],(e.F[i]-(n-r)).toString())}else dn(e.j[i],!1),Xr(e.j[i],e.F[i].toString());r+=e.F[i]}if(null!==e.g&&(i=e.g,o=!(0>=t||t>=1),i.$!=o&&i.dispatchEvent(o?"show":"hide"))){var s=i.D();s&&dn(s,o),i.isEnabled()&&pn(i,o),i.$=o}return r>=n?!1:!0}function Wr(e,t){e.B!=t&&(t||(e.Y=e.Wa,e.dispatchEvent("q")),e.B=t)}function qr(){Sr.call(this)}function Vr(e){return e=e.getAttribute("viewBox").split(" ").map(function(e){return parseInt(e,10)}),new Rt(e[0],e[1],e[2],e[3])}function Xr(e,t){e.style.strokeDashoffset=t}var Gr,Zr=this,Yr="closure_uid_"+(1e9*Math.random()>>>0),Qr=0,$r=Date.now||function(){return+new Date};v[" "]=t,g(y,Error),y.prototype.name="CustomError";var ei,ti,ni=String.prototype.trim?function(e){return e.trim()}:function(e){return e.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},ri=/&/g,ii=/</g,oi=/>/g,si=/"/g,ai=/'/g,ci=/\x00/g,ui=/[\x00&<>"']/,hi=String.prototype.repeat?function(e,t){return e.repeat(t)}:function(e,t){return Array(t+1).join(e)},li=Array.prototype.indexOf?function(e,t,n){return Array.prototype.indexOf.call(e,t,n)}:function(e,t,n){if(n=null==n?0:0>n?Math.max(0,e.length+n):n,s(e))return s(t)&&1==t.length?e.indexOf(t,n):-1;for(;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},fi=Array.prototype.lastIndexOf?function(e,t,n){return Array.prototype.lastIndexOf.call(e,t,null==n?e.length-1:n)}:function(e,t,n){if(n=null==n?e.length-1:n,0>n&&(n=Math.max(0,e.length+n)),s(e))return s(t)&&1==t.length?e.lastIndexOf(t,n):-1;for(;n>=0;n--)if(n in e&&e[n]===t)return n;return-1},pi=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i=s(e)?e.split(""):e,o=0;r>o;o++)o in i&&t.call(n,i[o],o,e)},di=Array.prototype.filter?function(e,t,n){return Array.prototype.filter.call(e,t,n)}:function(e,t,n){for(var r=e.length,i=[],o=0,a=s(e)?e.split(""):e,c=0;r>c;c++)if(c in a){var u=a[c];t.call(n,u,c,e)&&(i[o++]=u)}return i},gi=Array.prototype.map?function(e,t,n){return Array.prototype.map.call(e,t,n)}:function(e,t,n){for(var r=e.length,i=Array(r),o=s(e)?e.split(""):e,a=0;r>a;a++)a in o&&(i[a]=t.call(n,o[a],a,e));return i},vi=Array.prototype.reduce?function(e,t,n,r){return r&&(t=p(t,r)),Array.prototype.reduce.call(e,t,n)}:function(e,t,n,r){var i=n;return pi(e,function(n,o){i=t.call(r,i,n,o,e)}),i},yi=Array.prototype.every?function(e,t,n){return Array.prototype.every.call(e,t,n)}:function(e,t,n){for(var r=e.length,i=s(e)?e.split(""):e,o=0;r>o;o++)if(o in i&&!t.call(n,i[o],o,e))return!1;return!0};e:{var mi=Zr.navigator;if(mi){var bi=mi.userAgent;if(bi){ti=bi;break e}}ti=""}var Si="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),wi=D("Opera"),Ii=D("Trident")||D("MSIE"),Ei=D("Edge"),Ai=D("Gecko")&&!(-1!=ti.toLowerCase().indexOf("webkit")&&!D("Edge"))&&!(D("Trident")||D("MSIE"))&&!D("Edge"),Oi=-1!=ti.toLowerCase().indexOf("webkit")&&!D("Edge");Oi&&D("Mobile");var Ci=D("Macintosh");D("Windows");var _i,Ri=D("Linux")||D("CrOS"),Ti=Zr.navigator||null;_i=!!Ti&&-1!=(Ti.appVersion||"").indexOf("X11"),D("Android"),J(),D("iPad"),D("iPod");var Mi;e:{var Pi="",Di=function(){var e=ti;return Ai?/rv\:([^\);]+)(\)|;)/.exec(e):Ei?/Edge\/([\d\.]+)/.exec(e):Ii?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Oi?/WebKit\/(\S+)/.exec(e):wi?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Di&&(Pi=Di?Di[1]:""),Ii){var Ni=K();if(null!=Ni&&Ni>parseFloat(Pi)){Mi=String(Ni);break e}}Mi=Pi}var ji={},xi=Zr.document,ki=xi&&Ii?K()||("CSS1Compat"==xi.compatMode?parseInt(Mi,10):5):void 0,Li=!Ii||9<=Number(ki);!Ai&&!Ii||Ii&&9<=Number(ki)||Ai&&W("1.9.1");var Hi=Ii&&!W("9"),zi=Ii||wi||Oi;q.prototype.zc=!0,q.prototype.Ac=!0;var Bi={};Z("<!DOCTYPE html>",0),Z("",0);var Fi=Z("<br>",0);Y.prototype.clone=function(){return new Y(this.x,this.y)},Y.prototype.ceil=function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},Y.prototype.floor=function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},Y.prototype.round=function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this};var Ui={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"},Ji={SCRIPT:1,STYLE:1,HEAD:1,IFRAME:1,OBJECT:1},Ki={IMG:" ",BR:"\n"};Gr=le.prototype,Gr.D=function(e){return s(e)?this.g.getElementById(e):e},Gr.uc=function(e,t,n){var r=this.g,o=arguments,a=o[0],c=o[1];if(!Li&&c&&(c.name||c.type)){if(a=["<",a],c.name&&a.push(' name="',m(c.name),'"'),c.type){a.push(' type="',m(c.type),'"');var u={};B(u,c),delete u.type,c=u}a.push(">"),a=a.join("")}return a=r.createElement(a),c&&(s(c)?a.className=c:i(c)?a.className=c.join(" "):$(a,c)),2<o.length&&ee(r,a,o),a},Gr.appendChild=function(e,t){e.appendChild(t)},Gr.isElement=re,Gr.contains=ie;var Wi=0,qi={};fe.prototype.S=!1,fe.prototype.ia=function(){if(!this.S&&(this.S=!0,this.C(),0!=Wi)){var e=h(this);delete qi[e]}},fe.prototype.C=function(){if(this.O)for(;this.O.length;)this.O.shift()()};var Vi=!Ii||9<=Number(ki),Xi=!Ii||9<=Number(ki),Gi=Ii&&!W("9");!Oi||W("528"),Ai&&W("1.9b")||Ii&&W("8")||wi&&W("9.5")||Oi&&W("528"),Ai&&!W("8")||Ii&&W("9"),ge.prototype.stopPropagation=function(){this.j=!0},ge.prototype.preventDefault=function(){this.defaultPrevented=!0,this.Tb=!1},g(ve,ge);var Zi=[1,4,2];ve.prototype.stopPropagation=function(){ve.o.stopPropagation.call(this),this.g.stopPropagation?this.g.stopPropagation():this.g.cancelBubble=!0},ve.prototype.preventDefault=function(){ve.o.preventDefault.call(this);var e=this.g;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,Gi)try{(e.ctrlKey||112<=e.keyCode&&123>=e.keyCode)&&(e.keyCode=-1)}catch(t){}};var Yi="closure_listenable_"+(1e6*Math.random()|0),Qi=0;Se.prototype.remove=function(e,t,n,r){if(e=e.toString(),!(e in this.g))return!1;var i=this.g[e];return t=Ae(i,t,n,r),t>-1?(be(i[t]),Array.prototype.splice.call(i,t,1),0==i.length&&(delete this.g[e],this.h--),!0):!1},Se.prototype.removeAll=function(e){e=e&&e.toString();var t,n=0;for(t in this.g)if(!e||t==e){for(var r=this.g[t],i=0;i<r.length;i++)++n,be(r[i]);delete this.g[t],this.h--}return n};var $i="closure_lm_"+(1e6*Math.random()|0),eo={},to=0,no="__closure_events_fn_"+(1e9*Math.random()>>>0);g(xe,fe);var ro=[];Gr=xe.prototype,Gr.s=function(e,t,n,r){i(t)||(t&&(ro[0]=t.toString()),t=ro);for(var o=0;o<t.length;o++){var s=Oe(e,t[o],n||this.handleEvent,r||!1,this.H||this);if(!s)break;this.g[s.Eb]=s}return this},Gr.I=function(e,t,n,r,o){if(i(t))for(var s=0;s<t.length;s++)this.I(e,t[s],n,r,o);else n=n||this.handleEvent,o=o||this.H||this,n=je(n),r=!!r,t=e&&e[Yi]?Ee(e.K,String(t),n,r,o):e&&(e=Ne(e))?Ee(e,t,n,r,o):null,t&&(Re(t),delete this.g[t.Eb]);return this},Gr.removeAll=function(){N(this.g,function(e,t){this.g.hasOwnProperty(t)&&Re(e)},this),this.g={}},Gr.C=function(){xe.o.C.call(this),this.removeAll()},Gr.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},ke.prototype.get=function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e},ke.prototype.put=function(e){this.l(e),this.h<this.j&&(this.h++,e.next=this.g,this.g=e)};var io=new ke(function(){return new He},function(e){e.reset()},100);Le.prototype.remove=function(){var e=null;return this.g&&(e=this.g,this.g=this.g.next,this.g||(this.h=null),e.next=null),e},He.prototype.set=function(e,t){this.g=e,this.h=t,this.next=null},He.prototype.reset=function(){this.next=this.h=this.g=null};var oo,so,ao=!1,co=new Le,uo=0,ho=2,lo=3;Xe.prototype.reset=function(){this.i=this.h=this.j=this.g=null,this.l=!1};var fo=new ke(function(){return new Xe},function(e){e.reset()},100);Ve.prototype.then=function(e,t,n){return Qe(this,c(e)?e:null,c(t)?t:null,n)},Ve.prototype.then=Ve.prototype.then,Ve.prototype.$goog_Thenable=!0,Ve.prototype.cancel=function(e){this.g==uo&&Ke(function(){var t=new st(e);Ze(this,t)},this)},Ve.prototype.L=function(e){this.g=uo,$e(this,ho,e)},Ve.prototype.F=function(e){this.g=uo,$e(this,lo,e)},Ve.prototype.K=function(){for(var e;e=nt(this);)rt(this,e,this.g,this.B);this.v=!1};var po=Fe;g(st,y),st.prototype.name="cancel";var go;g(ct,at),go=new ct;var vo=/^(?:([^:\/?#.]+):)?(?:\/\/(?:([^\/?#]*)@)?([^\/#?]*?)(?::([0-9]+))?(?=[\/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#(.*))?$/;g(ft,y),ft.prototype.name="XhrError",g(pt,ft),pt.prototype.name="XhrHttpError",g(dt,ft),dt.prototype.name="XhrTimeoutError",Gr=mt.prototype,Gr.w=function(){return this.i},Gr.aa=function(){St(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},Gr.va=function(){return St(this),this.g.concat()},Gr.$a=function(e){for(var t=0;t<this.g.length;t++){var n=this.g[t];if(wt(this.h,n)&&this.h[n]==e)return!0}return!1},Gr.equals=function(e,t){if(this===e)return!0;if(this.i!=e.w())return!1;var n=t||bt;St(this);for(var r,i=0;r=this.g[i];i++)if(!n(this.get(r),e.get(r)))return!1;return!0},Gr.ca=function(){return 0==this.i},Gr.clear=function(){this.h={},this.i=this.g.length=0},Gr.remove=function(e){return wt(this.h,e)?(delete this.h[e],this.i--,this.g.length>2*this.i&&St(this),!0):!1},Gr.get=function(e,t){return wt(this.h,e)?this.h[e]:t},Gr.set=function(e,t){wt(this.h,e)||(this.i++,
this.g.push(e)),this.h[e]=t},Gr.forEach=function(e,t){for(var n=this.va(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);e.call(t,o,i,this)}},Gr.clone=function(){return new mt(this)},Gr=It.prototype,Gr.w=function(){return this.g.w()},Gr.removeAll=function(e){e=vt(e);for(var t=e.length,n=0;t>n;n++)this.remove(e[n])},Gr.remove=function(e){return this.g.remove(Et(e))},Gr.clear=function(){this.g.clear()},Gr.ca=function(){return this.g.ca()},Gr.contains=function(e){return e=Et(e),wt(this.g.h,e)},Gr.aa=function(){return this.g.aa()},Gr.clone=function(){return new It(this)},Gr.equals=function(e){return this.w()==gt(e)&&At(this,e)},Ii&&W(8);var yo={},mo={};Ot.prototype.Da=null,Ot.prototype.ua=function(){return this.content},Ot.prototype.toString=function(){return this.content},g(_t,Ot),_t.prototype.ab=yo;var bo=function(e){function t(e){this.content=e}return t.prototype=e.prototype,function(e,n){var r=new t(String(e));return void 0!==n&&(r.Da=n),r}}(_t);!function(e){function t(e){this.content=e}return t.prototype=e.prototype,function(e,n){var r=String(e);return r?(r=new t(r),void 0!==n&&(r.Da=n),r):""}}(_t),Gr=Rt.prototype,Gr.clone=function(){return new Rt(this.left,this.top,this.width,this.height)},Gr.contains=function(e){return e instanceof Rt?this.left<=e.left&&this.left+this.width>=e.left+e.width&&this.top<=e.top&&this.top+this.height>=e.top+e.height:e.x>=this.left&&e.x<=this.left+this.width&&e.y>=this.top&&e.y<=this.top+this.height},Gr.ceil=function(){return this.left=Math.ceil(this.left),this.top=Math.ceil(this.top),this.width=Math.ceil(this.width),this.height=Math.ceil(this.height),this},Gr.floor=function(){return this.left=Math.floor(this.left),this.top=Math.floor(this.top),this.width=Math.floor(this.width),this.height=Math.floor(this.height),this},Gr.round=function(){return this.left=Math.round(this.left),this.top=Math.round(this.top),this.width=Math.round(this.width),this.height=Math.round(this.height),this};var So={},wo={};g(kt,fe),kt.prototype.v=function(){this.j&&this.g&&Re(this.g),this.g=null,this.l.call(this.H,$r())},kt.prototype.C=function(){Ht(this),kt.o.C.call(this)},g(Ft,fe),Ft.prototype[Yi]=!0,Gr=Ft.prototype,Gr.qb=function(e){this.da=e},Gr.removeEventListener=function(e,t,n,r){_e(this,e,t,n,r)},Gr.dispatchEvent=function(e){var t,n=this.da;if(n)for(t=[];n;n=n.da)t.push(n);var n=this.nc,r=e.type||e;if(s(e))e=new ge(e,n);else if(e instanceof ge)e.target=e.target||n;else{var i=e;e=new ge(r,n),B(e,i)}var o,i=!0;if(t)for(var a=t.length-1;!e.j&&a>=0;a--)o=e.h=t[a],i=Ut(o,r,!0,e)&&i;if(e.j||(o=e.h=n,i=Ut(o,r,!0,e)&&i,e.j||(i=Ut(o,r,!1,e)&&i)),t)for(a=0;!e.j&&a<t.length;a++)o=e.h=t[a],i=Ut(o,r,!1,e)&&i;return i},Gr.C=function(){Ft.o.C.call(this),this.K&&this.K.removeAll(void 0),this.da=null},Gr.s=function(e,t,n,r){return we(this.K,String(e),t,n,r)},Gr.I=function(e,t,n,r){return this.K.remove(String(e),t,n,r)};var Io={},Eo=Ai?"MozUserSelect":Oi||Ei?"WebkitUserSelect":null;n(Wt),Wt.prototype.g=0,g(qt,Ft),qt.prototype.oc=Wt.ka();var Ao=null;Gr=qt.prototype,Gr.D=function(){return this.m},Gr.qb=function(e){if(this.J&&this.J!=e)throw Error("Method not supported");qt.o.qb.call(this,e)},Gr.Ja=function(){this.m=this.ga.g.createElement("DIV")},Gr.Fb=function(){return!0},Gr.Ea=function(e){this.m=e},Gr.fa=function(){this.A=!0,$t(this,function(e){!e.A&&e.D()&&e.fa()})},Gr.ja=function(){$t(this,function(e){e.A&&e.ja()}),this.L&&this.L.removeAll(),this.A=!1},Gr.C=function(){this.A&&this.ja(),this.L&&(this.L.ia(),delete this.L),$t(this,function(e){e.ia()}),!this.Ab&&this.m&&te(this.m),this.J=this.la=this.m=this.h=this.i=null,qt.o.C.call(this)},Gr.Gb=function(){return this.m},Gr.removeChild=function(e,t){if(e){var n=s(e)?e:Xt(e);if(e=this.h&&n?H(this.h,n)||null:null,n&&e){var r=this.h;n in r&&delete r[n],_(this.i,e),t&&(e.ja(),e.m&&te(e.m)),Yt(e,null)}}if(!e)throw Error("Child is not in parent component");return e},g(on,Ft),Gr=on.prototype,Gr.oa=null,Gr.Na=null,Gr.lb=null,Gr.Oa=null,Gr.N=-1,Gr.ha=-1,Gr.Ya=!1;var Oo={3:13,12:144,63232:38,63233:40,63234:37,63235:39,63236:112,63237:113,63238:114,63239:115,63240:116,63241:117,63242:118,63243:119,63244:120,63245:121,63246:122,63247:123,63248:44,63272:46,63273:36,63275:35,63276:33,63277:34,63289:144,63302:45},Co={Up:38,Down:40,Left:37,Right:39,Enter:13,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,"U+007F":46,Home:36,End:35,PageUp:33,PageDown:34,Insert:45},_o=Ii||Ei||Oi&&W("525"),Ro=Ci&&Ai;Gr=on.prototype,Gr.wc=function(e){(Oi||Ei)&&(17==this.N&&!e.ctrlKey||18==this.N&&!e.altKey||Ci&&91==this.N&&!e.metaKey)&&(this.ha=this.N=-1),-1==this.N&&(e.ctrlKey&&17!=e.i?this.N=17:e.altKey&&18!=e.i?this.N=18:e.metaKey&&91!=e.i&&(this.N=91)),_o&&!en(e.i,this.N,e.shiftKey,e.ctrlKey,e.altKey)?this.handleEvent(e):(this.ha=nn(e.i),Ro&&(this.Ya=e.altKey))},Gr.yc=function(e){this.ha=this.N=-1,this.Ya=e.altKey},Gr.handleEvent=function(e){var t,n,r=e.g,i=r.altKey;Ii&&"keypress"==e.type?t=this.ha:(Oi||Ei)&&"keypress"==e.type?t=this.ha:wi&&!Oi?t=this.ha:(t=r.keyCode||this.ha,n=r.charCode||0,Ro&&(i=this.Ya),Ci&&63==n&&224==t&&(t=191)),n=t=nn(t);var o=r.keyIdentifier;t?t>=63232&&t in Oo?n=Oo[t]:25==t&&e.shiftKey&&(n=9):o&&o in Co&&(n=Co[o]),e=n==this.N,this.N=n,r=new cn(n,0,e,r),r.altKey=i,this.dispatchEvent(r)},Gr.D=function(){return this.oa},Gr.C=function(){on.o.C.call(this),an(this)},g(cn,ve);var To,Mo;n(hn);var Po={button:"pressed",checkbox:"checked",menuitem:"selected",menuitemcheckbox:"checked",menuitemradio:"checked",radio:"checked",tab:"selected",treeitem:"selected"};Gr=hn.prototype,Gr.Hb=function(e){return e.ga.uc("DIV",vn(this,e).join(" "),e.ua())},Gr.hb=function(e,t){t.id&&Gt(e,t.id),t&&t.firstChild?wn(e,t.firstChild.nextSibling?T(t.childNodes):t.firstChild):e.ta=null;var n=0,r=this.V(),i=this.V(),o=!1,s=!1,a=!1,c=T(Tt(t));pi(c,function(e){o||e!=r?s||e!=i?n|=this.Ia(e):s=!0:(o=!0,i==r&&(s=!0)),1==this.Ia(e)&&ae(t)&&ce(t)&&se(t,!1)},this),e.G=n,o||(c.push(r),i==r&&(s=!0)),s||c.push(i);var u=e.eb;if(u&&c.push.apply(c,u),Ii&&!W("7")){var h=yn(c);0<h.length&&(c.push.apply(c,h),a=!0)}return(!o||!s||u||a)&&(t.className=c.join(" ")),t},Gr.xa=function(e){return e.D()},Gr.V=function(){return"goog-control"},Gr.Ha=function(e){return this.h||mn(this),this.h[e]},Gr.Ia=function(e){return this.l||(this.h||mn(this),this.l=z(this.h)),e=parseInt(this.l[e],10),isNaN(e)?0:e},g(bn,qt),Gr=bn.prototype,Gr.ta=null,Gr.G=0,Gr.P=39,Gr.Za=255,Gr.rb=0,Gr.$=!0,Gr.eb=null,Gr.jb=!0,Gr.sa=!1,Gr.M=function(){return this.l},Gr.Ja=function(){var e=this.l.Hb(this);this.m=e,this.sa||Kt(e,!0),this.$||dn(e,!1)},Gr.Gb=function(){return this.D()},Gr.Fb=function(){return!0},Gr.Ea=function(e){this.m=e=this.l.hb(this,e),this.sa||Kt(e,!0),this.$="none"!=e.style.display},Gr.fa=function(){bn.o.fa.call(this),fn(this,this.m);var e=this.l;if(null==this.Ua){var t,n=this.A?this.m:this.ga.g.body;t=oe(n),t=t.defaultView&&t.defaultView.getComputedStyle&&(t=t.defaultView.getComputedStyle(n,null))?t.direction||t.getPropertyValue("direction")||"":"",this.Ua="rtl"==(t||(n.currentStyle?n.currentStyle.direction:null)||n.style&&n.style.direction)}this.Ua&&(n=this.D(),ln(n,e.V()+"-rtl",!0)),this.isEnabled()&&pn(this,this.$),-2&this.P&&(this.jb&&Sn(this,!0),32&this.P&&(e=this.l.xa(this)))&&(n=this.U||(this.U=new on),sn(n,e),Zt(this).s(n,"key",this.xc).s(e,"focus",this.vc).s(e,"blur",this.Ib))},Gr.ja=function(){bn.o.ja.call(this),this.U&&an(this.U),this.$&&this.isEnabled()&&pn(this,!1)},Gr.C=function(){bn.o.C.call(this),this.U&&(this.U.ia(),delete this.U),delete this.l,this.Z=this.eb=this.ta=null},Gr.ua=function(){return this.ta},Gr.isEnabled=function(){return!(1&this.G)},Gr.Lb=function(e){!_n(e,this.D())&&this.dispatchEvent("enter")&&this.isEnabled()&&On(this,2)&&In(this,!0)},Gr.Kb=function(e){!_n(e,this.D())&&this.dispatchEvent("leave")&&(On(this,4)&&En(this,!1),On(this,2)&&In(this,!1))},Gr.Ka=t,Gr.ib=function(e){if(this.isEnabled()&&(On(this,2)&&In(this,!0),ye(e)&&!(Oi&&Ci&&e.ctrlKey))){On(this,4)&&En(this,!0);var t;if(t=this.l){var n;t=32&this.P&&(n=this.l.xa(this))?ae(n)&&ce(n):!1}t&&this.l.xa(this).focus()}this.sa||!ye(e)||Oi&&Ci&&e.ctrlKey||e.preventDefault()},Gr.kb=function(e){this.isEnabled()&&(On(this,2)&&In(this,!0),4&this.G&&Rn(this,e)&&On(this,4)&&En(this,!1))},Gr.Jb=function(e){this.isEnabled()&&Rn(this,e)},Gr.vc=function(){On(this,32)&&Cn(this,32,!0)&&An(this,32,!0)},Gr.Ib=function(){On(this,4)&&En(this,!1),On(this,32)&&Cn(this,32,!1)&&An(this,32,!1)},Gr.xc=function(e){return this.$&&this.isEnabled()&&13==e.i&&Rn(this,e)?(e.preventDefault(),e.stopPropagation(),!0):!1},jt(bn,hn),xt("goog-control",function(){return new bn(null)}),g(Tn,fe);var Do=!Ii||9<=Number(ki);Tn.prototype.j=function(){this.g=!1},Tn.prototype.l=function(){this.g=!0},Tn.prototype.i=function(e){if(this.g)this.g=!1;else{var t=e.g,n=t.button,r=t.type,i=Mn(t,"mousedown");this.h.ib(new ve(i,e.h)),i=Mn(t,"mouseup"),this.h.kb(new ve(i,e.h)),Do||(t.button=n,t.type=r)}},Tn.prototype.C=function(){this.h=null,Tn.o.C.call(this)},g(Pn,fe),Pn.prototype.g=0,Pn.prototype.C=function(){Pn.o.C.call(this),Dn(this),delete this.h,delete this.H},Pn.prototype.l=function(){this.g=0,this.h&&this.h.call(this.H)},g(Nn,fe),Nn.prototype.i=function(e){var t=this.h[e];if(t){var n=this.g[t];n&&_(n,e),delete this.h[e],delete this.h[e+1],delete this.h[e+2]}return!!t},Nn.prototype.clear=function(e){if(e){var t=this.g[e];t&&(pi(t,this.i,this),delete this.g[e])}else this.h.length=0,this.g={}},Nn.prototype.w=function(e){if(e){var t=this.g[e];return t?t.length:0}e=0;for(t in this.g)e+=this.w(t);return e},Nn.prototype.C=function(){Nn.o.C.call(this),this.clear(),this.j.length=0},g(jn,fe),jn.prototype.i=function(e){return this.g.i(e)},jn.prototype.clear=function(t){this.g.clear(e(t)?t.toString():void 0)},jn.prototype.w=function(t){return this.g.w(e(t)?t.toString():void 0)},new jn,Gr=xn.prototype,Gr.set=function(e,t){this.g[e]=t},Gr.get=function(e){return k(this.g,e)?H(this.g,e):null},Gr.remove=function(e){if(k(this.g,e)){var t=this.g;e in t&&delete t[e]}},Gr.ca=function(){var e;e:{e=this.g;for(var t in e){e=!1;break e}e=!0}return e},Gr.every=function(e,t){var n;e:{n=this.g;for(var r in n)if(!e.call(t,n[r],r,n)){n=!1;break e}n=!0}return n},n(kn),Gr=kn.prototype,Gr.pa=function(e){O(this.i,e)&&(this.ea.remove(Xt(e)),this.i[li(this.i,e)]=null)},Gr.sb=function(){},Gr.forEach=function(e,t){pi(this.i,e,t)},Gr.indexOf=function(e){return li(this.i,e)},Gr.item=function(e){return e>-1&&e<this.i.length?this.i[e]:null},g(Hn,kn),Gr=Hn.prototype,Gr.sb=function(e){var t=e.m;this.B[this.indexOf(e)]=t,this.ba.s(t,["touchstart","touchmove","touchend","touchcancel","mousedown"],this.Ma)},Gr.pa=function(e){this.j==e&&(Ht(this.Y),this.j=this.h=null);var t=this.indexOf(e);-1!=t&&this.B[t]&&this.ba.I(this.B[t],["touchstart","touchmove","touchend","touchcancel","mousedown"],this.Ma),this.B[t]=null,Hn.o.pa.call(this,e)},Gr.Dc=function(){Fn(this,jo),this.la.copy(this.g)},Gr.Ma=function(t){t.stopPropagation();var n=$r();if("touchstart"==t.type||"mousedown"==t.type){this.O=this.F=0,this.L=this.L=this.T=this.S=!1,this.v.reset();var r;if(!(r=null!==this.h)){if(null!==this.h)throw Error("Agent already locked");this.h=t.h,null===this.h?r=!1:(this.j=this.item(li(this.B,this.h)),r=!0)}if(r){if("touchstart"==t.type){if(1!=t.g.touches.length)return void Dn(this.U);r=Bn(t.g);var i=this.l,o=r.pageY;i.x=r.pageX,i.y=o,i.g=n,this.Z=t.target}else"mousedown"==t.type&&(r=t.g,i=this.l,o=r.pageY,i.x=r.pageX,i.y=o,i.g=n,this.Z=t.target,zn(this,!0));if(this.g.copy(this.l),this.la.copy(this.l),n=this.U,Dn(n),r=n.i,i=e(void 0)?void 0:n.j,!c(r)){if(!r||"function"!=typeof r.handleEvent)throw Error("Invalid listener argument");r=p(r.handleEvent,r)}r=2147483647<Number(i)?-1:Zr.setTimeout(r,i||0),n.g=r,Fn(this,No)||(t.preventDefault(),this.R=!0)}}else if("touchmove"==t.type||"mousemove"==t.type){if(null!==this.h){if("mousemove"==t.type){if(!this.K)return;r=t.g,t=r.pageX;var i=r.pageY,o=Math.abs(this.g.x-t),s=Math.abs(this.g.y-i);this.L=t>this.g.x,this.da=i>this.g.y,this.S=this.F<o,this.T=this.O<s,this.F=o,this.O=s,r=this.g,r.x=t,r.y=i,r.g=n}else"touchmove"==t.type&&1==t.g.touches.length&&(this.R&&t.preventDefault(),r=Bn(t.g),t=r.pageX,i=r.pageY,o=Math.abs(this.g.x-t),s=Math.abs(this.g.y-i),this.L=t>this.g.x,this.da=i>this.g.y,this.S=this.F<o,this.T=this.O<s,this.F=o,this.O=s,t=this.g,i=r.pageY,t.x=r.pageX,t.y=i,t.g=n);Dn(this.U),null!=this.Y.g||Lt(this.Y)}}else if("touchend"==t.type||"mouseup"==t.type){if(null!==this.h){if(this.R=!1,"INPUT"!=this.Z.tagName.toUpperCase()&&t.preventDefault(),"touchend"==t.type){if(0!=t.g.touches.length)return;this.g.g=n}else"mouseup"==t.type&&(this.g.g=n,zn(this,!1));if(Ht(this.Y),Dn(this.U),Fn(this,xo),t=this.l,r=this.g,n=t.x-r.x,t=t.y-r.y,2>Math.sqrt(n*n+t*t)&&150>this.g.g-this.l.g&&Fn(this,Lo),this.S&&(this.L?(n=this.v,n.g|=Uo):(n=this.v,n.g|=Fo)),this.T&&(this.da?(n=this.v,n.g|=Bo):(n=this.v,n.g|=zo)),0!=this.v.g&&Fn(this,Ho),this.Z=null,null===this.h||this.h!=this.h)throw Error("Unlocking with wrong element");this.j=this.h=null}}else"touchcancel"==t.type&&(this.R=!1)},Gr.tc=function(){Fn(this,ko)},n(Hn);var No="b",jo="c",xo="d",ko="e",Lo="f",Ho="g",zo=1,Bo=2,Fo=4,Uo=8;Un.prototype.reset=function(){this.g=0},g(Jn,Y),Jn.prototype.copy=function(e){this.x=e.x,this.y=e.y,this.g=e.g},Jn.prototype.clone=function(){var e=new Jn;return e.copy(this),e},g(Kn,ge),g(Wn,kn),Wn.prototype.sb=function(e){this.ea.set(Xt(e),Oe(e.m,"scroll",p(this.j,this,e)))},Wn.prototype.pa=function(e){Re(this.ea.get(Xt(e))),e==this.g&&(Ht(this.h),this.g=null)},Wn.prototype.j=function(e){this.g=e,null!=this.h.g||Lt(this.h)},Wn.prototype.l=function(){this.g.dispatchEvent(new qn(this.g))},n(Wn),g(qn,ge),new Pn(function(){for(;0!=Jo.length;)pi(Jo,function(e){e.dispatchEvent("h"),_(Jo,e)})},200);var Jo=[];D("Firefox"),J()||D("iPod"),D("iPad"),!D("Android")||U()||D("Firefox")||D("Opera")||D("Silk"),U(),!D("Safari")||U()||D("Coast")||D("Opera")||D("Edge")||D("Silk")||D("Android")||J()||D("iPad")||D("iPod");var Ko=!Ii;Gr=Gn.prototype,Gr.w=function(){return this.h.length+this.g.length},Gr.ca=function(){return 0==this.h.length&&0==this.g.length},Gr.clear=function(){this.h=[],this.g=[]},Gr.contains=function(e){return O(this.h,e)||O(this.g,e)},Gr.remove=function(e){var t;t=this.h;var n=fi(t,e);return n>=0?(Array.prototype.splice.call(t,n,1),t=!0):t=!1,t||_(this.g,e)},Gr.aa=function(){for(var e=[],t=this.h.length-1;t>=0;--t)e.push(this.h[t]);for(var n=this.g.length,t=0;n>t;++t)e.push(this.g[t]);return e},g(Yn,fe);var Wo="[goog.structs.Pool] Min can not be greater than max";Gr=Yn.prototype,Gr.gb=function(){var e=$r();if(!(null!=this.j&&0>e-this.j)){for(var t;0<this.g.w()&&(t=Zn(this.g),!this.mb(t));)Qn(this);return!t&&this.w()<this.i&&(t=this.bb()),t&&(this.j=e,this.h.g.set(Et(t),t)),t}},Gr.pb=function(e){return this.h.remove(e)?(this.h.remove(e),this.mb(e)&&this.w()<this.i?this.g.g.push(e):this.Ga(e),!0):!1},Gr.bb=function(){return{}},Gr.Ga=function(e){if("function"==typeof e.ia)e.ia();else for(var t in e)e[t]=null},Gr.mb=function(e){return"function"==typeof e.rc?e.rc():!0},Gr.contains=function(e){return this.g.contains(e)||this.h.contains(e)},Gr.w=function(){return this.g.w()+this.h.w()},Gr.ca=function(){return this.g.ca()&&this.h.ca()},Gr.C=function(){if(Yn.o.C.call(this),0<this.h.w())throw Error("[goog.structs.Pool] Objects not released");delete this.h;for(var e=this.g;!e.ca();)this.Ga(Zn(e));delete this.g};var qo;qo={Zb:["BC","AD"],Yb:["Before Christ","Anno Domini"],cc:"JFMAMJJASOND".split(""),ic:"JFMAMJJASOND".split(""),bc:"January February March April May June July August September October November December".split(" "),hc:"January February March April May June July August September October November December".split(" "),ec:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),kc:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),pc:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),mc:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),gc:"Sun Mon Tue Wed Thu Fri Sat".split(" "),lc:"Sun Mon Tue Wed Thu Fri Sat".split(" "),g:"SMTWTFS".split(""),jc:"SMTWTFS".split(""),fc:["Q1","Q2","Q3","Q4"],dc:["1st quarter","2nd quarter","3rd quarter","4th quarter"],Vb:["AM","PM"],tb:["EEEE, MMMM d, y","MMMM d, y","MMM d, y","M/d/yy"],zb:["h:mm:ss a zzzz","h:mm:ss a z","h:mm:ss a","h:mm a"],Wb:["{1} 'at' {0}","{1} 'at' {0}","{1}, {0}","{1}, {0}"],$b:6,h:[5,6],ac:5};var Vo=[/^\'(?:[^\']|\'\')*\'/,/^(?:G+|y+|M+|k+|S+|E+|a+|h+|K+|H+|c+|L+|Q+|d+|m+|s+|v+|V+|w+|z+|Z+)/,/^[^\'GyMkSEahKHcLQdmsvVwzZ]+/],Xo=!1,Go=[],Zo=[],Yo=6e4*(new Date).getTimezoneOffset(),Qo={datetime:function(e,t){return hr(lr(e),t||"hh:mm")},timeoffset:function(e,t){var n=lr(e),n=1e3*n+Yo;return hr(n,t||"hh:mm")},append:function(e,t){return e.toString()+t},prepend:function(e,t){return t+e.toString()},price:function(e,t){var n=+t;return isNaN(n)&&(n=2),a(e)||(e=+e),isNaN(e)&&(e=0),(e/100).toFixed(n).toString()},money:function(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},pad:function(e,t){var n=parseInt(e,10);if(isNaN(n))return e.toString();var r=parseInt(t,10);return isNaN(r)&&(r=1),b(n,r,0)}};g(dr,Yn),Gr=dr.prototype,Gr.bb=function(){return new pr},Gr.mb=ze,Gr.Ga=function(e){C(e.Qa),C(e.na),C(e.za),C(e.Aa),e.W=null},Gr.pb=function(e){for(var t=0;t<e.Pa;t++)e.Qa[t]="",e.na[t]=[],e.za[t]="";return e.W=null,e.Pa=0,dr.o.pb.call(this,e)},Gr.gb=function(){var e=dr.o.gb.call(this);return e.W=[],e};var $o=new dr,es={},ts=/^([^\(]*)\((.*)\)$/,ns=z({1:"core-press",2:"core-move",4:"core-release",8:"core-tap",16:"core-longpress",32:"core-scroll",64:"core-swipe",128:"core-ripple"});!function(){var e=Vt;Vt=function(t,n){try{var r=e(t,n);if(r)return r}catch(i){switch(t){case os:return n?rs:is}}throw Error("Invalid component state")}}();var rs="l",is="m",os=256;g(Sr,hn),Gr=Sr.prototype,Gr.Ha=function(t){var n=Sr.o.Ha.call(this,t);return e(n)?n:(null===this.g&&wr(this),this.g[t])},Gr.Ia=function(e){var t=Sr.o.Ia.call(this,e);return 0==t&&(null===this.i&&(null===this.g&&wr(this),this.i=z(this.g)),t=parseInt(this.i[e],10)),isNaN(t)?0:t},Gr.Hb=function(e){var t=e.la,t=this.Db(this.wa(null!=t?{model:t.Ic()}:e.ua()?{content:e.ua()}:null));return Pt(t,vn(this,e)),fn(e,t),Ir(e,t),t},Gr.Db=function(e){if(e.ab===mo)e=X(e.toString());else{if(e.ab!==yo)throw Error("Sanitized content was not of kind TEXT or HTML.");e=Z(e.toString(),e.Da||null)}var t=e,n=document;if(e=n.createElement("DIV"),Ii?(t=G(Fi,t),e.innerHTML=V(t),e.removeChild(e.firstChild)):e.innerHTML=V(t),1==e.childNodes.length)e=e.removeChild(e.firstChild);else{for(n=n.createDocumentFragment();e.firstChild;)n.appendChild(e.firstChild);e=n}return e},Gr.wa=function(e){return e=e||{},e=(e=e.content)?null!=e&&e.ab===yo?e:e instanceof q?bo(V(e),e.Fa):bo(m(String(String(e))),Ct(e)):"",bo('<div is class="core-element">'+e+"</div>")},Gr.V=function(){return"core-element"},Gr.hb=function(e,t){return Sr.o.hb.call(this,e,t),Ir(e,t),t.hasAttribute("use-pointer")&&(e.wb=!0,e.A&&Ar(e)),t.hasAttribute("use-scroll")&&(e.yb=!0,e.A&&Or(e)),t},Gr.querySelectorAll=function(e,t){return e.querySelectorAll(t)},Gr.xa=function(){return null},n(Sr),g(Er,bn),Gr=Er.prototype,Gr.ja=function(){Er.o.ja.call(this),gr(this.m)},Gr.Ja=function(){Er.o.Ja.call(this),this.ra()},Gr.ra=function(){var e=T(this.querySelectorAll("[is]"));pi(e,function(t){t=T(t.querySelectorAll("[is]")),pi(t,function(t){_(e,t)})}),pi(e,function(e){var t;e:{var n;t=Tt(e);for(var r=0,i=t.length;i>r;r++)if(n=t[r],n=n in wo?wo[n]():null){t=n;break e}t=null}if(r=t,i=this.i?this.i.length:0,r.A&&!this.A)throw Error("Component already rendered");if(0>i||i>(this.i?this.i.length:0))throw Error("Child component index out of bounds");this.h&&this.i||(this.h={},this.i=[]),r.J==this?(n=Xt(r),this.h[n]=r,_(this.i,r)):L(this.h,Xt(r),r),Yt(r,this),M(this.i,i,0,r),r.A&&this.A&&r.J==this?(n=this.Gb(),i=n.childNodes[i]||null,i!=r.D()&&n.insertBefore(r.D(),i)):this.A&&!r.A&&r.m&&r.m.parentNode&&1==r.m.parentNode.nodeType&&r.fa(),Qt(t,e)},this)},Gr.Ea=function(e){Er.o.Ea.call(this,e),this.ra()},Gr.fa=function(){Er.o.fa.call(this),Ar(this),Or(this),Cr(this);var e=this.Xa;if(this.Xa=e,this.A&&(e?vr(this.m):gr(this.m)),this.Xa&&this.A&&this.A){var t=this.D(),e=this.la;if(t[Yr]&&k(es,h(t).toString()))for(var t=H(es,h(t).toString()),n=0;n<t.Pa;n++){var r,i=e;if(null==i)r=null;else{r=ni(t.Qa[n]).split(".");for(var o=r.length-1,s=0;o>=s;s++){if(null==i[r[s]]){i=null;break}i=i[r[s]]}r=i}if(null!==r&&(i=r.toString(),null===t.na[n]||(i=t.na[n](i)),t.za[n]!=i))switch(t.za[n]=i,t.Aa[n]){case 0:t.W[n].src=i;break;case 1:t.W[n].style.display=r?"":"none";break;case 3:t.W[n].innerHTML=i.toString();break;case 2:if(r=t.W[n],i=i.toString(),"textContent"in r)r.textContent=i;else if(3==r.nodeType)r.data=i;else if(r.firstChild&&3==r.firstChild.nodeType){for(;r.lastChild!=r.firstChild;)r.removeChild(r.lastChild);r.firstChild.data=i}else{for(o=r;s=o.firstChild;)o.removeChild(s);r.appendChild(oe(r).createTextNode(String(i)))}break;case 4:t.W[n].setAttribute("fill",i.toString());break;case 5:t.W[n].setAttribute("stop-color",i.toString());break;case 6:t.W[n].style.display=r?"none":""}}}},Gr.ca=function(){return!!(262144&this.G)},Gr.Ra=ze,Gr.nb=ze,Gr.Sa=ze,Gr.Cc=ze,Gr.Ob=ze,Gr.Qb=ze,Gr.Sb=ze,Gr.Pb=ze,Gr.querySelectorAll=function(e){return this.M().querySelectorAll(this.D(),e)},Gr.M=function(){return Er.o.M.call(this)},jt(Er,Sr),xt("core-element",function(){return new Er(null)});var ss,as={};e:{var cs,us=Zr;if(s("PSTJ.CSS"))if(e(as["PSTJ.CSS"])){if(!1===as["PSTJ.CSS"]){ss=!1;break e}us=as["PSTJ.CSS"]}else{cs=["PSTJ","CSS"];for(var hs=0;hs<cs.length;hs++)if(us=us[cs[hs]],null==us){ss=as["PSTJ.CSS"]=!1;break e}as["PSTJ.CSS"]=us}ss=null!=us.FORCE_2D?us.FORCE_2D:!1}var ls=ss,fs=document.createElement("div"),ps=["transform","msTransform","MozTransform","WebkitTransform","OTransform"],ds=Ai&&(Ri||_i)||ls?!1:null!=Mr(["perspective","perspectiveProperty","WebkitPerspective"])?!0:!1,gs=Mr(ps),vs=null===gs?!1:!0;li(ps,gs);var ys,ms="";vs&&(ms=ds?"translate3d(":"translate("),ys=ms;var bs,Ss="";vs&&(Ss=ds?", 0)":")"),bs=Ss,fs=null,g(Pr,Er),Pr.prototype.M=function(){return Pr.o.M.call(this)},g(Nr,Sr),Nr.prototype.j=function(){throw Error("Not Implemented!")},g(jr,Pr),jr.prototype.M=function(){return jr.o.M.call(this)},jr.prototype.ra=function(){var e=this.m;if(s("transform-origin"))Jt(e,"0 0","transform-origin");else for(var t in"transform-origin")Jt(e,"transform-origin"[t],t);this.m.style.position="absolute",this.m.style.top="0px",this.m.style.left="0px",kr(this)},g(Lr,Nr),Lr.prototype.wa=function(){return bo("<div></div>")},Lr.prototype.V=function(){return"raster-image"},Lr.prototype.j=function(e,t,n){var r=t.x;t=t.y,n="scale("+n+","+n+")";var i="px";s(i)||(i="px"),vs?e.style[gs]=ys+r+i+","+t+i+bs+(s(n)?n:""):(e.style.top=t+i,e.style.left=r+i)},jt(jr,Lr),g(Hr,Pr),Hr.prototype.M=function(){return Hr.o.M.call(this)},g(zr,Nr),zr.prototype.V=function(){return"overlay-scalar-image"},zr.prototype.wa=function(){return bo('<path class="cls-1" d="M284.14,510q-8.37,9.09-16.36,18.75l71.36,81h0c154.47,0,190.43-74.75,190.44-74.77L413.15,429.25q-7.14,1.5-14,3.52L364.46,396c-3.82.85-7.6,1.84-11.35,2.94l1-.31a156.14,156.14,0,0,1-17.68-21.5,210.51,210.51,0,0,1-14.2-24.08c-17.16-33.67-26.52-73-40-106.76-4.75-11.86-9.54-25.06-26-24.64-10.35.26-19,.78-29-0.32-4.17-2.82-8.36-5.7-12.4-8.94-11.35-9.09-20-18.38-32.72-26.07s-25.26-3.74-32.58,6.61c-13.49,19-25.21,37.08-36,58.66a12.15,12.15,0,0,0,2.65,7l-0.38-.48-2-.29c0-.15-4.69,2-8.05,3.47-2.65,1.2-2.65,2.19-.56,4.14l2.52,2.35a78,78,0,0,1-10.52,15.9c-5.56,6.56-14,12.15-14.77,21.26-0.82,10.29,7.17,16.22,12.75,21.57a854.35,854.35,0,0,0,76.23,65c16.92,12.67,39.18,19.42,56,31.69,13.2,9.63,23.8,21.81,32.87,34.65l0.32-.34a168.49,168.49,0,0,0-11.42,14.11C249.5,471.25,267,490.78,284.14,510Zm-54.51-92.72c-13.34-9.94-30.25-14.54-44.33-24.15-30.21-20.58-59.36-47.46-86.53-71.91-5-4.46-9.3-8.93-9.22-16.5,0.07-6.37,6.09-12.5,9.82-17.07,6.69-8.2,8.94-11.91,13.75-22.12a1.66,1.66,0,0,1,2.12-.88c7.76,2.43,11.29,8,15.42,15.8-2.09-1.28-4.49-2.35-9.69-2.77,3.09,2.53,23.81,18.95,22.15,24.77l-6.84.44c7.78,2.29,19,7,27,2,6.64-4.22,12.13-12.09,16.41-18.77l28.74,6a8.77,8.77,0,0,0-4.66,2.12,1.73,1.73,0,1,0,2.31,2.58c1.64-.74,3.28-1.51,5-1.2,7.12,1.25,16.58,3.45,25.76,5.58,7.56,1.75,14.93,3.46,20.71,4.58,5.33,1,10,2.07,12.35,2s3.4-1.08,3.82-2.32c10.68-.59,12.67-22.18,1.51-24.1l-90.56-13.18c-4-7.45-11.23-15.48-8.65-24.27-3.7,2.29-11.93-1.27-15.47-6.05-4-5.34-6.2-12-7.54-19.67,0,9.61.28,13.67,3.86,22-0.46.39-1,.93-1.47,1.26-6.86-1.66-10.12-4.18-16-8.58,3.64,5.37,6.78,9.44,12.66,12.26-4.73,3.67-8.72,8-14,10.62-7.1,3.49-17.13,4.25-19.21-4.4,10.06-20.14,22.69-40.25,36.55-57,6.82-8.26,14.33-8.63,23.33-3.45,11,6.34,23.49,16.75,33.56,25.7,11.49,10.21,26.51,16.42,39.52,24.56-5.21-5.93-11.25-10.55-17.54-14.92a104.81,104.81,0,0,0,18.63-.55c16.51-1.75,21.82,9.69,26.32,23.37,9.59,29.2,20.56,72.48,36.84,107.85,7.77,16.89,17,31.25,29.25,44.55l0.37-.12a208,208,0,0,0-79.34,50C254.85,438.6,242.5,426.85,229.63,417.26Zm-78.52-167c3-2.68,6-5.45,8.9-8a32.88,32.88,0,0,0,4,3.6v0a15.58,15.58,0,0,0,2,1.26c0.34,0.18.69,0.35,1,.5l0.28,0.11a13.14,13.14,0,0,0,3.95.91,40.62,40.62,0,0,0,.8,7l0,0a45.29,45.29,0,0,0,2.36,7.86h0c0.45,1.14,1,2.26,1.52,3.35L135.71,261l-0.11,0c0.71-.31,1.41-0.64,2.09-1a53.47,53.47,0,0,0,7.9-5.2h0C147.57,253.28,149.81,251.36,151.11,250.23Zm19.87,34c-3.61,6-7.23,12-10.76,18a16.4,16.4,0,0,0-8.63-.29,38.37,38.37,0,0,0-9.33-11.74l-3.6-3.08-2.4-2a59.67,59.67,0,0,0-3.8-9.15c0,0.06.07,0.12,0.1,0.19Z" transform="translate(-82.42 -182.3)"/><path class="cls-2" d="M345.41,401.39c-12.29-13.31-21.47-27.67-29.25-44.56-16.28-35.37-27.26-78.65-36.84-107.84-4.5-13.69-9.81-25.13-26.32-23.37a104.87,104.87,0,0,1-18.63.54c6.29,4.37,12.33,9,17.54,14.92-13-8.14-28-14.35-39.52-24.56-10.07-9-22.53-19.36-33.56-25.7-9-5.18-16.51-4.81-23.33,3.44-13.86,16.79-26.49,36.9-36.55,57,2.08,8.65,12.11,7.89,19.21,4.4,5.25-2.58,9.24-6.95,14-10.62-5.88-2.81-9-6.89-12.66-12.26,5.85,4.4,9.11,6.92,16,8.58,0.44-.34,1-0.87,1.47-1.26-3.58-8.36-3.86-12.42-3.86-22,1.34,7.63,3.59,14.33,7.54,19.67,3.53,4.78,11.76,8.33,15.47,6-2.58,8.79,4.61,16.82,8.65,24.27l90.56,13.18c11.15,1.92,9.17,23.51-1.51,24.1-0.42,1.24-1.34,2.23-3.82,2.32s-7-1-12.35-2c-5.78-1.12-13.16-2.83-20.72-4.58-9.18-2.13-18.64-4.33-25.75-5.58-1.78-.31-3.41.46-5.06,1.21a1.73,1.73,0,0,1-2.31-2.58,8.72,8.72,0,0,1,4.66-2.12l-28.74-6c-4.27,6.68-9.77,14.55-16.4,18.77-7.94,5.06-19.21.31-27-2l6.84-.44c1.66-5.82-19.06-22.24-22.15-24.77,5.19,0.42,7.6,1.49,9.69,2.77-4.13-7.81-7.66-13.38-15.42-15.8a1.65,1.65,0,0,0-2.12.88c-4.81,10.21-7.07,13.92-13.75,22.12-3.73,4.57-9.75,10.7-9.82,17.07-0.09,7.56,4.27,12,9.22,16.49,27.17,24.46,56.32,51.33,86.53,71.91,14.08,9.61,31,14.21,44.33,24.15,12.87,9.59,25.23,21.34,36.81,34A207.86,207.86,0,0,1,345.41,401.39Z" transform="translate(-82.42 -182.3)"/><path class="cls-2" d="M363.76,402.88c-43.81,9.73-83.91,38.83-105.4,68.69,0.25-.27,15.31,16.5,30.41,33.44,30.15-31.73,64.13-57.29,104.34-70.4Z" transform="translate(-82.42 -182.3)"/><path class="cls-2" d="M280.62,296.49c1-6.5-1.12-11.9-5.52-12.11a9.23,9.23,0,0,0-2.59,3.48C277.82,288.51,280,291.47,280.62,296.49Z" transform="translate(-82.42 -182.3)"/>')},zr.prototype.Db=function(){var e=Q().g.createElementNS("http://www.w3.org/2000/svg","g");return e.innerHTML=this.wa().ua(),e},zr.prototype.j=function(e,t,n){e.setAttribute("transform","translate("+t.x+","+t.y+") "+("scale("+n+", "+n+")"))},jt(Hr,zr),g(Br,Er),Gr=Br.prototype,Gr.M=function(){return Br.o.M.call(this)},Gr.ra=function(){Br.o.ra.call(this),Jr(this),this.g=new jr,xr(this.g,this.ma);var e,t=this.g;e=this.m;var n;if(!zi||Ii&&W("9")&&!W("10")&&Zr.SVGElement&&e instanceof Zr.SVGElement||!(n=e.parentElement)?(n=e.parentNode,e=re(n)?n:null):e=n,t.A)throw Error("Component already rendered");t.m||t.Ja(),e?e.insertBefore(t.m,null):t.ga.g.body.appendChild(t.m),t.J&&!t.J.A||t.fa(),pe(this,d(de,this.g)),t=Vr(this.m).width/1920,this.g.j=t,t=this.g,e=this.X.y,t.g.x=-this.X.x,t.g.y=-e,Dr(this.g,0,0),Kr(this,this.R)},Gr.sc=function(e,t){e.style.strokeDasharray=this.F[t]+" "+this.F[t]},Gr.play=function(){this.B||(Wr(this,!0),Kr(this,0),this.Va=$r(),Lt(Rr(this)),this.dispatchEvent("n"))},Gr.pause=function(){this.B&&(this.B=!1,Ht(Rr(this)),this.dispatchEvent("o"))},Gr.Sb=function(e){Lt(Rr(this)),Kr(this,(e-this.Va)/this.Y)&&(Ht(Rr(this)),Wr(this,!1),this.ya&&Ue(this.play,this))},g(qr,Sr),qr.prototype.V=function(){return"svg-playable"},qr.prototype.wa=function(){return bo('<svg class="rotate" x="0px" y="0px" width="100px" height="100px" viewBox="0 0 100 100" enable-background="new 0 0 100 100" xml:space="preserve"></svg>')},jt(Br,qr),xt("svg-playable",function(){return new Br});var ws=Object.create(HTMLElement.prototype);ws.createdCallback=function(){this.u=null,this.ya=!1,this.ob=1,this.cb=3e3,this.Ta="",this.X=new Y,this.H=null},ws.detachedCallback=function(){null!==this.H&&(this.H.removeAll(),de(this.H),this.H=null)},ws.attachedCallback=function(){this.H=new xe(this),this.hasAttribute("repeat")&&"false"!=this.getAttribute("repeat")&&(this.ya=!0);var e=this.getAttribute("progress");null!=e&&(e=parseFloat(e),!isNaN(e)&&e>=0&&1>=e&&(this.ob=e)),e=this.getAttribute("duration"),null!=e&&(e=parseInt(e,10),isNaN(e)||(this.cb=e)),e=this.getAttribute("overlay"),null!==e&&(this.Ta=e),e=this.getAttribute("offset"),null!==e&&(this.X=this.Rb(e)),e=ne(this),null!==e&&"SVG"==e.tagName.toUpperCase()?this.Ub(e):this.hasAttribute("src")&&(e=this.getAttribute("src"),this.Nb(e))},ws.Ub=function(e){null!==this.u&&(this.H.removeAll(),de(this.u)),this.u=new Br,Fr(this.u,this.Ta),Ur(this.u,this.X),this.u.ya=this.ya,Kr(this.u,this.ob);var t=this.u,n=this.cb;t.Wa=n,t.B||(t.Y=n),Qt(this.u,e),this.H.s(this.u,"n",this.La).s(this.u,"o",this.La).s(this.u,"p",this.La).s(this.u,"q",this.La)},ws.La=function(e){var t="";switch(e.type){case"n":t="animation-start";break;case"o":t="animation-pause";break;case"p":t="animation-resume";break;case"q":t="animation-finish"}this.dispatchEvent(new CustomEvent(t,{bubbles:!0}))},ws.attributeChangedCallback=function(e,t,n){"src"==e?t!=n&&(null!==this.u&&(de(this.u),this.u=new Br,te(ne(this))),this.Nb(n)):"progress"==e?(e=parseFloat(n),isNaN(e)||(this.ob=e,null===this.u||Kr(this.u,e))):"duration"==e?(e=parseInt(n,10),isNaN(e)||(this.cb=e,null!==this.u&&(t=this.u,t.Wa=e,t.B||(t.Y=e)))):"overlay"==e?(this.Ta=n,null===this.u||Fr(this.u,this.Ta||"")):"offset"==e&&(null===n?this.X=new Y:this.X=this.Rb(n),null===this.u||Ur(this.u,this.X))},ws.Rb=function(e){var t=e.split("x");return e=parseInt(t[0],10),t=parseInt(t[1],10),isNaN(e)&&(e=0),isNaN(t)&&(t=0),new Y(e,t)},ws.play=function(){null===this.u||this.u.play()},ws.pause=function(){null===this.u||this.u.pause()},ws.resume=function(){if(null!==this.u){var e=this.u;e.B||(1<=e.R?e.play():(e.Va=$r()-e.Y*e.R,e.B=!0,Lt(Rr(e)),e.dispatchEvent("p")))}},ws.Nb=function(e){ht(e).then(this.Bb,null,this)},ws.setSvgFromString=function(e){this.Bb(e)},ws.Bb=function(e){var t=document.createElement("div");t.innerHTML=e,e=ne(t),this.appendChild(e),this.Ub(e)},document.registerElement("ts-glyph",{prototype:ws})}();